const Mt="0.7.0";var N=(e=>(e.api_server_info="",e.user_list="user/",e.user_set_password="user/:id/set-password/",e.user_me="user/me/",e.user_profile="user/profile/",e.user_roles="user/roles/",e.user_token="user/token/",e.user_tokens="user/tokens/",e.user_simple_login="email/generate/",e.user_reset="auth/v1/auth/password/request",e.user_reset_set="auth/v1/auth/password/reset",e.auth_pwd_change="auth/v1/account/password/change",e.auth_login="auth/v1/auth/login",e.auth_login_2fa="auth/v1/auth/2fa/authenticate",e.auth_session="auth/v1/auth/session",e.auth_signup="auth/v1/auth/signup",e.auth_authenticators="auth/v1/account/authenticators",e.auth_recovery="auth/v1/account/authenticators/recovery-codes",e.auth_mfa_reauthenticate="auth/v1/auth/2fa/reauthenticate",e.auth_totp="auth/v1/account/authenticators/totp",e.auth_trust="auth/v1/auth/2fa/trust",e.auth_reauthenticate="auth/v1/auth/reauthenticate",e.auth_email="auth/v1/account/email",e.auth_email_verify="auth/v1/auth/email/verify",e.auth_providers="auth/v1/account/providers",e.auth_provider_redirect="auth/v1/auth/provider/redirect",e.auth_config="auth/v1/config",e.currency_list="currency/exchange/",e.currency_refresh="currency/refresh/",e.all_units="units/all/",e.task_overview="background-task/",e.task_pending_list="background-task/pending/",e.task_scheduled_list="background-task/scheduled/",e.task_failed_list="background-task/failed/",e.api_search="search/",e.settings_global_list="settings/global/",e.settings_user_list="settings/user/",e.news="news/",e.global_status="generic/status/",e.custom_state_list="generic/status/custom/",e.version="version/",e.license="license/",e.group_list="user/group/",e.owner_list="user/owner/",e.ruleset_list="user/ruleset/",e.content_type_list="contenttype/",e.icons="icons/",e.selectionlist_list="selection/",e.selectionlist_detail="selection/:id/",e.barcode="barcode/",e.barcode_history="barcode/history/",e.barcode_link="barcode/link/",e.barcode_unlink="barcode/unlink/",e.barcode_generate="barcode/generate/",e.data_output="data-output/",e.import_session_list="importer/session/",e.import_session_accept_fields="importer/session/:id/accept_fields/",e.import_session_accept_rows="importer/session/:id/accept_rows/",e.import_session_column_mapping_list="importer/column-mapping/",e.import_session_row_list="importer/row/",e.notifications_list="notifications/",e.notifications_readall="notifications/readall/",e.build_order_list="build/",e.build_order_issue="build/:id/issue/",e.build_order_cancel="build/:id/cancel/",e.build_order_hold="build/:id/hold/",e.build_order_complete="build/:id/finish/",e.build_output_complete="build/:id/complete/",e.build_output_create="build/:id/create-output/",e.build_output_scrap="build/:id/scrap-outputs/",e.build_output_delete="build/:id/delete-outputs/",e.build_order_auto_allocate="build/:id/auto-allocate/",e.build_order_allocate="build/:id/allocate/",e.build_order_consume="build/:id/consume/",e.build_order_deallocate="build/:id/unallocate/",e.build_line_list="build/line/",e.build_item_list="build/item/",e.bom_list="bom/",e.bom_item_validate="bom/:id/validate/",e.bom_validate="part/:id/bom-validate/",e.bom_substitute_list="bom/substitute/",e.part_list="part/",e.part_parameter_list="part/parameter/",e.part_parameter_template_list="part/parameter/template/",e.part_thumbs_list="part/thumbs/",e.part_pricing="part/:id/pricing/",e.part_requirements="part/:id/requirements/",e.part_serial_numbers="part/:id/serial-numbers/",e.part_scheduling="part/:id/scheduling/",e.part_pricing_internal="part/internal-price/",e.part_pricing_sale="part/sale-price/",e.part_stocktake_list="part/stocktake/",e.category_list="part/category/",e.category_tree="part/category/tree/",e.category_parameter_list="part/category/parameters/",e.related_part_list="part/related/",e.part_test_template_list="part/test-template/",e.company_list="company/",e.contact_list="company/contact/",e.address_list="company/address/",e.supplier_part_list="company/part/",e.supplier_part_pricing_list="company/price-break/",e.manufacturer_part_list="company/part/manufacturer/",e.manufacturer_part_parameter_list="company/part/manufacturer/parameter/",e.stock_location_list="stock/location/",e.stock_location_type_list="stock/location-type/",e.stock_location_tree="stock/location/tree/",e.stock_item_list="stock/",e.stock_tracking_list="stock/track/",e.stock_test_result_list="stock/test/",e.stock_transfer="stock/transfer/",e.stock_remove="stock/remove/",e.stock_return="stock/return/",e.stock_add="stock/add/",e.stock_count="stock/count/",e.stock_change_status="stock/change_status/",e.stock_merge="stock/merge/",e.stock_assign="stock/assign/",e.stock_status="stock/status/",e.stock_install="stock/:id/install/",e.stock_uninstall="stock/:id/uninstall/",e.stock_serialize="stock/:id/serialize/",e.stock_serial_info="stock/:id/serial-numbers/",e.generate_batch_code="generate/batch-code/",e.generate_serial_number="generate/serial-number/",e.purchase_order_list="order/po/",e.purchase_order_issue="order/po/:id/issue/",e.purchase_order_hold="order/po/:id/hold/",e.purchase_order_cancel="order/po/:id/cancel/",e.purchase_order_complete="order/po/:id/complete/",e.purchase_order_line_list="order/po-line/",e.purchase_order_extra_line_list="order/po-extra-line/",e.purchase_order_receive="order/po/:id/receive/",e.sales_order_list="order/so/",e.sales_order_issue="order/so/:id/issue/",e.sales_order_hold="order/so/:id/hold/",e.sales_order_cancel="order/so/:id/cancel/",e.sales_order_ship="order/so/:id/ship/",e.sales_order_complete="order/so/:id/complete/",e.sales_order_allocate="order/so/:id/allocate/",e.sales_order_allocate_serials="order/so/:id/allocate-serials/",e.sales_order_line_list="order/so-line/",e.sales_order_extra_line_list="order/so-extra-line/",e.sales_order_allocation_list="order/so-allocation/",e.sales_order_shipment_list="order/so/shipment/",e.sales_order_shipment_complete="order/so/shipment/:id/ship/",e.return_order_list="order/ro/",e.return_order_issue="order/ro/:id/issue/",e.return_order_hold="order/ro/:id/hold/",e.return_order_cancel="order/ro/:id/cancel/",e.return_order_complete="order/ro/:id/complete/",e.return_order_receive="order/ro/:id/receive/",e.return_order_line_list="order/ro-line/",e.return_order_extra_line_list="order/ro-extra-line/",e.label_list="label/template/",e.label_print="label/print/",e.report_list="report/template/",e.report_print="report/print/",e.report_snippet="report/snippet/",e.report_asset="report/asset/",e.plugin_list="plugins/",e.plugin_setting_list="plugins/:plugin/settings/",e.plugin_user_setting_list="plugins/:plugin/user-settings/",e.plugin_registry_status="plugins/status/",e.plugin_install="plugins/install/",e.plugin_reload="plugins/reload/",e.plugin_activate="plugins/:key/activate/",e.plugin_uninstall="plugins/:key/uninstall/",e.plugin_admin="plugins/:key/admin/",e.plugin_ui_features_list="plugins/ui/features/:feature_type/",e.plugin_locate_item="locate/",e.machine_types_list="machine/types/",e.machine_driver_list="machine/drivers/",e.machine_registry_status="machine/status/",e.machine_list="machine/",e.machine_restart="machine/:machine/restart/",e.machine_setting_list="machine/:machine/settings/",e.machine_setting_detail="machine/:machine/settings/:config_type/",e.attachment_list="attachment/",e.error_report_list="error-report/",e.project_code_list="project-code/",e.custom_unit_list="units/",e.notes_image_upload="notes-image-upload/",e.email_list="admin/email/",e.email_test="admin/email/test/",e.config_list="admin/config/",e))(N||{});window.LinguiCore.i18n;window.LinguiCore.i18n;N.part_list,N.part_parameter_template_list,N.part_test_template_list,N.supplier_part_list,N.manufacturer_part_list,N.category_list,N.stock_item_list,N.stock_location_list,N.stock_location_type_list,N.stock_tracking_list,N.build_order_list,N.build_line_list,N.build_item_list,N.company_list,N.project_code_list,N.purchase_order_list,N.purchase_order_line_list,N.sales_order_list,N.sales_order_shipment_list,N.return_order_list,N.return_order_line_list,N.address_list,N.contact_list,N.owner_list,N.user_list,N.group_list,N.import_session_list,N.label_list,N.report_list,N.plugin_list,N.content_type_list,N.selectionlist_list,N.error_report_list;function Rr(e){var t;const r=((t=e?.version)==null?void 0:t.inventree)||"";Mt!=r&&console.info(`Plugin version mismatch! Expected version ${Mt}, got ${r}`)}var Ye={exports:{}},xe={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt;function Sr(){if(jt)return xe;jt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,n,a){var l=null;if(a!==void 0&&(l=""+a),n.key!==void 0&&(l=""+n.key),"key"in n){a={};for(var s in n)s!=="key"&&(a[s]=n[s])}else a=n;return n=a.ref,{$$typeof:e,type:o,key:l,ref:n!==void 0?n:null,props:a}}return xe.Fragment=t,xe.jsx=r,xe.jsxs=r,xe}var Tt;function Mr(){return Tt||(Tt=1,Ye.exports=Sr()),Ye.exports}Mr();window.MantineCore.ActionIcon;window.MantineCore.Group;window.MantineCore.Tooltip;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jr={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=window.React.forwardRef,Ze=window.React.createElement,A=(e,t,r,o)=>{const n=Tr(({color:a="currentColor",size:l=24,stroke:s=2,title:c,className:u,children:d,...w},h)=>Ze("svg",{ref:h,...jr[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),strokeWidth:s,stroke:a,...w},[c&&Ze("title",{key:"svg-title"},c),...o.map(([g,m])=>Ze(g,m)),...Array.isArray(d)?d:[d]]));return n.displayName=`${r}`,n};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]];A("outline","plus","Plus",Pr);window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.MantineCore.Progress;window.MantineCore.Stack;window.MantineCore.Text;window.React.useMemo;window.LinguiCore.i18n;window.MantineCore.Badge;window.MantineCore.Skeleton;window.React.useState;window.React.useRef;window.React.useCallback;window.React.useEffect;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]];A("outline","search","Search",Ir);window.LinguiCore.i18n;window.MantineCore.CloseButton;window.MantineCore.TextInput;window.React.useEffect;window.React.useState;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]];A("outline","arrow-right","ArrowRight",Nr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]];A("outline","copy","Copy",$r);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]];A("outline","edit","Edit",Or);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]];A("outline","trash","Trash",zr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]];A("outline","circle-x","CircleX",Wr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]];A("outline","dots","Dots",Lr);window.LinguiCore.i18n;window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.React.useMemo;window.React.useState;/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Br={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=window.React.forwardRef,Ke=window.React.createElement,ee=(e,t,r,o)=>{const n=Dr(({color:a="currentColor",size:l=24,stroke:s=2,title:c,className:u,children:d,...w},h)=>Ke("svg",{ref:h,...Br[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),strokeWidth:s,stroke:a,...w},[c&&Ke("title",{key:"svg-title"},c),...o.map(([g,m])=>Ke(g,m)),...Array.isArray(d)?d:[d]]));return n.displayName=`${r}`,n};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]],Fr=ee("outline","adjustments","Adjustments",Er);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],qr=ee("outline","alert-circle","AlertCircle",Vr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Gr=ee("outline","alert-triangle","AlertTriangle",Hr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]],Qr=ee("outline","corner-down-right","CornerDownRight",Jr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],Xr=ee("outline","download","Download",Ur);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],gn=ee("outline","refresh","Refresh",Yr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Kr=ee("outline","search","Search",Zr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],eo=ee("outline","x","X",Ar),to=window.React.useRef,no=window.React.useEffect,ro=["mousedown","touchstart"];function oo(e,t,r){const o=to(null),n=ro;return no(()=>{const a=l=>{const{target:s}=l??{};if(Array.isArray(r)){const c=!document.body.contains(s)&&s?.tagName!=="HTML";r.every(d=>!!d&&!l.composedPath().includes(d))&&!c&&e(l)}else o.current&&!o.current.contains(s)&&e(l)};return n.forEach(l=>document.addEventListener(l,a)),()=>{n.forEach(l=>document.removeEventListener(l,a))}},[o,e,r]),o}const ao=window.React.useState,lo=window.React.useEffect;function so(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function io(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function co(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[o,n]=ao(r?t:io(e));return lo(()=>{try{const a=window.matchMedia(e);return n(a.matches),so(a,l=>n(l.matches))}catch{return}},[e]),o||!1}const uo=window.React.useEffect;function Pt(e,t,r){uo(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}const Ae=window.React.useCallback,mo=window.React.useState,It=window.React.useEffect;function ho(e,t="use-local-storage"){try{return JSON.stringify(e)}catch{throw new Error(`@mantine/hooks ${t}: Failed to serialize the value`)}}function go(e){try{return e&&JSON.parse(e)}catch{return e}}function wo(e){return{getItem:n=>{try{return window[e].getItem(n)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(n,a)=>{try{window[e].setItem(n,a)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:n=>{try{window[e].removeItem(n)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function fo(e,t){const r="mantine-local-storage",{getItem:o,setItem:n,removeItem:a}=wo(e);return function({key:s,defaultValue:c,getInitialValueInEffect:u=!0,sync:d=!0,deserialize:w=go,serialize:h=g=>ho(g,t)}){const g=Ae(f=>{let y;try{y=typeof window>"u"||!(e in window)||window[e]===null||!!f}catch{y=!0}if(y)return c;const b=o(s);return b!==null?w(b):c},[s,c]),[m,p]=mo(g(u)),C=Ae(f=>{f instanceof Function?p(y=>{const b=f(y);return n(s,h(b)),queueMicrotask(()=>{window.dispatchEvent(new CustomEvent(r,{detail:{key:s,value:f(y)}}))}),b}):(n(s,h(f)),window.dispatchEvent(new CustomEvent(r,{detail:{key:s,value:f}})),p(f))},[s]),k=Ae(()=>{a(s),p(c),window.dispatchEvent(new CustomEvent(r,{detail:{key:s,value:c}}))},[s,c]);return Pt("storage",f=>{d&&f.storageArea===window[e]&&f.key===s&&p(w(f.newValue??void 0))}),Pt(r,f=>{d&&f.detail.key===s&&p(f.detail.value)}),It(()=>{c!==void 0&&m===void 0&&C(c)},[c,m,C]),It(()=>{const f=g();f!==void 0&&C(f)},[s]),[m===void 0?c:m,C,k]}}function ft(e){return fo("localStorage","use-local-storage")(e)}const po=window.React.useCallback;function Nt(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function _o(...e){const t=new Map;return r=>{if(e.forEach(o=>{const n=Nt(o,r);n&&t.set(o,n)}),t.size>0)return()=>{e.forEach(o=>{const n=t.get(o);n&&typeof n=="function"?n():Nt(o,null)}),t.clear()}}}function $t(...e){return po(_o(...e),e)}const bo=window.React.useState,et=window.React.useCallback;function Co(e=!1,t={}){const[r,o]=bo(e),n=et(()=>{o(s=>s||(t.onOpen?.(),!0))},[t.onOpen]),a=et(()=>{o(s=>s&&(t.onClose?.(),!1))},[t.onClose]),l=et(()=>{r?a():n()},[a,n,r]);return[r,{open:n,close:a,toggle:l}]}const xo=window.React.useRef,Ot=window.React.useCallback,vo=window.React.useEffect;function zt(e,t,r={autoInvoke:!1}){const o=xo(null),n=Ot((...l)=>{o.current||(o.current=window.setTimeout(()=>{e(l),o.current=null},t))},[t]),a=Ot(()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]);return vo(()=>(r.autoInvoke&&n(),a),[a,n]),{start:n,clear:a}}function wn(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=wn(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function E(){for(var e,t,r=0,o="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=wn(e))&&(o&&(o+=" "),o+=t);return o}var tt={exports:{}},ve={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt;function ko(){if(Wt)return ve;Wt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,n,a){var l=null;if(a!==void 0&&(l=""+a),n.key!==void 0&&(l=""+n.key),"key"in n){a={};for(var s in n)s!=="key"&&(a[s]=n[s])}else a=n;return n=a.ref,{$$typeof:e,type:o,key:l,ref:n!==void 0?n:null,props:a}}return ve.Fragment=t,ve.jsx=r,ve.jsxs=r,ve}var Lt;function yo(){return Lt||(Lt=1,tt.exports=ko()),tt.exports}var i=yo();const Ro=window.MantineCore.Box,So=window.MantineCore.Table,nt=window.React.useCallback,Mo=window.React.useEffect,jo=window.React.useLayoutEffect,To=window.React.useMemo,rt=window.React.useRef,Po=window.React.useState,Bt=window.React.useState,Io=window.MantineCore.createSafeContext;var[No,pt]=Io("useDataTableColumnsContext must be used within DataTableColumnProvider"),Dt=e=>{let{children:t,columnsOrder:r,setColumnsOrder:o,columnsToggle:n,setColumnsToggle:a,resetColumnsOrder:l,resetColumnsToggle:s,setColumnWidth:c,setMultipleColumnWidths:u,resetColumnsWidth:d}=e,[w,h]=Bt(""),[g,m]=Bt("");return i.jsx(No,{value:{sourceColumn:w,setSourceColumn:h,targetColumn:g,setTargetColumn:m,columnsToggle:n,setColumnsToggle:a,swapColumns:()=>{if(!r||!o||!w||!g)return;let p=r.indexOf(w),C=r.indexOf(g);if(p!==-1&&C!==-1){let k=r.splice(p,1)[0];r.splice(C,0,k),o([...r])}},resetColumnsOrder:l,resetColumnsToggle:s,setColumnWidth:c,setMultipleColumnWidths:u,resetColumnsWidth:d},children:t})};function $o(){return i.jsx("tr",{className:"mantine-datatable-empty-row",children:i.jsx("td",{})})}const Oo=window.MantineCore.Center,zo=window.MantineCore.Text;function Wo(){return i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74"}),i.jsx("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6"}),i.jsx("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4"}),i.jsx("path",{d:"M3 3l18 18"})]})}function Lo({icon:e,text:t,active:r,children:o}){return i.jsx(Oo,{className:"mantine-datatable-empty-state","data-active":r||void 0,children:o||i.jsxs(i.Fragment,{children:[e||i.jsx("div",{className:"mantine-datatable-empty-state-icon",children:i.jsx(Wo,{})}),i.jsx(zo,{component:"div",size:"sm",c:"dimmed",children:t})]})})}const Bo=window.MantineCore.TableTfoot,Do=window.MantineCore.TableTr,Eo=window.MantineCore.TableTh;window.React.useCallback;window.React.useRef;window.React.useState;function Fo({key:e,columns:t=[],getInitialValueInEffect:r=!0}){function o(w,h){let g=[];return w.forEach(m=>{h.find(p=>p.accessor===m)&&g.push(m)}),h.forEach(m=>{g.includes(m.accessor)||g.push(m.accessor)}),g}let n=t&&t.map(w=>w.accessor)||[],[a,l]=ft({key:e?`${e}-columns-order`:"",defaultValue:e?n:void 0,getInitialValueInEffect:r});function s(w){e&&l(w)}let c=()=>{s(n)};if(!e)return{columnsOrder:a,setColumnsOrder:s,resetColumnsOrder:c};let u=o(a,t),d=JSON.stringify(a);return JSON.stringify(u)!==d&&s(u),{columnsOrder:u,setColumnsOrder:s,resetColumnsOrder:c}}const le=window.React.useCallback,ot=window.React.useEffect,Ie=window.React.useMemo,Et=window.React.useRef,Ft=window.React.useState;function Vo({key:e,columns:t=[],getInitialValueInEffect:r=!0,headerRef:o,onFixedLayoutChange:n}){let a=Et(!1),l=Et({}),[s,c]=Ft(!0),u=Ie(()=>t.some(_=>_.resizable&&!_.hidden&&_.accessor!=="__selection__"),[t]),d=Ie(()=>t.filter(_=>_.resizable&&!_.hidden&&_.accessor!=="__selection__"),[t]),w=Ie(()=>d.some(_=>_.width===void 0||_.width===""||_.width==="initial"),[d]),h=le(()=>t.filter(_=>_.accessor!=="__selection__").map(_=>({[_.accessor]:_.width??"auto"})),[t]),[g,m]=ft({key:e?`${e}-columns-width`:"",defaultValue:e?h():void 0,getInitialValueInEffect:!1}),[p,C]=Ft(()=>h());ot(()=>{c(!1)},[]);let k=le(()=>{if(!o?.current||s)return{};let _=o.current,M=Array.from(_.querySelectorAll("th[data-accessor]")),P={};return M.forEach(T=>{let I=T.getAttribute("data-accessor");if(!I||I==="__selection__")return;let R=d.find(x=>x.accessor===I);if(R&&(R.width===void 0||R.width===""||R.width==="initial")){let x=T.getBoundingClientRect();P[I]=Math.round(x.width)}}),P},[o,d,s]),f=le(_=>{let M=_.filter(T=>T.accessor!=="__selection__"),P=p.map(T=>{let I=Object.keys(T)[0],R=M.find(x=>x.accessor===I);return R?{[I]:R.width}:T});C(P),e&&m(P)},[p,e,m]),y=le(_=>{f(_)},[f]),b=le(()=>{if(!(!o?.current||!n||s))if(w)n(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{let _=k();l.current={...l.current,..._};let M=t.filter(P=>P.accessor!=="__selection__").map(P=>{let T=P.accessor,I=g?.find(x=>Object.keys(x)[0]===T);if(I&&I[T]!=="auto")return{[T]:I[T]};let R=_[T];return R?{[T]:`${R}px`}:{[T]:P.width??"auto"}});C(M),setTimeout(()=>{n(!0),a.current=!0},10)})});else{let _=t.filter(M=>M.accessor!=="__selection__").map(M=>({[M.accessor]:M.width??"auto"}));C(_),n(!0),a.current=!0}},[o,n,s,w,k,t,g]),j=b;ot(()=>{if(!u||!n||s){n?.(!1);return}a.current=!1;let _=setTimeout(()=>{b()},50);return()=>clearTimeout(_)},[u,n,s,b]),ot(()=>{s||!e||!r||g&&g.length>0&&C(g)},[s,e,r,g]);let S=le(()=>{e&&m(h()),l.current={},a.current=!1,n&&(n(!1),setTimeout(()=>{b()},10))},[e,m,h,n,b]),v=le((_,M)=>{f([{accessor:_,width:M}])},[f]),z=Ie(()=>u?p.filter(_=>{let M=Object.keys(_)[0];return d.some(P=>P.accessor===M)}).every(_=>{let M=Object.values(_)[0];return M==="auto"||M==="initial"}):!1,[u,p,d]);return{columnsWidth:p,setColumnsWidth:f,setColumnWidth:v,setMultipleColumnWidths:y,resetColumnsWidth:S,hasResizableColumns:u,allResizableWidthsInitial:z,measureAndSetColumnWidths:j}}const qo=window.React.useMemo;function Ho({key:e,columns:t=[],getInitialValueInEffect:r=!0}){function o(w,h){let g=[];return w.forEach(m=>{h.find(p=>p.accessor===m.accessor)&&g.push(m)}),h.forEach(m=>{g.find(p=>p.accessor===m.accessor)||g.push({accessor:m.accessor,defaultToggle:m.defaultToggle||!0,toggleable:m.toggleable,toggled:m.defaultToggle===void 0?!0:m.defaultToggle})}),g}let n=t&&t.map(w=>({accessor:w.accessor,defaultToggle:w.defaultToggle||!0,toggleable:w.toggleable,toggled:w.defaultToggle===void 0?!0:w.defaultToggle})),[a,l]=ft({key:e?`${e}-columns-toggle`:"",defaultValue:e?n:void 0,getInitialValueInEffect:r});function s(w){e&&l(w)}let c=()=>{s(n)};if(!e)return{columnsToggle:a,setColumnsToggle:s,resetColumnsToggle:c};let u=o(a,t),d=JSON.stringify(a);return JSON.stringify(u)!==d&&s(u),{columnsToggle:u,setColumnsToggle:s,resetColumnsToggle:c}}var Go=({key:e,columns:t=[],getInitialValueInEffect:r=!0,headerRef:o,scrollViewportRef:n,onFixedLayoutChange:a})=>{let{columnsOrder:l,setColumnsOrder:s,resetColumnsOrder:c}=Fo({key:e,columns:t,getInitialValueInEffect:r}),{columnsToggle:u,setColumnsToggle:d,resetColumnsToggle:w}=Ho({key:e,columns:t,getInitialValueInEffect:r}),{columnsWidth:h,setColumnsWidth:g,setColumnWidth:m,setMultipleColumnWidths:p,resetColumnsWidth:C,hasResizableColumns:k,allResizableWidthsInitial:f,measureAndSetColumnWidths:y}=Vo({key:e,columns:t,getInitialValueInEffect:r,headerRef:o,onFixedLayoutChange:a});return{effectiveColumns:qo(()=>l?l.map(b=>t.find(j=>j.accessor===b)).map(b=>({...b,hidden:b?.hidden||!u.find(j=>j.accessor===b?.accessor)?.toggled})).map(b=>b?.accessor==="__selection__"?b:{...b,width:h.find(j=>j[b?.accessor])?.[b?.accessor]}):t,[t,l,u,h]),setColumnsOrder:s,columnsOrder:l,resetColumnsOrder:c,columnsToggle:u,setColumnsToggle:d,resetColumnsToggle:w,columnsWidth:h,setColumnsWidth:g,setColumnWidth:m,setMultipleColumnWidths:p,resetColumnsWidth:C,hasResizableColumns:k,allResizableWidthsInitial:f,measureAndSetColumnWidths:y}};const Jo=window.MantineCore.rem,Qo=window.React.useCallback,at=window.React.useEffect,K=window.React.useRef,Uo=window.React.useEffect,Xo=window.React.useLayoutEffect;var Vt=typeof window<"u"?Xo:Uo;const Yo=window.React.useRef;function qt(e){let t=Yo(e);return t.current=e,t}var Ht="--mantine-datatable-header-height",Gt="--mantine-datatable-footer-height",Jt="--mantine-datatable-selection-column-width",Qt="--mantine-datatable-last-row-border-bottom";function Q(e,t,r){e?.style.setProperty(t,r)}function gt(e){let t=e.borderBoxSize?.[0]||e.contentBoxSize?.[0];return t?{width:t.inlineSize,height:t.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}}function lt(e,t,r){if(e){let o=new ResizeObserver(n=>{let a=n[0];a&&t(gt(a))});return o.observe(e),()=>{o.disconnect(),r()}}}function Zo({scrollCallbacks:e,withRowBorders:t}){let r={root:K(null),table:K(null),scrollViewport:K(null),header:K(null),footer:K(null),selectionColumnHeader:K(null)},{root:o,table:n,scrollViewport:a,header:l,footer:s,selectionColumnHeader:c}=r,u=qt({withRowBorders:t}),d=qt(e),w=K(()=>{}),h=K(()=>{}),g=Qo(m=>{d.current.onScroll?.(m),w.current()},[]);return at(()=>lt(l.current,m=>{Q(o.current,Ht,`${m.height}px`)},()=>Q(o.current,Ht,"0")),[l.current]),at(()=>lt(s.current,m=>{Q(o.current,Gt,`${m.height}px`)},()=>Q(o.current,Gt,"0")),[s.current]),at(()=>lt(c.current,m=>{Q(o.current,Jt,`${m.width}px`)},()=>Q(o.current,Jt,"0")),[c.current]),Vt(()=>{if(typeof window===void 0)return;let m={top:!0,bottom:!0,left:!0,right:!0},p={width:0,height:0},C={width:0,height:0};function k(S,v){let z=m[S];return m[S]=v,Q(o.current,`--mantine-datatable-${S}-shadow-opacity`,v?"0":"1"),z}function f(){let S=p.height-C.height,v=S<0;Q(o.current,"--mantine-datatable-footer-position",v?"relative":"sticky"),Q(o.current,"--mantine-datatable-footer-bottom",v?`${S}px`:"0")}function y(){u.current.withRowBorders&&p.height<C.height?Q(o.current,Qt,`${Jo("1px")} solid var(--mantine-datatable-border-color)`):Q(o.current,Qt,"unset")}h.current=y;function b(){let S=d.current,v=a.current,z=v?.scrollTop??0,_=v?.scrollLeft??0,M=z===0,P=p.height-z-C.height<1,T=k("top",M),I=k("bottom",P);M&&M!==T&&S.onScrollToTop?.(),P&&P!==I&&S.onScrollToBottom?.();let R=v?getComputedStyle(v).direction==="rtl":!1,x=(v?.scrollWidth??0)-C.width,$,B;if(R){let O=Math.abs(_);B=O<1,$=x-O<1}else $=_<1,B=p.width-_-C.width<1;let q=k("left",$),D=k("right",B);$&&$!==q&&S.onScrollToLeft?.(),B&&B!==D&&S.onScrollToRight?.()}w.current=b;let j=new ResizeObserver(S=>{for(let v of S)switch(v.target.tagName){case"TABLE":{p=gt(v);break}case"DIV":{C=gt(v);break}}b(),f(),y()});return j.observe(n.current),j.observe(a.current),()=>{j.disconnect()}},[]),Vt(()=>{h.current()},[t]),{refs:r,onScroll:g}}const Ko=window.React.useEffect,Ao=window.React.useState;function ea(e){let[t,r]=Ao(null),o=e?.join(":")||"";return Ko(()=>{r(null)},[o]),{lastSelectionChangeIndex:t,setLastSelectionChangeIndex:r}}const ta=window.React.useEffect,na=window.React.useRef,ra=window.React.useState;function oa(e,t){let r=()=>{t(e.map(n=>n.matches))},o=e.map(n=>{try{return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}catch{return n.addListener(r),()=>n.removeListener(r)}});return()=>{o.forEach(n=>n())}}function aa(e,t){return t||(typeof window<"u"&&"matchMedia"in window?e.map(r=>window.matchMedia(r).matches):e.map(()=>!1))}function la(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){let[o,n]=ra(r?t:aa(e,t)),a=na(null);return ta(()=>{if("matchMedia"in window)return a.current=e.map(l=>window.matchMedia(l)),n(a.current.map(l=>l.matches)),oa(a.current,l=>{n(l)})},[e]),o}const sa=window.MantineCore.useMantineTheme,Ut=window.React.useMemo;function ia(e){let t=sa(),r=Ut(()=>e.map(n=>(typeof n=="function"?n(t):n)??""),[e,t]),o=Ut(()=>e.map(()=>!0),[e]);return la(r,o)}const ca=window.MantineCore.useMantineTheme;function Oe(e){let t=ca(),r=typeof e=="function"?e(t):e;return co(r||"",!0)}const ua=window.React.useState;function _t(e){let t=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}function da(e,t,r){return e.filter(o=>!t.map(r).includes(r(o)))}function st(e,t){return e.filter((r,o,n)=>o===n.findIndex(a=>t(r)===t(a)))}function fn(e,t){return t?t.match(/([^[.\]])+/g).reduce((r,o)=>r&&r[o],e):void 0}function H(e,t){return typeof t=="string"?fn(e,t):t(e)}function pn(e){return!e||e.length===0?0:Math.max(...e.map(t=>t.groups&&t.groups.length>0?1+pn(t.groups):1))}function bt(e){let t=[];for(let r of e)r.columns&&r.columns.length>0?t.push(...r.columns.filter(o=>o!=null)):r.groups&&r.groups.length>0&&t.push(...bt(r.groups));return t.filter(r=>r!=null)}function wt(e,t){return e.columns&&e.columns.length>0?e.columns.filter((r,o)=>r.hidden?!1:t?t[o]!==!1:!0).length:e.groups&&e.groups.length>0?e.groups.reduce((r,o)=>r+wt(o,t),0):0}function _n(e,t,r=0){if(r===t)return[...e];let o=[];for(let n of e)n.groups&&n.groups.length>0&&o.push(..._n(n.groups,t,r+1));return o}function ma(e,t,r){return r?!e||t:!1}function ha({rowExpansion:e,records:t,idAccessor:r}){let o=[];if(e&&t){let{trigger:s,allowMultiple:c,initiallyExpanded:u}=e;t&&s==="always"?o=t.map(d=>H(d,r)):u&&(o=t.filter((d,w)=>u({record:d,index:w})).map(d=>H(d,r)),c||(o=[o[0]]))}let n,a,l=ua(o);if(e){let{expandable:s,trigger:c,allowMultiple:u,collapseProps:d,content:w}=e;e.expanded?{recordIds:n,onRecordIdsChange:a}=e.expanded:[n,a]=l;let h=g=>a?.(n.filter(m=>m!==H(g,r)));return{expandOnClick:c!=="always"&&c!=="never",isRowExpanded:g=>c==="always"?!0:n.includes(H(g,r)),isExpandable:({record:g,index:m})=>s?s({record:g,index:m}):!0,expandRow:g=>{let m=H(g,r);a?.(u?[...n,m]:[m])},collapseRow:h,collapseProps:d,content:({record:g,index:m})=>()=>w({record:g,index:m,collapse:()=>h(g)})}}}const ga=window.React.useEffect,Xt=window.React.useState;function wa(e,t){let[r,o]=Xt(e),[n,a]=Xt(e),l=zt(()=>o(!0),0),s=zt(()=>a(!1),t||200);return ga(()=>{e?(s.clear(),a(!0),l.start()):(l.clear(),o(!1),s.start())},[l,s,e]),{expanded:r,visible:n}}var Ct="mantine-datatable-nowrap",xt="mantine-datatable-ellipsis",me="mantine-datatable-pointer-cursor",bn="mantine-datatable-context-menu-cursor",fa="mantine-datatable-text-selection-disabled",ze="mantine-datatable-text-align-left",We="mantine-datatable-text-align-center",Le="mantine-datatable-text-align-right";function pa({className:e,style:t,visibleMediaQuery:r,title:o,noWrap:n,ellipsis:a,textAlign:l,width:s}){return Oe(r)?i.jsx(Eo,{className:E({[Ct]:n||a,[xt]:a,[ze]:l==="left",[We]:l==="center",[Le]:l==="right"},e),style:[{width:s,minWidth:s,maxWidth:s},t],children:o}):null}const _a=window.MantineCore.TableTh;function ba({shadowVisible:e}){return i.jsx(_a,{className:"mantine-datatable-footer-selector-placeholder-cell","data-shadow-visible":e||void 0})}function Ca({className:e,style:t,columns:r,defaultColumnProps:o,selectionVisible:n,selectorCellShadowVisible:a,ref:l}){return i.jsx(Bo,{ref:l,className:E("mantine-datatable-footer",e),style:t,children:i.jsxs(Do,{children:[n&&i.jsx(ba,{shadowVisible:a}),r.map(({hidden:s,...c})=>{if(s)return null;let{accessor:u,visibleMediaQuery:d,textAlign:w,width:h,footer:g,footerClassName:m,footerStyle:p,noWrap:C,ellipsis:k}={...o,...c};return i.jsx(pa,{className:m,style:p,visibleMediaQuery:d,textAlign:w,width:h,title:g,noWrap:C,ellipsis:k},u)})]})})}const xa=window.MantineCore.Checkbox,va=window.MantineCore.Group,ka=window.MantineCore.Popover,ya=window.MantineCore.PopoverDropdown,Ra=window.MantineCore.PopoverTarget,Sa=window.MantineCore.Stack,Ma=window.MantineCore.TableThead,Yt=window.MantineCore.TableTr,ja=window.React.useState,Ta=window.MantineCore.TableTh,Ne=window.React.useMemo;function Pa({group:{id:e,columns:t,groups:r,title:o,textAlign:n,className:a,style:l},maxDepth:s,currentDepth:c,previousGroups:u,isLastGroup:d,withColumnBorders:w=!1,totalTableColumns:h}){let g=Ne(()=>t&&t.length>0?t:r&&r.length>0?bt([{id:e,columns:t,groups:r}]):[],[t,r,e]),m=Ne(()=>g.map(({visibleMediaQuery:j})=>j),[g]),p=ia(m),C=Ne(()=>wt({columns:t,groups:r},p),[e,t,r,p]),k=Ne(()=>u.reduce((j,S)=>j+wt(S,p),0),[u,p]),f=r&&r.length>0?1:s-c,y=k+C<h,b=ma(d,y,w);return C>0?i.jsx(Ta,{colSpan:C,rowSpan:f>1?f:void 0,className:E("mantine-datatable-column-group-header-cell",{[ze]:n==="left",[We]:n==="center",[Le]:n==="right","mantine-datatable-column-group-header-cell--needs-border":b},a),style:l,children:o??_t(e)}):null}const Zt=window.MantineCore.ActionIcon,Ia=window.MantineCore.Box,$e=window.MantineCore.Center,Na=window.MantineCore.Flex,$a=window.MantineCore.Group,Oa=window.MantineCore.TableTh,za=window.React.useRef,Wa=window.React.useState,La=window.MantineCore.ActionIcon,Ba=window.MantineCore.Popover,Da=window.MantineCore.PopoverDropdown,Ea=window.MantineCore.PopoverTarget;function Fa(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})]})}function Va(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z",strokeWidth:"0",fill:"currentColor"})]})}function qa({children:e,isActive:t,filterPopoverProps:r,filterPopoverDisableClickOutside:o}){let[n,{close:a,toggle:l}]=Co(!1),s=t?Va:Fa,c=oo(a);return o&&(c=void 0),i.jsxs(Ba,{withArrow:!0,shadow:"md",opened:n,onClose:a,trapFocus:!0,...r,children:[i.jsx(Ea,{children:i.jsx(La,{className:"mantine-datatable-header-cell-filter-action-icon","data-active":t||void 0,size:"sm",variant:"default",onClick:u=>{u.preventDefault(),l()},onKeyDown:u=>u.stopPropagation(),children:i.jsx(s,{})})}),i.jsx(Da,{ref:c,onClick:u=>u.stopPropagation(),onKeyDown:u=>u.stopPropagation(),children:typeof e=="function"?e({close:a}):e})]})}const Ha=window.MantineCore.useDirection,Kt=window.React.useCallback,At=window.React.useRef,Ga=window.React.useState;var Ja=e=>{let{accessor:t,columnRef:r}=e,[o,n]=Ga(!1),a=At(0),l=At({current:0,next:0}),{dir:s}=Ha(),c=s==="rtl",{setMultipleColumnWidths:u}=pt(),d=Kt(h=>{if(h.preventDefault(),h.stopPropagation(),!r.current)return;let g=r.current,m=g.nextElementSibling;for(;m;){let j=m.getAttribute("data-accessor");if(j&&j!=="__selection__")break;m=m.nextElementSibling}if(!m)return;let p=m.getAttribute("data-accessor");if(!p)return;let C=p==="__selection__";n(!0),a.current=h.clientX;let k=g.offsetWidth,f=m.offsetWidth;l.current={current:k,next:f};let y=j=>{if(!r.current)return;let S=r.current,v=S.nextElementSibling;if(!v)return;let z=j.clientX-a.current;c&&(z=-z);let _=50,M=l.current.current-_,P=l.current.next-_,T=Math.max(-M,Math.min(z,P)),I=l.current.current+T,R=l.current.next-T;S.style.width=`${I}px`,v.style.width=`${R}px`,S.style.minWidth=`${I}px`,S.style.maxWidth=`${I}px`,v.style.minWidth=`${R}px`,v.style.maxWidth=`${R}px`},b=()=>{if(!r.current)return;let j=r.current,S=j.nextElementSibling;n(!1),document.body.style.cursor="initial",document.body.style.userSelect="initial";let v=parseInt(j.style.width)||j.offsetWidth,z=S?parseInt(S.style.width)||S.offsetWidth:0,_=[{accessor:t,width:`${v}px`}];if(S&&!C){let M=S.getAttribute("data-accessor");M&&_.push({accessor:M,width:`${z}px`})}setTimeout(()=>{u(_)},0),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)};document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",y),document.addEventListener("mouseup",b)},[t,r,c,u]),w=Kt(()=>{if(!r.current)return;let h=r.current,g=h.nextElementSibling;h.style.width="",h.style.minWidth="",h.style.maxWidth="";let m=[{accessor:t,width:"auto"}];if(g){g.style.width="",g.style.minWidth="",g.style.maxWidth="";let p=g.getAttribute("data-accessor");p&&p!=="__selection__"&&m.push({accessor:p,width:"auto"})}setTimeout(()=>{u(m)},0)},[t,r,u]);return i.jsx("div",{className:"mantine-datatable-header-resizable-handle",style:{cursor:o?"col-resize":void 0},onMouseDown:d,onDoubleClick:w,onClick:h=>h.stopPropagation(),title:"Drag to resize column, double-click to reset"})};function Qa(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M12 5l0 14"}),i.jsx("path",{d:"M16 9l-4 -4"}),i.jsx("path",{d:"M8 9l4 -4"})]})}function Ua(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M8 7l4 -4l4 4"}),i.jsx("path",{d:"M8 17l4 4l4 -4"}),i.jsx("path",{d:"M12 3l0 18"})]})}function Xa(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function Ya(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M18 6l-12 12"}),i.jsx("path",{d:"M6 6l12 12"})]})}function Za({className:e,style:t,accessor:r,visibleMediaQuery:o,title:n,sortable:a,draggable:l,toggleable:s,resizable:c,sortIcons:u,textAlign:d,width:w,sortStatus:h,onSortStatusChange:g,filter:m,filterPopoverProps:p,filterPopoverDisableClickOutside:C,filtering:k,sortKey:f}){let{setSourceColumn:y,setTargetColumn:b,swapColumns:j,setColumnsToggle:S}=pt(),[v,z]=Wa(!1),_=za(null);if(!Oe(o))return null;let M=n??_t(r),P=typeof M=="string"?M:void 0,T=a&&g?D=>{D?.defaultPrevented||g({sortKey:f,columnAccessor:r,direction:h?.columnAccessor===r?h.direction==="asc"?"desc":"asc":h?.direction??"asc"})}:void 0,I=D=>{D.stopPropagation(),y(r),z(!1)},R=D=>{D.preventDefault(),b(r),z(!0)},x=()=>{b(r),z(!1),j()},$=()=>{z(!0)},B=()=>{z(!1)},q=D=>{D.stopPropagation(),S(O=>O.map(V=>V.accessor===r?{...V,toggled:!1}:V))};return i.jsxs(Oa,{"data-accessor":r,className:E({"mantine-datatable-header-cell-sortable":a,"mantine-datatable-header-cell-toggleable":s,"mantine-datatable-header-cell-resizable":c},e),style:[{width:w,...c?{}:{minWidth:w,maxWidth:w}},t],role:a?"button":void 0,tabIndex:a?0:void 0,onClick:T,onKeyDown:D=>D.key==="Enter"&&T?.(),ref:_,children:[i.jsxs($a,{className:"mantine-datatable-header-cell-sortable-group",justify:"space-between",wrap:"nowrap",children:[i.jsxs(Na,{align:"center",w:"100%",className:E({"mantine-datatable-header-cell-draggable":l,"mantine-datatable-header-cell-drag-over":v}),draggable:l,onDragStart:l?I:void 0,onDragEnter:l?$:void 0,onDragOver:l?R:void 0,onDrop:l?x:void 0,onDragLeave:l?B:void 0,children:[l?i.jsx($e,{role:"img","aria-label":"Drag column",children:i.jsx(Zt,{className:"mantine-datatable-header-cell-draggable-action-icon",variant:"subtle",size:"xs",onClick:D=>{D.stopPropagation()},children:i.jsx(Xa,{})})}):null,i.jsx(Ia,{className:E("mantine-datatable-header-cell-sortable-text",{[ze]:d==="left",[We]:d==="center",[Le]:d==="right"},Ct,xt),title:P,children:M})]}),s?i.jsx($e,{className:"mantine-datatable-header-cell-toggleable-icon",role:"img","aria-label":"Toggle column",children:i.jsx(Zt,{size:"xs",variant:"light",onClick:q,children:i.jsx(Ya,{})})}):null,a||h?.columnAccessor===r?i.jsx(i.Fragment,{children:h?.columnAccessor===r?i.jsx($e,{className:E("mantine-datatable-header-cell-sortable-icon",{"mantine-datatable-header-cell-sortable-icon-reversed":h.direction==="desc"}),role:"img","aria-label":`Sorted ${h.direction==="desc"?"descending":"ascending"}`,children:u?.sorted||i.jsx(Qa,{})}):i.jsx($e,{className:"mantine-datatable-header-cell-sortable-unsorted-icon",role:"img","aria-label":"Not sorted",children:u?.unsorted||i.jsx(Ua,{})})}):null,m?i.jsx(qa,{filterPopoverProps:p,isActive:!!k,filterPopoverDisableClickOutside:C,children:m}):null]}),c&&r!=="__selection__"?i.jsx(Ja,{accessor:r,columnRef:_}):null]})}const Ka=window.MantineCore.Checkbox,Aa=window.MantineCore.TableTh;function el({className:e,style:t,trigger:r,shadowVisible:o,checked:n,indeterminate:a,checkboxProps:l,onChange:s,rowSpan:c,ref:u}){let d=!l.disabled;return i.jsx(Aa,{ref:u,className:E("mantine-datatable-header-selector-cell",{[me]:r==="cell"&&d},e),style:t,rowSpan:c,"data-shadow-visible":o||void 0,"data-accessor":"__selection__",onClick:r==="cell"&&d?s:void 0,children:i.jsx(Ka,{classNames:d?{input:me}:void 0,checked:n,indeterminate:a,onChange:s,...l,disabled:!(s||l.onChange)||l.disabled})})}function tl({selectionColumnHeaderRef:e,className:t,style:r,sortStatus:o,sortIcons:n,onSortStatusChange:a,columns:l,defaultColumnProps:s,groups:c,selectionTrigger:u,selectionVisible:d,selectionChecked:w,selectionIndeterminate:h,onSelectionChange:g,selectionCheckboxProps:m,selectorCellShadowVisible:p,selectionColumnClassName:C,selectionColumnStyle:k,withColumnBorders:f=!1,ref:y}){let b=c?pn(c):0,j=b>0?b+1:1,S=d?i.jsx(el,{ref:e,className:C,style:k,trigger:u,shadowVisible:p,checked:w,indeterminate:h,checkboxProps:m,onChange:g,rowSpan:c?j:void 0}):null,{columnsToggle:v,setColumnsToggle:z}=pt(),[_,M]=ja(!1),P=l.some(R=>R.toggleable),T=P?Object.fromEntries(l.map(({accessor:R,title:x})=>[R,x??_t(String(R))])):void 0,I=i.jsxs(Ma,{className:E("mantine-datatable-header",t),style:r,ref:y,onContextMenu:P?R=>{R.preventDefault(),M(x=>!x)}:void 0,children:[c&&Array.from({length:b},(R,x)=>{let $=_n(c,x);return i.jsxs(Yt,{children:[x===0&&S,$.map((B,q)=>i.jsx(Pa,{group:B,maxDepth:b,currentDepth:x,previousGroups:$.slice(0,q),isLastGroup:q===$.length-1,withColumnBorders:f,totalTableColumns:l.length},B.id))]},`group-depth-${x}`)}),i.jsxs(Yt,{children:[!c&&S,l.map(({hidden:R,...x},$)=>{if(R)return null;let{accessor:B,visibleMediaQuery:q,textAlign:D,width:O,title:V,sortable:Y,draggable:Z,toggleable:te,resizable:he,titleClassName:ne,titleStyle:ge,filter:we,filterPopoverProps:X,filterPopoverDisableClickOutside:Be,filtering:De,sortKey:Ee}={...s,...x};return i.jsx(Za,{accessor:B,className:ne,style:ge,visibleMediaQuery:q,textAlign:D,width:O,title:V,sortable:Y,draggable:Z,toggleable:te,resizable:he&&$<l.length-1,sortStatus:o,sortIcons:n,sortKey:Ee,onSortStatusChange:a,filter:we,filterPopoverProps:X,filterPopoverDisableClickOutside:Be,filtering:De},B)})]})]});return P?i.jsxs(ka,{position:"bottom",withArrow:!0,shadow:"md",opened:_,onChange:M,children:[i.jsx(Ra,{children:I}),i.jsx(ya,{children:i.jsx(Sa,{children:v.filter(R=>R.toggleable).map(R=>i.jsx(va,{children:i.jsx(xa,{classNames:{label:"mantine-datatable-header-column-toggle-checkbox-label"},size:"xs",label:T[R.accessor],checked:R.toggled,onChange:x=>{z(v.map($=>$.accessor===R.accessor?{...$,toggled:x.currentTarget.checked}:$))}})},R.accessor))})})]}):I}const nl=window.MantineCore.Center,rl=window.MantineCore.Loader;function ol({fetching:e,customContent:t,backgroundBlur:r,size:o,type:n,color:a}){return i.jsx(nl,{className:E("mantine-datatable-loader",{"mantine-datatable-loader-fetching":e}),style:[{backdropFilter:r?`blur(${r}px)`:void 0}],children:e&&(t||i.jsx(rl,{size:o,type:n,color:a}))})}const al=window.MantineCore.Box,ll=window.MantineCore.Pagination,sl=window.MantineCore.Text,il=window.MantineCore.rem,cl=window.MantineCore.Button,ul=window.MantineCore.Group,dl=window.MantineCore.Menu,ml=window.MantineCore.MenuDropdown,hl=window.MantineCore.MenuItem,gl=window.MantineCore.MenuTarget,en=window.MantineCore.Text,ke=window.MantineCore.rem,wl=window.MantineCore.parseThemeColor;function F(e,t,r){return e?wl({color:typeof e=="object"?e[r]:e,theme:t}).value:void 0}function fl({theme:e,c:t,backgroundColor:r,borderColor:o,rowBorderColor:n,stripedColor:a,highlightOnHoverColor:l}){return{"--mantine-datatable-color-light":F(t,e,"light"),"--mantine-datatable-color-dark":F(t,e,"dark"),"--mantine-datatable-background-color-light":F(r,e,"light"),"--mantine-datatable-background-color-dark":F(r,e,"dark"),"--mantine-datatable-border-color-light":F(o,e,"light"),"--mantine-datatable-border-color-dark":F(o,e,"dark"),"--mantine-datatable-row-border-color-light":F(n,e,"light"),"--mantine-datatable-row-border-color-dark":F(n,e,"dark"),"--mantine-datatable-striped-color-light":F(a,e,"light"),"--mantine-datatable-striped-color-dark":F(a,e,"dark"),"--mantine-datatable-highlight-on-hover-color-light":F(l,e,"light"),"--mantine-datatable-highlight-on-hover-color-dark":F(l,e,"dark")}}function Cn({theme:e,paginationActiveTextColor:t,paginationActiveBackgroundColor:r}){return{"--mantine-datatable-pagination-active-text-color-light":F(t,e,"light"),"--mantine-datatable-pagination-active-text-color-dark":F(t,e,"dark"),"--mantine-datatable-pagination-active-background-color-light":F(r,e,"light"),"--mantine-datatable-pagination-active-background-color-dark":F(r,e,"dark")}}function pl({theme:e,color:t,backgroundColor:r}){return{"--mantine-datatable-row-color-light":F(t,e,"light"),"--mantine-datatable-row-color-dark":F(t,e,"dark"),"--mantine-datatable-row-background-color-light":F(r,e,"light"),"--mantine-datatable-row-background-color-dark":F(r,e,"dark")}}function _l(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M8 9l4 -4l4 4"}),i.jsx("path",{d:"M16 15l-4 4l-4 -4"})]})}var tn={xs:ke(22),sm:ke(26),md:ke(32),lg:ke(38),xl:ke(44)};function bl({size:e,label:t,values:r,value:o,activeTextColor:n,activeBackgroundColor:a,onChange:l}){return i.jsxs(ul,{gap:"xs",children:[i.jsx(en,{component:"div",size:e,children:t}),i.jsxs(dl,{withinPortal:!0,withArrow:!0,offset:2,classNames:{arrow:"mantine-datatable-page-size-selector-menu-arrow"},children:[i.jsx(gl,{children:i.jsx(cl,{size:e,variant:"default",classNames:{section:"mantine-datatable-page-size-selector-button-icon"},rightSection:i.jsx(_l,{}),style:[{fontWeight:"normal"},s=>({height:tn[e],paddingLeft:s.spacing[e],paddingRight:s.spacing[e]})],children:o})}),i.jsx(ml,{children:r.map(s=>{let c=s===o;return i.jsx(hl,{className:E({"mantine-datatable-page-size-selector-active":c}),style:[{height:tn[e]},c&&(n||a)?u=>Cn({theme:u,paginationActiveTextColor:n,paginationActiveBackgroundColor:a}):void 0],disabled:c,onClick:()=>l(s),children:i.jsx(en,{component:"div",size:e,children:s})},s)})})]})]})}function Cl({className:e,style:t,fetching:r,page:o,onPageChange:n,paginationWithEdges:a,paginationWithControls:l,paginationActiveTextColor:s,paginationActiveBackgroundColor:c,paginationSize:u,loadingText:d,noRecordsText:w,paginationText:h,totalRecords:g,recordsPerPage:m,onRecordsPerPageChange:p,recordsPerPageLabel:C,recordsPerPageOptions:k,recordsLength:f,horizontalSpacing:y,paginationWrapBreakpoint:b,getPaginationControlProps:j,getPaginationItemProps:S,renderPagination:v}){let z;if(g){let x=(o-1)*m+1,$=x+(f||0)-1;z=h({from:x,to:$,totalRecords:g})}else z=r?d:w;let _=g&&m?Math.max(1,Math.ceil(g/m)):1,M=g?(o-1)*(m??0)+1:void 0,P=g?(M??1)+(f??0)-1:void 0,T=!Oe(({breakpoints:x})=>`(min-width: ${typeof b=="number"?`${il(b)}rem`:x[b]||b})`),I={Text:x=>i.jsx(sl,{component:"div",className:"mantine-datatable-pagination-text",size:u,...x,children:z}),PageSizeSelector:x=>k?i.jsx(bl,{activeTextColor:s,activeBackgroundColor:c,size:u,label:C,values:k,value:m,onChange:p,...x}):i.jsx(i.Fragment,{}),Pagination:x=>i.jsx(ll,{classNames:{root:E("mantine-datatable-pagination-pages",{"mantine-datatable-pagination-pages-fetching":r||!f}),control:"mantine-datatable-pagination-pages-control"},style:s||c?$=>Cn({theme:$,paginationActiveTextColor:s,paginationActiveBackgroundColor:c}):void 0,withEdges:a,withControls:l,value:o,onChange:n,size:u,total:_,getControlProps:j,getItemProps:S,...x})},R={state:{paginationSize:u,page:o,totalPages:_,totalRecords:g,recordsPerPage:m,recordsLength:f,fetching:r,from:M,to:P,isWrapped:T},actions:{setPage:x=>n?.(x),setRecordsPerPage:p?x=>p(x):void 0},Controls:I};return i.jsx(al,{px:y??"xs",py:"xs",className:E("mantine-datatable-pagination",e),style:[{flexDirection:T?"column":"row"},t],children:typeof v=="function"?v(R):i.jsxs(i.Fragment,{children:[i.jsx(I.Text,{}),i.jsx(I.PageSizeSelector,{}),i.jsx(I.Pagination,{})]})})}const xl=window.MantineCore.TableTr,vl=window.MantineCore.TableTd;function kl({className:e,style:t,visibleMediaQuery:r,record:o,index:n,onClick:a,onDoubleClick:l,onContextMenu:s,noWrap:c,ellipsis:u,textAlign:d,width:w,accessor:h,render:g,defaultRender:m,customCellAttributes:p}){return Oe(r)?i.jsx(vl,{className:E({[Ct]:c||u,[xt]:u,[me]:a||l,[bn]:s,[ze]:d==="left",[We]:d==="center",[Le]:d==="right"},e),style:[{width:w,minWidth:w,maxWidth:w},t],onClick:a,onDoubleClick:l,onContextMenu:s,...p?.(o,n),children:g?g(o,n):m?m(o,n,h):fn(o,h)}):null}const yl=window.MantineCore.Collapse,Rl=window.MantineCore.TableTd,nn=window.MantineCore.TableTr;function Sl({open:e,colSpan:t,content:r,collapseProps:o}){let{expanded:n,visible:a}=wa(e,o?.transitionDuration);return a?i.jsxs(i.Fragment,{children:[i.jsx(nn,{}),i.jsx(nn,{children:i.jsx(Rl,{className:"mantine-datatable-row-expansion-cell",colSpan:t,children:i.jsx(yl,{in:n,...o,children:i.jsx("div",{className:"mantine-datatable-row-expansion-cell-content",children:r()})})})})]}):null}const Ml=window.MantineCore.Checkbox,jl=window.MantineCore.TableTd;function Tl({className:e,style:t,record:r,index:o,trigger:n,onChange:a,withRightShadow:l,checkboxProps:s,getCheckboxProps:c,...u}){let d={...s,...c(r,o)},w=!u.disabled&&!d.disabled,h=g=>{g.stopPropagation(),n==="cell"&&w&&a?.(g)};return i.jsx(jl,{className:E("mantine-datatable-row-selector-cell",{[me]:n==="cell"&&w},e),style:t,"data-shadow-visible":l||void 0,onClick:h,children:i.jsx(Ml,{classNames:w?{input:me}:void 0,onChange:a,...u,...d})})}function Pl({record:e,index:t,columns:r,defaultColumnProps:o,defaultColumnRender:n,selectionTrigger:a,selectionVisible:l,selectionChecked:s,onSelectionChange:c,isRecordSelectable:u,selectionCheckboxProps:d,getSelectionCheckboxProps:w,onClick:h,onDoubleClick:g,onContextMenu:m,onCellClick:p,onCellDoubleClick:C,onCellContextMenu:k,expansion:f,customAttributes:y,color:b,backgroundColor:j,className:S,style:v,selectorCellShadowVisible:z,selectionColumnClassName:_,selectionColumnStyle:M,rowFactory:P}){let T=i.jsxs(i.Fragment,{children:[l&&i.jsx(Tl,{className:_,style:M,record:e,index:t,trigger:a,withRightShadow:z,checked:s,disabled:!c||(u?!u(e,t):!1),onChange:c,checkboxProps:d,getCheckboxProps:w}),r.map(({hidden:x,hiddenContent:$,...B},q)=>{if(x||$)return null;let{accessor:D,visibleMediaQuery:O,textAlign:V,noWrap:Y,ellipsis:Z,width:te,render:he,cellsClassName:ne,cellsStyle:ge,customCellAttributes:we}={...o,...B};return i.jsx(kl,{className:typeof ne=="function"?ne(e,t):ne,style:ge?.(e,t),visibleMediaQuery:O,record:e,index:t,onClick:p?X=>p({event:X,record:e,index:t,column:B,columnIndex:q}):void 0,onDoubleClick:C?X=>C({event:X,record:e,index:t,column:B,columnIndex:q}):void 0,onContextMenu:k?X=>k({event:X,record:e,index:t,column:B,columnIndex:q}):void 0,accessor:D,textAlign:V,noWrap:Y,ellipsis:Z,width:te,render:he,defaultRender:n,customCellAttributes:we},D)})]}),I=f&&i.jsx(Sl,{colSpan:r.filter(({hidden:x})=>!x).length+(l?1:0),open:f.isRowExpanded(e),content:f.content({record:e,index:t}),collapseProps:f.collapseProps}),R=Il({record:e,index:t,selectionChecked:s,onClick:h,onDoubleClick:g,onContextMenu:m,expansion:f,customAttributes:y,color:b,backgroundColor:j,className:S,style:v});return P?P({record:e,index:t,rowProps:R,children:T,expandedElement:I}):i.jsxs(i.Fragment,{children:[i.jsx(xl,{...R,children:T}),I]})}function Il({record:e,index:t,selectionChecked:r,onClick:o,onDoubleClick:n,onContextMenu:a,expansion:l,customAttributes:s,color:c,backgroundColor:u,className:d,style:w}){return{className:E("mantine-datatable-row",{[me]:o||n||l?.isExpandable({record:e,index:t})&&l?.expandOnClick},{[bn]:a},typeof d=="function"?d(e,t):d),"data-selected":r||void 0,onClick:h=>{if(l){let{isExpandable:g,isRowExpanded:m,expandOnClick:p,expandRow:C,collapseRow:k}=l;g({record:e,index:t})&&p&&(m(e)?k(e):C(e))}o?.({event:h,record:e,index:t})},onDoubleClick:n?h=>n({event:h,record:e,index:t}):void 0,onContextMenu:a?h=>a({event:h,record:e,index:t}):void 0,style:[c||u?h=>{let g=c?.(e,t),m=u?.(e,t);return pl({theme:h,color:g,backgroundColor:m})}:void 0,w?.(e,t)],...s?.(e,t)??{}}}const rn=window.MantineCore.Box,Nl=window.MantineCore.ScrollArea;function $l({leftShadowBehind:e,rightShadowBehind:t,onScrollPositionChange:r,children:o,viewportRef:n,scrollAreaProps:a}){return i.jsxs(Nl,{...a,viewportRef:n,classNames:{root:"mantine-datatable-scroll-area",scrollbar:"mantine-datatable-scroll-area-scrollbar",thumb:"mantine-datatable-scroll-area-thumb",corner:"mantine-datatable-scroll-area-corner"},onScrollPositionChange:r,children:[o,i.jsx(rn,{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-top-shadow")}),i.jsx("div",{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-left-shadow",{"mantine-datatable-scroll-area-shadow-behind":e})}),i.jsx("div",{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-right-shadow",{"mantine-datatable-scroll-area-shadow-behind":t})}),i.jsx(rn,{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-bottom-shadow")})]})}function Ol({withTableBorder:e,borderRadius:t,textSelectionDisabled:r,height:o="100%",minHeight:n,maxHeight:a,shadow:l,verticalAlign:s="center",fetching:c,columns:u,storeColumnsKey:d,groups:w,pinFirstColumn:h,pinLastColumn:g,defaultColumnProps:m,defaultColumnRender:p,idAccessor:C="id",records:k,selectionTrigger:f="checkbox",selectedRecords:y,onSelectedRecordsChange:b,selectionColumnClassName:j,selectionColumnStyle:S,isRecordSelectable:v,selectionCheckboxProps:z,allRecordsSelectionCheckboxProps:_={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:M=(J,_e)=>({"aria-label":`Select record ${_e+1}`}),sortStatus:P,sortIcons:T,onSortStatusChange:I,horizontalSpacing:R,page:x,onPageChange:$,totalRecords:B,recordsPerPage:q,onRecordsPerPageChange:D,recordsPerPageOptions:O,recordsPerPageLabel:V="Records per page",paginationWithEdges:Y,paginationWithControls:Z,paginationActiveTextColor:te,paginationActiveBackgroundColor:he,paginationSize:ne="sm",paginationText:ge=({from:J,to:_e,totalRecords:qe})=>`${J} - ${_e} / ${qe}`,paginationWrapBreakpoint:we="sm",getPaginationControlProps:X=J=>J==="previous"?{"aria-label":"Previous page"}:J==="next"?{"aria-label":"Next page"}:{},getPaginationItemProps:Be,renderPagination:De,loaderBackgroundBlur:Ee,customLoader:xn,loaderSize:vn,loaderType:kn,loaderColor:yn,loadingText:Rn="...",emptyState:Sn,noRecordsText:vt="No records",noRecordsIcon:Mn,highlightOnHover:jn,striped:Tn,noHeader:Pn,onRowClick:In,onRowDoubleClick:Nn,onRowContextMenu:$n,onCellClick:On,onCellDoubleClick:zn,onCellContextMenu:Wn,onScroll:Ln,onScrollToTop:Bn,onScrollToBottom:Dn,onScrollToLeft:En,onScrollToRight:Fn,c:Vn,backgroundColor:qn,borderColor:Hn,rowBorderColor:Gn,stripedColor:Jn,highlightOnHoverColor:Qn,rowColor:Un,rowBackgroundColor:Xn,rowExpansion:Yn,rowClassName:Zn,rowStyle:Kn,customRowAttributes:An,scrollViewportRef:er,scrollAreaProps:tr,tableRef:nr,bodyRef:rr,m:or,my:ar,mx:lr,mt:sr,mb:ir,ml:cr,mr:ur,className:dr,classNames:fe,style:mr,styles:pe,rowFactory:hr,tableWrapper:Fe,...Ve}){let J=To(()=>w?bt(w):u,[u,w]),[_e,qe]=Po(!1),{refs:U,onScroll:gr}=Zo({scrollCallbacks:{onScroll:Ln,onScrollToTop:Bn,onScrollToBottom:Dn,onScrollToLeft:En,onScrollToRight:Fn},withRowBorders:Ve.withRowBorders}),He=Go({key:d,columns:J,headerRef:U.header,scrollViewportRef:U.scrollViewport,onFixedLayoutChange:qe}),wr=$t(U.table,nr),fr=$t(U.scrollViewport,er),pr=ha({rowExpansion:Yn,records:k,idAccessor:C}),Me=rt(!1),kt=rt(x),Ge=rt(k),_r=nt(W=>{Me.current=!0,Ge.current=k,$(W)},[$,k]);Mo(()=>{kt.current!==x&&(Me.current=!0,Ge.current=k,kt.current=x)},[x,k]);let be=k?.length;jo(()=>{if(!Me.current||c||k===Ge.current)return;let W=U.scrollViewport.current;if(!W)return;let re=requestAnimationFrame(()=>{W.scrollTo({top:0,left:0}),Me.current=!1});return()=>cancelAnimationFrame(re)},[c,k,U.scrollViewport]);let yt=k?.map(W=>H(W,C)),ce=!!y,Ce=y?.map(W=>H(W,C)),Rt=yt!==void 0&&Ce!==void 0&&Ce.length>0,Je=v?k?.filter(v):k,je=Je?.map(W=>H(W,C)),Te=Rt&&je.every(W=>Ce.includes(W)),br=Rt&&je.some(W=>Ce.includes(W)),Cr=nt(()=>{y&&b&&b(Te?y.filter(W=>!je.includes(H(W,C))):st([...y,...Je],W=>H(W,C)))},[Te,C,b,je,Je,y]),{lastSelectionChangeIndex:Pe,setLastSelectionChangeIndex:xr}=ea(yt),Qe=ce&&!h,vr={m:or,my:ar,mx:lr,mt:sr,mb:ir,ml:cr,mr:ur},kr=nt(({children:W})=>Fe?Fe({children:W}):W,[Fe]);return i.jsx(Dt,{...He,children:i.jsxs(Ro,{ref:U.root,...vr,className:E("mantine-datatable",{"mantine-datatable-with-border":e},dr,fe?.root),style:[W=>({...fl({theme:W,c:Vn,backgroundColor:qn,borderColor:Hn,rowBorderColor:Gn,stripedColor:Jn,highlightOnHoverColor:Qn}),borderRadius:W.radius[t]||t,boxShadow:W.shadows[l]||l,height:o,minHeight:n,maxHeight:a}),mr,pe?.root,{position:"relative"}],children:[i.jsx($l,{viewportRef:fr,leftShadowBehind:ce||!!h,rightShadowBehind:g,onScrollPositionChange:gr,scrollAreaProps:tr,children:i.jsx(kr,{children:i.jsxs(So,{ref:wr,horizontalSpacing:R,className:E("mantine-datatable-table",{[fa]:r,"mantine-datatable-vertical-align-top":s==="top","mantine-datatable-vertical-align-bottom":s==="bottom","mantine-datatable-pin-last-column":g,"mantine-datatable-selection-column-visible":ce,"mantine-datatable-pin-first-column":h,"mantine-datatable-resizable-columns":He.hasResizableColumns&&_e},fe?.table),style:{...pe?.table},"data-striped":be&&Tn||void 0,"data-highlight-on-hover":jn||void 0,...Ve,children:[Pn?null:i.jsx(Dt,{...He,children:i.jsx(tl,{ref:U.header,selectionColumnHeaderRef:U.selectionColumnHeader,className:fe?.header,style:pe?.header,columns:J,defaultColumnProps:m,groups:w,sortStatus:P,sortIcons:T,onSortStatusChange:I,selectionTrigger:f,selectionVisible:ce,selectionChecked:Te,selectionIndeterminate:br&&!Te,onSelectionChange:Cr,selectionCheckboxProps:{...z,..._},selectorCellShadowVisible:Qe,selectionColumnClassName:j,selectionColumnStyle:S,withColumnBorders:Ve.withColumnBorders})}),i.jsx("tbody",{ref:rr,children:be?k.map((W,re)=>{let Ue=H(W,C),Xe=Ce?.includes(Ue)||!1,St;return b&&y&&(St=yr=>{if(yr.nativeEvent.shiftKey&&Pe!==null){let ue=k.filter(re>Pe?(oe,ae)=>ae>=Pe&&ae<=re&&(v?v(oe,ae):!0):(oe,ae)=>ae>=re&&ae<=Pe&&(v?v(oe,ae):!0));b(Xe?da(y,ue,oe=>H(oe,C)):st([...y,...ue],oe=>H(oe,C)))}else b(Xe?y.filter(ue=>H(ue,C)!==Ue):st([...y,W],ue=>H(ue,C)));xr(re)}),i.jsx(Pl,{record:W,index:re,columns:J,defaultColumnProps:m,defaultColumnRender:p,selectionTrigger:f,selectionVisible:ce,selectionChecked:Xe,onSelectionChange:St,isRecordSelectable:v,selectionCheckboxProps:z,getSelectionCheckboxProps:M,onClick:In,onDoubleClick:Nn,onCellClick:On,onCellDoubleClick:zn,onContextMenu:$n,onCellContextMenu:Wn,expansion:pr,color:Un,backgroundColor:Xn,className:Zn,style:Kn,customAttributes:An,selectorCellShadowVisible:Qe,selectionColumnClassName:j,selectionColumnStyle:S,idAccessor:C,rowFactory:hr},Ue)}):i.jsx($o,{})}),J.some(({footer:W})=>W)&&i.jsx(Ca,{ref:U.footer,className:fe?.footer,style:pe?.footer,columns:J,defaultColumnProps:m,selectionVisible:ce,selectorCellShadowVisible:Qe})]})})}),!!(x&&be)&&i.jsx(Cl,{className:fe?.pagination,style:pe?.pagination,horizontalSpacing:R,fetching:c,page:x,onPageChange:_r,totalRecords:B,recordsPerPage:q,onRecordsPerPageChange:D,recordsPerPageOptions:O,recordsPerPageLabel:V,paginationWithEdges:Y,paginationWithControls:Z,paginationActiveTextColor:te,paginationActiveBackgroundColor:he,paginationSize:ne,paginationText:ge,paginationWrapBreakpoint:we,getPaginationControlProps:X,getPaginationItemProps:Be,noRecordsText:vt,loadingText:Rn,recordsLength:be,renderPagination:De}),i.jsx(ol,{fetching:c,backgroundBlur:Ee,customContent:xn,size:vn,type:kn,color:yn}),i.jsx(Lo,{icon:Mn,text:vt,active:!c&&!be,children:Sn})]})})}window.MantineCore.TableTr;window.React.useEffect;window.React.useRef;const zl={TLA:"grape",Coml:"green",Fab:"blue",CtL:"teal","Purchased Assy":"orange","Internal Fab":"cyan",Assy:"violet",Other:"gray"};function Wl(e){return zl[e]||"gray"}function on(e){return e?.4:1}const Ll=window.MantineCore.Anchor,se=window.MantineCore.Badge,G=window.MantineCore.Group,L=window.MantineCore.Text,Bl=window.MantineCore.Tooltip;function Dl({buildQuantity:e,includeAllocations:t,includeOnOrder:r,calculateShortfall:o}){return[{accessor:"full_name",title:"Component",sortable:!0,switchable:!1,render:n=>n.is_cut_list_child?React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"flex-end"},React.createElement(Qr,{size:40,stroke:1.5,style:{color:"var(--mantine-color-blue-5)"}})):React.createElement(G,{gap:"xs",wrap:"nowrap"},n.thumbnail&&React.createElement("img",{src:n.thumbnail,alt:n.full_name,style:{width:40,height:40,objectFit:"contain"}}),React.createElement(Ll,{href:n.link,target:"_blank",size:"sm",style:{textDecoration:"none"}},n.full_name))},{accessor:"ipn",title:"IPN",sortable:!0,switchable:!0,render:n=>React.createElement(L,{size:"sm",style:{fontFamily:"monospace"}},n.ipn)},{accessor:"description",title:"Description",sortable:!0,switchable:!0,render:n=>React.createElement(L,{size:"sm",lineClamp:2,title:n.description},n.description)},{accessor:"part_type",title:"Type",sortable:!0,switchable:!0,render:n=>{const a=n.part_type,l=Wl(a),s=n.is_cut_list_child&&(a==="Internal Fab"||a==="CtL")?`${a} - CUT`:a;return React.createElement(Bl,{label:s,withArrow:!0},React.createElement(se,{size:"sm",color:l,variant:"light",style:{maxWidth:90,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",display:"inline-block",verticalAlign:"middle"},tabIndex:0,"aria-label":s},s))}},{accessor:"total_qty",title:"Total Qty",sortable:!0,switchable:!0,render:n=>{const a=n.total_qty*e;if(n.is_cut_list_child){const l=n.total_qty*e;return React.createElement(G,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(L,{size:"sm",fw:700},l.toFixed(0)),React.createElement(L,{size:"xs",c:"dimmed"},"pieces"))}return React.createElement(G,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(L,{size:"sm",fw:700},a.toFixed(2)),n.unit&&React.createElement(L,{size:"xs",c:"dimmed"},"[",n.unit,"]"))}},{accessor:"cut_length",title:"Cut Length",sortable:!1,switchable:!1,render:n=>n.cut_length?React.createElement(G,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(L,{size:"sm"},n.cut_length.toFixed(2)),(n.cut_unit||n.unit)&&React.createElement(L,{size:"xs",c:"dimmed"},"[",n.cut_unit||n.unit,"]")):React.createElement(L,{size:"sm",c:"dimmed"},"-")},{accessor:"in_stock",title:"In Stock",sortable:!0,switchable:!0,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:n=>{if(n.is_cut_list_child)return React.createElement(L,{size:"sm",c:"dimmed"},"-");const a=n.total_qty*e;return n.in_stock<=0?React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(L,{c:"red",fs:"italic",size:"sm"},"No stock"),n.unit&&React.createElement(L,{size:"xs",c:"dimmed"},"[",n.unit,"]")):n.in_stock<a?React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(se,{color:"orange",variant:"light",style:{minWidth:"fit-content"}},n.in_stock.toFixed(2)),n.unit&&React.createElement(L,{size:"xs",c:"dimmed"},"[",n.unit,"]")):React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(se,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},n.in_stock.toFixed(2)),n.unit&&React.createElement(L,{size:"xs",c:"dimmed"},"[",n.unit,"]"))}},{accessor:"allocated",title:"Allocated",sortable:!0,switchable:!0,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:n=>{const l=on(!t);return n.is_cut_list_child?React.createElement(L,{size:"sm",c:"dimmed"},"-"):n.allocated>0?React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(se,{color:"yellow",variant:"light",style:{opacity:l,minWidth:"fit-content"}},n.allocated.toFixed(2)),n.unit&&React.createElement(L,{size:"xs",c:"dimmed",style:{opacity:l}},"[",n.unit,"]")):React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between",style:{overflow:"hidden"}},React.createElement(L,{c:"dimmed",size:"sm",style:{opacity:l}},"-"),n.unit&&React.createElement(L,{size:"xs",c:"dimmed",style:{opacity:l}},"[",n.unit,"]"))}},{accessor:"on_order",title:"On Order",sortable:!0,switchable:!0,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:n=>{const l=on(!r);return n.is_cut_list_child?React.createElement(L,{size:"sm",c:"dimmed"},"-"):n.on_order>0?React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(se,{color:"blue",variant:"light",style:{opacity:l,minWidth:"fit-content"}},n.on_order.toFixed(2)),n.unit&&React.createElement(L,{size:"xs",c:"dimmed",style:{opacity:l}},"[",n.unit,"]")):React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(L,{c:"dimmed",size:"sm",style:{opacity:l}},"-"),n.unit&&React.createElement(L,{size:"xs",c:"dimmed",style:{opacity:l}},"[",n.unit,"]"))}},{accessor:"shortfall",title:"Build Margin",sortable:!0,switchable:!0,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:n=>{if(n.is_cut_list_child)return React.createElement(L,{size:"sm",c:"dimmed"},"-");const a=o(n);return a<0?React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(se,{color:"red",variant:"filled",style:{minWidth:"fit-content"}},a.toFixed(2)),n.unit&&React.createElement(L,{size:"xs",c:"dimmed"},"[",n.unit,"]")):React.createElement(G,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(se,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},"+",a.toFixed(2)),n.unit&&React.createElement(L,{size:"xs",c:"dimmed"},"[",n.unit,"]"))}}]}const El=window.MantineCore.ActionIcon,an=window.MantineCore.Button,it=window.MantineCore.Checkbox,Fl=window.MantineCore.Divider,Vl=window.MantineCore.Group,ye=window.MantineCore.Menu,ql=window.MantineCore.NumberInput,Hl=window.MantineCore.Stack,Gl=window.MantineCore.Tooltip;function Jl({buildQuantity:e,onBuildQuantityChange:t,includeAllocations:r,onIncludeAllocationsChange:o,includeOnOrder:n,onIncludeOnOrderChange:a,onRefresh:l,loading:s,onExport:c,columns:u,hiddenColumns:d,onToggleColumn:w}){return React.createElement(Vl,{gap:"xs",align:"flex-end",wrap:"wrap"},React.createElement(ql,{label:"Build Quantity",value:e,onChange:h=>t(typeof h=="number"?h:1),min:1,step:1,style:{width:150}}),React.createElement(Hl,{gap:"xs"},React.createElement(it,{label:"Include Allocations in Build Margin (-)",checked:r,onChange:h=>o(h.currentTarget.checked)}),React.createElement(it,{label:"Include On Order in Build Margin (+)",checked:n,onChange:h=>a(h.currentTarget.checked)})),React.createElement(an,{leftSection:React.createElement(gn,{size:16}),onClick:l,loading:s},"Refresh"),React.createElement(an,{variant:"light",leftSection:React.createElement(Xr,{size:16}),onClick:c},"Export CSV"),React.createElement(ye,{shadow:"xs",closeOnItemClick:!1},React.createElement(ye.Target,null,React.createElement(El,{variant:"light",size:"lg","aria-label":"table-select-columns"},React.createElement(Gl,{label:"Select Columns",position:"top-end"},React.createElement(Fr,null)))),React.createElement(ye.Dropdown,{style:{maxHeight:"400px",overflowY:"auto"}},React.createElement(ye.Label,null,"Select Columns"),React.createElement(Fl,null),u.filter(h=>h.toggleable!==!1).map(h=>React.createElement(ye.Item,{key:h.accessor},React.createElement(it,{checked:!d.has(h.accessor),label:h.title||h.accessor,onChange:()=>w(h.accessor),radius:"sm"}))))))}const Ql=window.MantineCore.Alert;function Ul({error:e,onClose:t}){return React.createElement(Ql,{icon:React.createElement(qr,{size:16}),title:"Error",color:"red",withCloseButton:!0,onClose:t},e)}const Xl=window.MantineCore.Group,ln=window.MantineCore.Text;function de({label:e,value:t,color:r,minWidth:o="70px"}){return React.createElement("div",{style:{minWidth:o}},React.createElement(ln,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},e.split(`
`).map((n,a)=>React.createElement("span",{key:a},n,a<e.split(`
`).length-1&&React.createElement("br",null)))),React.createElement(ln,{size:"lg",fw:700,c:r},t))}function Yl({totalUniqueParts:e,maxDepthReached:t,totalIfpsProcessed:r,outOfStockCount:o,onOrderCount:n,needToOrderCount:a}){return React.createElement(Xl,{gap:"md",wrap:"wrap"},React.createElement(de,{label:"Total\\nParts",value:e}),React.createElement(de,{label:"BOM\\nDepth",value:t,color:"violet"}),React.createElement(de,{label:"Internal Fab\\nProcessed",value:r,color:"cyan",minWidth:"80px"}),React.createElement(de,{label:"Out of\\nStock",value:o,color:"red"}),React.createElement(de,{label:"On\\nOrder",value:n,color:"blue"}),React.createElement(de,{label:"Need to\\nOrder",value:a,color:"orange"}))}const Zl=window.MantineCore.Alert,Kl=window.MantineCore.Stack,Al=window.MantineCore.Text;function es({warnings:e,onClose:t}){return!e||e.length===0?null:React.createElement(Zl,{icon:React.createElement(Gr,{size:16}),title:`${e.length} Warning${e.length>1?"s":""} Found`,color:"yellow",withCloseButton:!0,onClose:t},React.createElement(Kl,{gap:"xs"},e.map((r,o)=>React.createElement(Al,{key:o,size:"sm"},React.createElement("strong",null,r.part_name),": ",r.message))))}const ts=window.React.useState;function ns(e=1){const[t,r]=ts(e);return{buildQuantity:t,setBuildQuantity:r}}const rs=window.React.useEffect,os=window.React.useState;function as(e){const[t,r]=os(()=>{const n=localStorage.getItem("flat-bom-hidden-columns");return n?new Set(JSON.parse(n)):new Set});return rs(()=>{if(e){const n=e.bom_items.some(a=>a.cut_list&&a.cut_list.length>0);r(a=>{const l=new Set(a);return n?l.delete("cut_length"):l.add("cut_length"),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...l])),l})}},[e]),{hiddenColumns:t,toggleColumn:n=>{r(a=>{const l=new Set(a);return l.has(n)?l.delete(n):l.add(n),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...l])),l})}}}const ct=window.React.useState;function ls(e,t){const[r,o]=ct(!1),[n,a]=ct(null),[l,s]=ct(null);return{bomData:n,loading:r,error:l,generateFlatBom:async d=>{if(!e){s("No part ID available");return}o(!0),s(null);try{const w=new URLSearchParams;d.maxDepth>0&&w.append("max_depth",d.maxDepth.toString()),d.expandPurchasedAssemblies&&w.append("expand_purchased_assemblies","true"),d.includeInternalFabInCutlist&&w.append("include_internal_fab_in_cutlist","true");const h=w.toString(),g=`/plugin/flat-bom-generator/flat-bom/${e}/${h?`?${h}`:""}`,m=await t.api.get(g,{timeout:3e4});m.status===200?(console.log("[FlatBOM] API Response:",m.data),console.log("[FlatBOM] Metadata:",m.data.metadata),console.log("[FlatBOM] Warnings:",m.data.metadata?.warnings),a(m.data)):s(`API returned status ${m.status}`)}catch(w){s(w?.response?.data?.error||w.message||"Failed to generate flat BOM"),console.error("Error generating flat BOM:",w)}finally{o(!1)}},clearError:()=>{s(null)}}}const Re={maxDepth:0,expandPurchasedAssemblies:!1,includeInternalFabInCutlist:!1},sn="flatbom_plugin_settings",cn="flatbom_has_generated_once",ut=window.React.useCallback,un=window.React.useEffect,dn=window.React.useState;function ss(){const[e,t]=dn(()=>{try{const c=localStorage.getItem(sn);if(c)return JSON.parse(c)}catch(c){console.warn("Failed to load settings from localStorage:",c)}return Re}),[r,o]=dn(()=>{try{return localStorage.getItem(cn)==="true"}catch(c){return console.warn("Failed to load generation state from localStorage:",c),!1}});un(()=>{try{localStorage.setItem(sn,JSON.stringify(e))}catch(c){console.warn("Failed to save settings to localStorage:",c)}},[e]),un(()=>{try{localStorage.setItem(cn,r.toString())}catch(c){console.warn("Failed to save generation state to localStorage:",c)}},[r]);const n=ut((c,u)=>{t(d=>({...d,[c]:u}))},[]),a=ut(()=>{t(Re)},[]),l=e.maxDepth!==Re.maxDepth||e.expandPurchasedAssemblies!==Re.expandPurchasedAssemblies||e.includeInternalFabInCutlist!==Re.includeInternalFabInCutlist,s=ut(()=>{o(!0)},[]);return{settings:e,updateSetting:n,resetToDefaults:a,hasCustomSettings:l,hasGeneratedOnce:r,markAsGenerated:s}}function is(e,t,r){return{calculateShortfall:s=>{const c=s.total_qty*e;let u=s.in_stock;return t&&(u-=s.allocated),r&&(u+=s.on_order),u-c},countNeedToOrder:s=>s.filter(c=>{const u=c.total_qty*e;let d=c.in_stock;return t&&(d-=c.allocated),r&&(d+=c.on_order),u>d}).length,countOutOfStock:s=>s.filter(c=>c.in_stock<=0).length,countOnOrder:s=>s.filter(c=>c.on_order>0).length}}function cs(e){const t=[];for(const r of e){if(t.push(r),r.cut_list&&r.cut_list.length>0)for(const o of r.cut_list)t.push({...r,total_qty:o.quantity,part_type:"CtL",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:o.length,is_cut_list_child:!0,cut_list:null});if(r.internal_fab_cut_list&&r.internal_fab_cut_list.length>0)for(const o of r.internal_fab_cut_list)t.push({...r,total_qty:o.count,part_type:"Internal Fab",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:o.piece_qty,cut_unit:o.unit,is_cut_list_child:!0,cut_list:null,internal_fab_cut_list:null})}return t}function us(e,t){if(!t)return e;const r=t.toLowerCase();return e.filter(o=>o.ipn.toLowerCase().includes(r)||o.part_name.toLowerCase().includes(r))}function ds(e){const t=[],r=new Map;for(const n of e)if(n.is_cut_list_child){const a=n.part_id;r.has(a)||r.set(a,[]),r.get(a).push(n)}else t.push(n);const o=[];for(const n of t){o.push(n);const a=r.get(n.part_id);a&&o.push(...a)}return o}function ms(e,t,r,o,n,a){return[...e].sort((s,c)=>{let u,d;switch(t){case"ipn":u=s.ipn,d=c.ipn;break;case"full_name":u=s.full_name,d=c.full_name;break;case"part_name":u=s.part_name,d=c.part_name;break;case"description":u=s.description,d=c.description;break;case"part_type":u=s.part_type,d=c.part_type;break;case"total_qty":u=s.total_qty*o,d=c.total_qty*o;break;case"in_stock":u=s.in_stock,d=c.in_stock;break;case"on_order":u=s.on_order,d=c.on_order;break;case"building":u=s.building||0,d=c.building||0;break;case"allocated":u=s.allocated,d=c.allocated;break;case"shortfall":let w=s.in_stock,h=c.in_stock;n&&(w-=s.allocated,h-=c.allocated),a&&(w+=s.on_order,h+=c.on_order),u=Math.max(0,s.total_qty*o-w),d=Math.max(0,c.total_qty*o-h);break;case"default_supplier_name":u=s.default_supplier_name||"",d=c.default_supplier_name||"";break;default:return 0}return typeof u=="string"&&typeof d=="string"?r==="asc"?u.localeCompare(d):d.localeCompare(u):r==="asc"?u-d:d-u})}function mn(e){const r=String(e??"").replace(/"/g,'""');return r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r}"`:r}function hs(e,t,r,o){const n=["IPN","Part Name","Description","Part Type","Total Qty","Unit","Cut Length","Cut Unit","In Stock","Allocated","On Order","Build Margin"],a=e.map(l=>{if(l.is_cut_list_child)return[l.ipn,l.part_name,l.description,l.part_type,l.total_qty,"",l.cut_length||"-",l.cut_unit||l.unit||"","-","-","-","-"];const s=l.total_qty*t;let c=l.in_stock;r&&(c-=l.allocated),o&&(c+=l.on_order);const u=c-s;return[l.ipn,l.part_name,l.description,l.part_type,s,l.unit,"-","",l.in_stock,l.allocated,l.on_order,u]});return[n.map(mn).join(","),...a.map(l=>l.map(mn).join(","))].join(`
`)}function gs(e,t){const r=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(r),n=document.createElement("a");n.href=o,n.download=t,n.click(),window.URL.revokeObjectURL(o)}function ws(e,t,r){const o=new Date().toISOString().replace(/[:.]/g,"-").split("T"),n=o[0],a=o[1].split("Z")[0];return`flat_bom_${e||t}_qty${r}_${n}_${a}.csv`}const fs=window.MantineCore.ActionIcon,ps=window.MantineCore.Alert,_s=window.MantineCore.Button,hn=window.MantineCore.Group,bs=window.MantineCore.Loader,dt=window.MantineCore.Paper,mt=window.MantineCore.Stack,ht=window.MantineCore.Text,Cs=window.MantineCore.TextInput,Se=window.React.useMemo,ie=window.React.useState;function xs({context:e}){const t=Se(()=>e?.id||e?.instance?.pk,[e.id,e.instance]),r=Se(()=>e?.instance?.name||"Unknown Part",[e.instance]),[o,n]=ie(!0),[a,l]=ie(!0),[s,c]=ie(""),[u,d]=ie(!1),[w,h]=ie({columnAccessor:"ipn",direction:"asc"}),[g,m]=ie(1),[p,C]=ie(()=>{const O=localStorage.getItem("flat-bom-records-per-page");if(O==="All")return"All";const V=Number(O);return V>0?V:50}),{settings:k}=ss(),{bomData:f,loading:y,error:b,generateFlatBom:j,clearError:S}=ls(t,e),{buildQuantity:v,setBuildQuantity:z}=ns(1),{hiddenColumns:_,toggleColumn:M}=as(f),{calculateShortfall:P,countNeedToOrder:T,countOutOfStock:I,countOnOrder:R}=is(v,o,a),x=()=>{if(!f)return;const O=hs($,v,o,a),V=ws(f.ipn,t,v);gs(O,V)},$=Se(()=>{if(!f)return[];let O=cs(f.bom_items);return O=us(O,s),w.columnAccessor&&(O=ms(O,w.columnAccessor,w.direction,v,o,a),O=ds(O)),O},[f,s,w,v,o,a]),B=Se(()=>Dl({buildQuantity:v,includeAllocations:o,includeOnOrder:a,calculateShortfall:P}),[v,o,a,P]),q=Se(()=>B.filter(O=>!_.has(O.accessor)),[B,_]),D=O=>{C(O),m(1),localStorage.setItem("flat-bom-records-per-page",O.toString())};return React.createElement(mt,{gap:"md"},!f&&!y&&React.createElement(hn,{justify:"flex-end"},React.createElement(_s,{leftSection:React.createElement(gn,{size:16}),onClick:()=>j(k),loading:y,disabled:!t},"Generate Flat BOM")),b&&React.createElement(Ul,{error:b,onClose:S}),y&&React.createElement(dt,{p:"xl",withBorder:!0},React.createElement(mt,{align:"center",gap:"md"},React.createElement(bs,{size:"lg"}),React.createElement(ht,{c:"dimmed"},"Traversing BOM hierarchy for ",React.createElement("strong",null,r),"..."),React.createElement(ht,{size:"xs",c:"dimmed"},"This may take a few moments for complex assemblies"))),f&&!y&&React.createElement(mt,{gap:"sm"},!u&&f?.metadata?.warnings&&React.createElement(es,{warnings:f.metadata.warnings,onClose:()=>d(!0)}),React.createElement(dt,{p:"sm",withBorder:!0},React.createElement(hn,{justify:"space-between",align:"flex-start",wrap:"wrap"},React.createElement(Yl,{totalUniqueParts:f.total_unique_parts,maxDepthReached:f.max_depth_reached,totalIfpsProcessed:f.total_ifps_processed,outOfStockCount:I(f.bom_items),onOrderCount:R(f.bom_items),needToOrderCount:T(f.bom_items)}),React.createElement(Jl,{buildQuantity:v,onBuildQuantityChange:z,includeAllocations:o,onIncludeAllocationsChange:n,includeOnOrder:a,onIncludeOnOrderChange:l,onRefresh:()=>j(k),loading:y,onExport:x,columns:B,hiddenColumns:_,onToggleColumn:M}))),React.createElement(dt,{p:"xs",withBorder:!0},React.createElement(Cs,{placeholder:"Search by IPN or Part Name...",leftSection:React.createElement(Kr,{size:16}),rightSection:s&&React.createElement(fs,{variant:"subtle",onClick:()=>c(""),"aria-label":"Clear search"},React.createElement(eo,{size:16})),value:s,onChange:O=>c(O.currentTarget.value),mb:"xs"})),React.createElement(Ol,{withTableBorder:!0,withColumnBorders:!0,striped:!0,highlightOnHover:!0,columns:q,records:p==="All"?$:$.slice((g-1)*p,g*p),totalRecords:$.length,recordsPerPage:p==="All"?$.length:p,page:g,onPageChange:m,recordsPerPageOptions:[10,25,50,100,"All"],onRecordsPerPageChange:D,sortStatus:w,onSortStatusChange:h,minHeight:200,noRecordsText:"No parts found",paginationText:({from:O,to:V,totalRecords:Y})=>{const Z=$.filter(te=>te.is_cut_list_child).length;return Z>0?`Showing ${O} to ${V} of ${Y} parts (including ${Z} cut parts)`:`Showing ${O} to ${V} of ${Y} parts`}})),!f&&!y&&!b&&React.createElement(ps,{color:"blue",variant:"light"},React.createElement(ht,{size:"sm"},"Click ",React.createElement("strong",null,'"Generate Flat BOM"')," to traverse the complete bill of materials hierarchy for ",React.createElement("strong",null,r)," and calculate cumulative quantities.")))}function vs(e){return Rr(e),React.createElement(xs,{context:e})}export{vs as renderFlatBOMGeneratorPanel};
//# sourceMappingURL=Panel.js.map
