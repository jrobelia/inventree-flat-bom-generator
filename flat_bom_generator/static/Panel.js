const yt="0.7.0";var W=(e=>(e.api_server_info="",e.user_list="user/",e.user_set_password="user/:id/set-password/",e.user_me="user/me/",e.user_profile="user/profile/",e.user_roles="user/roles/",e.user_token="user/token/",e.user_tokens="user/tokens/",e.user_simple_login="email/generate/",e.user_reset="auth/v1/auth/password/request",e.user_reset_set="auth/v1/auth/password/reset",e.auth_pwd_change="auth/v1/account/password/change",e.auth_login="auth/v1/auth/login",e.auth_login_2fa="auth/v1/auth/2fa/authenticate",e.auth_session="auth/v1/auth/session",e.auth_signup="auth/v1/auth/signup",e.auth_authenticators="auth/v1/account/authenticators",e.auth_recovery="auth/v1/account/authenticators/recovery-codes",e.auth_mfa_reauthenticate="auth/v1/auth/2fa/reauthenticate",e.auth_totp="auth/v1/account/authenticators/totp",e.auth_trust="auth/v1/auth/2fa/trust",e.auth_reauthenticate="auth/v1/auth/reauthenticate",e.auth_email="auth/v1/account/email",e.auth_email_verify="auth/v1/auth/email/verify",e.auth_providers="auth/v1/account/providers",e.auth_provider_redirect="auth/v1/auth/provider/redirect",e.auth_config="auth/v1/config",e.currency_list="currency/exchange/",e.currency_refresh="currency/refresh/",e.all_units="units/all/",e.task_overview="background-task/",e.task_pending_list="background-task/pending/",e.task_scheduled_list="background-task/scheduled/",e.task_failed_list="background-task/failed/",e.api_search="search/",e.settings_global_list="settings/global/",e.settings_user_list="settings/user/",e.news="news/",e.global_status="generic/status/",e.custom_state_list="generic/status/custom/",e.version="version/",e.license="license/",e.group_list="user/group/",e.owner_list="user/owner/",e.ruleset_list="user/ruleset/",e.content_type_list="contenttype/",e.icons="icons/",e.selectionlist_list="selection/",e.selectionlist_detail="selection/:id/",e.barcode="barcode/",e.barcode_history="barcode/history/",e.barcode_link="barcode/link/",e.barcode_unlink="barcode/unlink/",e.barcode_generate="barcode/generate/",e.data_output="data-output/",e.import_session_list="importer/session/",e.import_session_accept_fields="importer/session/:id/accept_fields/",e.import_session_accept_rows="importer/session/:id/accept_rows/",e.import_session_column_mapping_list="importer/column-mapping/",e.import_session_row_list="importer/row/",e.notifications_list="notifications/",e.notifications_readall="notifications/readall/",e.build_order_list="build/",e.build_order_issue="build/:id/issue/",e.build_order_cancel="build/:id/cancel/",e.build_order_hold="build/:id/hold/",e.build_order_complete="build/:id/finish/",e.build_output_complete="build/:id/complete/",e.build_output_create="build/:id/create-output/",e.build_output_scrap="build/:id/scrap-outputs/",e.build_output_delete="build/:id/delete-outputs/",e.build_order_auto_allocate="build/:id/auto-allocate/",e.build_order_allocate="build/:id/allocate/",e.build_order_consume="build/:id/consume/",e.build_order_deallocate="build/:id/unallocate/",e.build_line_list="build/line/",e.build_item_list="build/item/",e.bom_list="bom/",e.bom_item_validate="bom/:id/validate/",e.bom_validate="part/:id/bom-validate/",e.bom_substitute_list="bom/substitute/",e.part_list="part/",e.part_parameter_list="part/parameter/",e.part_parameter_template_list="part/parameter/template/",e.part_thumbs_list="part/thumbs/",e.part_pricing="part/:id/pricing/",e.part_requirements="part/:id/requirements/",e.part_serial_numbers="part/:id/serial-numbers/",e.part_scheduling="part/:id/scheduling/",e.part_pricing_internal="part/internal-price/",e.part_pricing_sale="part/sale-price/",e.part_stocktake_list="part/stocktake/",e.category_list="part/category/",e.category_tree="part/category/tree/",e.category_parameter_list="part/category/parameters/",e.related_part_list="part/related/",e.part_test_template_list="part/test-template/",e.company_list="company/",e.contact_list="company/contact/",e.address_list="company/address/",e.supplier_part_list="company/part/",e.supplier_part_pricing_list="company/price-break/",e.manufacturer_part_list="company/part/manufacturer/",e.manufacturer_part_parameter_list="company/part/manufacturer/parameter/",e.stock_location_list="stock/location/",e.stock_location_type_list="stock/location-type/",e.stock_location_tree="stock/location/tree/",e.stock_item_list="stock/",e.stock_tracking_list="stock/track/",e.stock_test_result_list="stock/test/",e.stock_transfer="stock/transfer/",e.stock_remove="stock/remove/",e.stock_return="stock/return/",e.stock_add="stock/add/",e.stock_count="stock/count/",e.stock_change_status="stock/change_status/",e.stock_merge="stock/merge/",e.stock_assign="stock/assign/",e.stock_status="stock/status/",e.stock_install="stock/:id/install/",e.stock_uninstall="stock/:id/uninstall/",e.stock_serialize="stock/:id/serialize/",e.stock_serial_info="stock/:id/serial-numbers/",e.generate_batch_code="generate/batch-code/",e.generate_serial_number="generate/serial-number/",e.purchase_order_list="order/po/",e.purchase_order_issue="order/po/:id/issue/",e.purchase_order_hold="order/po/:id/hold/",e.purchase_order_cancel="order/po/:id/cancel/",e.purchase_order_complete="order/po/:id/complete/",e.purchase_order_line_list="order/po-line/",e.purchase_order_extra_line_list="order/po-extra-line/",e.purchase_order_receive="order/po/:id/receive/",e.sales_order_list="order/so/",e.sales_order_issue="order/so/:id/issue/",e.sales_order_hold="order/so/:id/hold/",e.sales_order_cancel="order/so/:id/cancel/",e.sales_order_ship="order/so/:id/ship/",e.sales_order_complete="order/so/:id/complete/",e.sales_order_allocate="order/so/:id/allocate/",e.sales_order_allocate_serials="order/so/:id/allocate-serials/",e.sales_order_line_list="order/so-line/",e.sales_order_extra_line_list="order/so-extra-line/",e.sales_order_allocation_list="order/so-allocation/",e.sales_order_shipment_list="order/so/shipment/",e.sales_order_shipment_complete="order/so/shipment/:id/ship/",e.return_order_list="order/ro/",e.return_order_issue="order/ro/:id/issue/",e.return_order_hold="order/ro/:id/hold/",e.return_order_cancel="order/ro/:id/cancel/",e.return_order_complete="order/ro/:id/complete/",e.return_order_receive="order/ro/:id/receive/",e.return_order_line_list="order/ro-line/",e.return_order_extra_line_list="order/ro-extra-line/",e.label_list="label/template/",e.label_print="label/print/",e.report_list="report/template/",e.report_print="report/print/",e.report_snippet="report/snippet/",e.report_asset="report/asset/",e.plugin_list="plugins/",e.plugin_setting_list="plugins/:plugin/settings/",e.plugin_user_setting_list="plugins/:plugin/user-settings/",e.plugin_registry_status="plugins/status/",e.plugin_install="plugins/install/",e.plugin_reload="plugins/reload/",e.plugin_activate="plugins/:key/activate/",e.plugin_uninstall="plugins/:key/uninstall/",e.plugin_admin="plugins/:key/admin/",e.plugin_ui_features_list="plugins/ui/features/:feature_type/",e.plugin_locate_item="locate/",e.machine_types_list="machine/types/",e.machine_driver_list="machine/drivers/",e.machine_registry_status="machine/status/",e.machine_list="machine/",e.machine_restart="machine/:machine/restart/",e.machine_setting_list="machine/:machine/settings/",e.machine_setting_detail="machine/:machine/settings/:config_type/",e.attachment_list="attachment/",e.error_report_list="error-report/",e.project_code_list="project-code/",e.custom_unit_list="units/",e.notes_image_upload="notes-image-upload/",e.email_list="admin/email/",e.email_test="admin/email/test/",e.config_list="admin/config/",e))(W||{});window.LinguiCore.i18n;window.LinguiCore.i18n;W.part_list,W.part_parameter_template_list,W.part_test_template_list,W.supplier_part_list,W.manufacturer_part_list,W.category_list,W.stock_item_list,W.stock_location_list,W.stock_location_type_list,W.stock_tracking_list,W.build_order_list,W.build_line_list,W.build_item_list,W.company_list,W.project_code_list,W.purchase_order_list,W.purchase_order_line_list,W.sales_order_list,W.sales_order_shipment_list,W.return_order_list,W.return_order_line_list,W.address_list,W.contact_list,W.owner_list,W.user_list,W.group_list,W.import_session_list,W.label_list,W.report_list,W.plugin_list,W.content_type_list,W.selectionlist_list,W.error_report_list;function pr(e){var t;const n=((t=e?.version)==null?void 0:t.inventree)||"";yt!=n&&console.info(`Plugin version mismatch! Expected version ${yt}, got ${n}`)}var Xe={exports:{}},xe={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt;function _r(){if(Rt)return xe;Rt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var s in o)s!=="key"&&(a[s]=o[s])}else a=o;return o=a.ref,{$$typeof:e,type:r,key:l,ref:o!==void 0?o:null,props:a}}return xe.Fragment=t,xe.jsx=n,xe.jsxs=n,xe}var Mt;function br(){return Mt||(Mt=1,Xe.exports=_r()),Xe.exports}br();window.MantineCore.ActionIcon;window.MantineCore.Group;window.MantineCore.Tooltip;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cr={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=window.React.forwardRef,Ze=window.React.createElement,Y=(e,t,n,r)=>{const o=xr(({color:a="currentColor",size:l=24,stroke:s=2,title:c,className:u,children:d,...f},h)=>Ze("svg",{ref:h,...Cr[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),strokeWidth:s,stroke:a,...f},[c&&Ze("title",{key:"svg-title"},c),...r.map(([w,g])=>Ze(w,g)),...Array.isArray(d)?d:[d]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]];Y("outline","plus","Plus",vr);window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.MantineCore.Progress;window.MantineCore.Stack;window.MantineCore.Text;window.React.useMemo;window.LinguiCore.i18n;window.MantineCore.Badge;window.MantineCore.Skeleton;window.React.useState;window.React.useRef;window.React.useCallback;window.React.useEffect;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]];Y("outline","search","Search",kr);window.LinguiCore.i18n;window.MantineCore.CloseButton;window.MantineCore.TextInput;window.React.useEffect;window.React.useState;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]];Y("outline","arrow-right","ArrowRight",yr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]];Y("outline","copy","Copy",Rr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]];Y("outline","edit","Edit",Mr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]];Y("outline","trash","Trash",Sr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]];Y("outline","circle-x","CircleX",jr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]];Y("outline","dots","Dots",Tr);window.LinguiCore.i18n;window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.React.useMemo;window.React.useState;/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pr={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=window.React.forwardRef,Ye=window.React.createElement,K=(e,t,n,r)=>{const o=Ir(({color:a="currentColor",size:l=24,stroke:s=2,title:c,className:u,children:d,...f},h)=>Ye("svg",{ref:h,...Pr[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),strokeWidth:s,stroke:a,...f},[c&&Ye("title",{key:"svg-title"},c),...r.map(([w,g])=>Ye(w,g)),...Array.isArray(d)?d:[d]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]],Wr=K("outline","adjustments","Adjustments",Nr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],$r=K("outline","alert-circle","AlertCircle",Or);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Lr=K("outline","alert-triangle","AlertTriangle",zr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]],Dr=K("outline","corner-down-right","CornerDownRight",Br);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],Fr=K("outline","download","Download",Er);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],an=K("outline","refresh","Refresh",Vr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Hr=K("outline","search","Search",qr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Gr=K("outline","x","X",Jr),Qr=window.React.useRef,Ur=window.React.useEffect,Xr=["mousedown","touchstart"];function Zr(e,t,n){const r=Qr(null),o=Xr;return Ur(()=>{const a=l=>{const{target:s}=l??{};if(Array.isArray(n)){const c=!document.body.contains(s)&&s?.tagName!=="HTML";n.every(d=>!!d&&!l.composedPath().includes(d))&&!c&&e(l)}else r.current&&!r.current.contains(s)&&e(l)};return o.forEach(l=>document.addEventListener(l,a)),()=>{o.forEach(l=>document.removeEventListener(l,a))}},[r,e,n]),r}const Yr=window.React.useState,Kr=window.React.useEffect;function Ar(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function eo(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function to(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=Yr(n?t:eo(e));return Kr(()=>{try{const a=window.matchMedia(e);return o(a.matches),Ar(a,l=>o(l.matches))}catch{return}},[e]),r||!1}const no=window.React.useEffect;function St(e,t,n){no(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}const Ke=window.React.useCallback,ro=window.React.useState,jt=window.React.useEffect;function oo(e,t="use-local-storage"){try{return JSON.stringify(e)}catch{throw new Error(`@mantine/hooks ${t}: Failed to serialize the value`)}}function ao(e){try{return e&&JSON.parse(e)}catch{return e}}function lo(e){return{getItem:o=>{try{return window[e].getItem(o)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(o,a)=>{try{window[e].setItem(o,a)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:o=>{try{window[e].removeItem(o)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function so(e,t){const n="mantine-local-storage",{getItem:r,setItem:o,removeItem:a}=lo(e);return function({key:s,defaultValue:c,getInitialValueInEffect:u=!0,sync:d=!0,deserialize:f=ao,serialize:h=w=>oo(w,t)}){const w=Ke(C=>{let S;try{S=typeof window>"u"||!(e in window)||window[e]===null||!!C}catch{S=!0}if(S)return c;const v=r(s);return v!==null?f(v):c},[s,c]),[g,p]=ro(w(u)),x=Ke(C=>{C instanceof Function?p(S=>{const v=C(S);return o(s,h(v)),queueMicrotask(()=>{window.dispatchEvent(new CustomEvent(n,{detail:{key:s,value:C(S)}}))}),v}):(o(s,h(C)),window.dispatchEvent(new CustomEvent(n,{detail:{key:s,value:C}})),p(C))},[s]),_=Ke(()=>{a(s),p(c),window.dispatchEvent(new CustomEvent(n,{detail:{key:s,value:c}}))},[s,c]);return St("storage",C=>{d&&C.storageArea===window[e]&&C.key===s&&p(f(C.newValue??void 0))}),St(n,C=>{d&&C.detail.key===s&&p(C.detail.value)}),jt(()=>{c!==void 0&&g===void 0&&x(c)},[c,g,x]),jt(()=>{const C=w();C!==void 0&&x(C)},[s]),[g===void 0?c:g,x,_]}}function ht(e){return so("localStorage","use-local-storage")(e)}const io=window.React.useCallback;function Tt(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function co(...e){const t=new Map;return n=>{if(e.forEach(r=>{const o=Tt(r,n);o&&t.set(r,o)}),t.size>0)return()=>{e.forEach(r=>{const o=t.get(r);o&&typeof o=="function"?o():Tt(r,null)}),t.clear()}}}function Pt(...e){return io(co(...e),e)}const uo=window.React.useState,Ae=window.React.useCallback;function mo(e=!1,t={}){const[n,r]=uo(e),o=Ae(()=>{r(s=>s||(t.onOpen?.(),!0))},[t.onOpen]),a=Ae(()=>{r(s=>s&&(t.onClose?.(),!1))},[t.onClose]),l=Ae(()=>{n?a():o()},[a,o,n]);return[n,{open:o,close:a,toggle:l}]}const ho=window.React.useRef,It=window.React.useCallback,go=window.React.useEffect;function Nt(e,t,n={autoInvoke:!1}){const r=ho(null),o=It((...l)=>{r.current||(r.current=window.setTimeout(()=>{e(l),r.current=null},t))},[t]),a=It(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return go(()=>(n.autoInvoke&&o(),a),[a,o]),{start:o,clear:a}}function ln(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ln(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function F(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ln(e))&&(r&&(r+=" "),r+=t);return r}var et={exports:{}},ve={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt;function wo(){if(Wt)return ve;Wt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var s in o)s!=="key"&&(a[s]=o[s])}else a=o;return o=a.ref,{$$typeof:e,type:r,key:l,ref:o!==void 0?o:null,props:a}}return ve.Fragment=t,ve.jsx=n,ve.jsxs=n,ve}var Ot;function fo(){return Ot||(Ot=1,et.exports=wo()),et.exports}var i=fo();const po=window.MantineCore.Box,_o=window.MantineCore.Table,tt=window.React.useCallback,bo=window.React.useEffect,Co=window.React.useLayoutEffect,xo=window.React.useMemo,nt=window.React.useRef,vo=window.React.useState,$t=window.React.useState,ko=window.MantineCore.createSafeContext;var[yo,gt]=ko("useDataTableColumnsContext must be used within DataTableColumnProvider"),zt=e=>{let{children:t,columnsOrder:n,setColumnsOrder:r,columnsToggle:o,setColumnsToggle:a,resetColumnsOrder:l,resetColumnsToggle:s,setColumnWidth:c,setMultipleColumnWidths:u,resetColumnsWidth:d}=e,[f,h]=$t(""),[w,g]=$t("");return i.jsx(yo,{value:{sourceColumn:f,setSourceColumn:h,targetColumn:w,setTargetColumn:g,columnsToggle:o,setColumnsToggle:a,swapColumns:()=>{if(!n||!r||!f||!w)return;let p=n.indexOf(f),x=n.indexOf(w);if(p!==-1&&x!==-1){let _=n.splice(p,1)[0];n.splice(x,0,_),r([...n])}},resetColumnsOrder:l,resetColumnsToggle:s,setColumnWidth:c,setMultipleColumnWidths:u,resetColumnsWidth:d},children:t})};function Ro(){return i.jsx("tr",{className:"mantine-datatable-empty-row",children:i.jsx("td",{})})}const Mo=window.MantineCore.Center,So=window.MantineCore.Text;function jo(){return i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74"}),i.jsx("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6"}),i.jsx("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4"}),i.jsx("path",{d:"M3 3l18 18"})]})}function To({icon:e,text:t,active:n,children:r}){return i.jsx(Mo,{className:"mantine-datatable-empty-state","data-active":n||void 0,children:r||i.jsxs(i.Fragment,{children:[e||i.jsx("div",{className:"mantine-datatable-empty-state-icon",children:i.jsx(jo,{})}),i.jsx(So,{component:"div",size:"sm",c:"dimmed",children:t})]})})}const Po=window.MantineCore.TableTfoot,Io=window.MantineCore.TableTr,No=window.MantineCore.TableTh;window.React.useCallback;window.React.useRef;window.React.useState;function Wo({key:e,columns:t=[],getInitialValueInEffect:n=!0}){function r(f,h){let w=[];return f.forEach(g=>{h.find(p=>p.accessor===g)&&w.push(g)}),h.forEach(g=>{w.includes(g.accessor)||w.push(g.accessor)}),w}let o=t&&t.map(f=>f.accessor)||[],[a,l]=ht({key:e?`${e}-columns-order`:"",defaultValue:e?o:void 0,getInitialValueInEffect:n});function s(f){e&&l(f)}let c=()=>{s(o)};if(!e)return{columnsOrder:a,setColumnsOrder:s,resetColumnsOrder:c};let u=r(a,t),d=JSON.stringify(a);return JSON.stringify(u)!==d&&s(u),{columnsOrder:u,setColumnsOrder:s,resetColumnsOrder:c}}const oe=window.React.useCallback,rt=window.React.useEffect,Pe=window.React.useMemo,Lt=window.React.useRef,Bt=window.React.useState;function Oo({key:e,columns:t=[],getInitialValueInEffect:n=!0,headerRef:r,onFixedLayoutChange:o}){let a=Lt(!1),l=Lt({}),[s,c]=Bt(!0),u=Pe(()=>t.some(b=>b.resizable&&!b.hidden&&b.accessor!=="__selection__"),[t]),d=Pe(()=>t.filter(b=>b.resizable&&!b.hidden&&b.accessor!=="__selection__"),[t]),f=Pe(()=>d.some(b=>b.width===void 0||b.width===""||b.width==="initial"),[d]),h=oe(()=>t.filter(b=>b.accessor!=="__selection__").map(b=>({[b.accessor]:b.width??"auto"})),[t]),[w,g]=ht({key:e?`${e}-columns-width`:"",defaultValue:e?h():void 0,getInitialValueInEffect:!1}),[p,x]=Bt(()=>h());rt(()=>{c(!1)},[]);let _=oe(()=>{if(!r?.current||s)return{};let b=r.current,j=Array.from(b.querySelectorAll("th[data-accessor]")),$={};return j.forEach(I=>{let N=I.getAttribute("data-accessor");if(!N||N==="__selection__")return;let R=d.find(k=>k.accessor===N);if(R&&(R.width===void 0||R.width===""||R.width==="initial")){let k=I.getBoundingClientRect();$[N]=Math.round(k.width)}}),$},[r,d,s]),C=oe(b=>{let j=b.filter(I=>I.accessor!=="__selection__"),$=p.map(I=>{let N=Object.keys(I)[0],R=j.find(k=>k.accessor===N);return R?{[N]:R.width}:I});x($),e&&g($)},[p,e,g]),S=oe(b=>{C(b)},[C]),v=oe(()=>{if(!(!r?.current||!o||s))if(f)o(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{let b=_();l.current={...l.current,...b};let j=t.filter($=>$.accessor!=="__selection__").map($=>{let I=$.accessor,N=w?.find(k=>Object.keys(k)[0]===I);if(N&&N[I]!=="auto")return{[I]:N[I]};let R=b[I];return R?{[I]:`${R}px`}:{[I]:$.width??"auto"}});x(j),setTimeout(()=>{o(!0),a.current=!0},10)})});else{let b=t.filter(j=>j.accessor!=="__selection__").map(j=>({[j.accessor]:j.width??"auto"}));x(b),o(!0),a.current=!0}},[r,o,s,f,_,t,w]),P=v;rt(()=>{if(!u||!o||s){o?.(!1);return}a.current=!1;let b=setTimeout(()=>{v()},50);return()=>clearTimeout(b)},[u,o,s,v]),rt(()=>{s||!e||!n||w&&w.length>0&&x(w)},[s,e,n,w]);let y=oe(()=>{e&&g(h()),l.current={},a.current=!1,o&&(o(!1),setTimeout(()=>{v()},10))},[e,g,h,o,v]),M=oe((b,j)=>{C([{accessor:b,width:j}])},[C]),O=Pe(()=>u?p.filter(b=>{let j=Object.keys(b)[0];return d.some($=>$.accessor===j)}).every(b=>{let j=Object.values(b)[0];return j==="auto"||j==="initial"}):!1,[u,p,d]);return{columnsWidth:p,setColumnsWidth:C,setColumnWidth:M,setMultipleColumnWidths:S,resetColumnsWidth:y,hasResizableColumns:u,allResizableWidthsInitial:O,measureAndSetColumnWidths:P}}const $o=window.React.useMemo;function zo({key:e,columns:t=[],getInitialValueInEffect:n=!0}){function r(f,h){let w=[];return f.forEach(g=>{h.find(p=>p.accessor===g.accessor)&&w.push(g)}),h.forEach(g=>{w.find(p=>p.accessor===g.accessor)||w.push({accessor:g.accessor,defaultToggle:g.defaultToggle||!0,toggleable:g.toggleable,toggled:g.defaultToggle===void 0?!0:g.defaultToggle})}),w}let o=t&&t.map(f=>({accessor:f.accessor,defaultToggle:f.defaultToggle||!0,toggleable:f.toggleable,toggled:f.defaultToggle===void 0?!0:f.defaultToggle})),[a,l]=ht({key:e?`${e}-columns-toggle`:"",defaultValue:e?o:void 0,getInitialValueInEffect:n});function s(f){e&&l(f)}let c=()=>{s(o)};if(!e)return{columnsToggle:a,setColumnsToggle:s,resetColumnsToggle:c};let u=r(a,t),d=JSON.stringify(a);return JSON.stringify(u)!==d&&s(u),{columnsToggle:u,setColumnsToggle:s,resetColumnsToggle:c}}var Lo=({key:e,columns:t=[],getInitialValueInEffect:n=!0,headerRef:r,scrollViewportRef:o,onFixedLayoutChange:a})=>{let{columnsOrder:l,setColumnsOrder:s,resetColumnsOrder:c}=Wo({key:e,columns:t,getInitialValueInEffect:n}),{columnsToggle:u,setColumnsToggle:d,resetColumnsToggle:f}=zo({key:e,columns:t,getInitialValueInEffect:n}),{columnsWidth:h,setColumnsWidth:w,setColumnWidth:g,setMultipleColumnWidths:p,resetColumnsWidth:x,hasResizableColumns:_,allResizableWidthsInitial:C,measureAndSetColumnWidths:S}=Oo({key:e,columns:t,getInitialValueInEffect:n,headerRef:r,onFixedLayoutChange:a});return{effectiveColumns:$o(()=>l?l.map(v=>t.find(P=>P.accessor===v)).map(v=>({...v,hidden:v?.hidden||!u.find(P=>P.accessor===v?.accessor)?.toggled})).map(v=>v?.accessor==="__selection__"?v:{...v,width:h.find(P=>P[v?.accessor])?.[v?.accessor]}):t,[t,l,u,h]),setColumnsOrder:s,columnsOrder:l,resetColumnsOrder:c,columnsToggle:u,setColumnsToggle:d,resetColumnsToggle:f,columnsWidth:h,setColumnsWidth:w,setColumnWidth:g,setMultipleColumnWidths:p,resetColumnsWidth:x,hasResizableColumns:_,allResizableWidthsInitial:C,measureAndSetColumnWidths:S}};const Bo=window.MantineCore.rem,Do=window.React.useCallback,ot=window.React.useEffect,Z=window.React.useRef,Eo=window.React.useEffect,Fo=window.React.useLayoutEffect;var Dt=typeof window<"u"?Fo:Eo;const Vo=window.React.useRef;function Et(e){let t=Vo(e);return t.current=e,t}var Ft="--mantine-datatable-header-height",Vt="--mantine-datatable-footer-height",qt="--mantine-datatable-selection-column-width",Ht="--mantine-datatable-last-row-border-bottom";function Q(e,t,n){e?.style.setProperty(t,n)}function dt(e){let t=e.borderBoxSize?.[0]||e.contentBoxSize?.[0];return t?{width:t.inlineSize,height:t.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}}function at(e,t,n){if(e){let r=new ResizeObserver(o=>{let a=o[0];a&&t(dt(a))});return r.observe(e),()=>{r.disconnect(),n()}}}function qo({scrollCallbacks:e,withRowBorders:t}){let n={root:Z(null),table:Z(null),scrollViewport:Z(null),header:Z(null),footer:Z(null),selectionColumnHeader:Z(null)},{root:r,table:o,scrollViewport:a,header:l,footer:s,selectionColumnHeader:c}=n,u=Et({withRowBorders:t}),d=Et(e),f=Z(()=>{}),h=Z(()=>{}),w=Do(g=>{d.current.onScroll?.(g),f.current()},[]);return ot(()=>at(l.current,g=>{Q(r.current,Ft,`${g.height}px`)},()=>Q(r.current,Ft,"0")),[l.current]),ot(()=>at(s.current,g=>{Q(r.current,Vt,`${g.height}px`)},()=>Q(r.current,Vt,"0")),[s.current]),ot(()=>at(c.current,g=>{Q(r.current,qt,`${g.width}px`)},()=>Q(r.current,qt,"0")),[c.current]),Dt(()=>{if(typeof window===void 0)return;let g={top:!0,bottom:!0,left:!0,right:!0},p={width:0,height:0},x={width:0,height:0};function _(y,M){let O=g[y];return g[y]=M,Q(r.current,`--mantine-datatable-${y}-shadow-opacity`,M?"0":"1"),O}function C(){let y=p.height-x.height,M=y<0;Q(r.current,"--mantine-datatable-footer-position",M?"relative":"sticky"),Q(r.current,"--mantine-datatable-footer-bottom",M?`${y}px`:"0")}function S(){u.current.withRowBorders&&p.height<x.height?Q(r.current,Ht,`${Bo("1px")} solid var(--mantine-datatable-border-color)`):Q(r.current,Ht,"unset")}h.current=S;function v(){let y=d.current,M=a.current,O=M?.scrollTop??0,b=M?.scrollLeft??0,j=O===0,$=p.height-O-x.height<1,I=_("top",j),N=_("bottom",$);j&&j!==I&&y.onScrollToTop?.(),$&&$!==N&&y.onScrollToBottom?.();let R=M?getComputedStyle(M).direction==="rtl":!1,k=(M?.scrollWidth??0)-x.width,B,E;if(R){let z=Math.abs(b);E=z<1,B=k-z<1}else B=b<1,E=p.width-b-x.width<1;let m=_("left",B),T=_("right",E);B&&B!==m&&y.onScrollToLeft?.(),E&&E!==T&&y.onScrollToRight?.()}f.current=v;let P=new ResizeObserver(y=>{for(let M of y)switch(M.target.tagName){case"TABLE":{p=dt(M);break}case"DIV":{x=dt(M);break}}v(),C(),S()});return P.observe(o.current),P.observe(a.current),()=>{P.disconnect()}},[]),Dt(()=>{h.current()},[t]),{refs:n,onScroll:w}}const Ho=window.React.useEffect,Jo=window.React.useState;function Go(e){let[t,n]=Jo(null),r=e?.join(":")||"";return Ho(()=>{n(null)},[r]),{lastSelectionChangeIndex:t,setLastSelectionChangeIndex:n}}const Qo=window.React.useEffect,Uo=window.React.useRef,Xo=window.React.useState;function Zo(e,t){let n=()=>{t(e.map(o=>o.matches))},r=e.map(o=>{try{return o.addEventListener("change",n),()=>o.removeEventListener("change",n)}catch{return o.addListener(n),()=>o.removeListener(n)}});return()=>{r.forEach(o=>o())}}function Yo(e,t){return t||(typeof window<"u"&&"matchMedia"in window?e.map(n=>window.matchMedia(n).matches):e.map(()=>!1))}function Ko(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){let[r,o]=Xo(n?t:Yo(e,t)),a=Uo(null);return Qo(()=>{if("matchMedia"in window)return a.current=e.map(l=>window.matchMedia(l)),o(a.current.map(l=>l.matches)),Zo(a.current,l=>{o(l)})},[e]),r}const Ao=window.MantineCore.useMantineTheme,Jt=window.React.useMemo;function ea(e){let t=Ao(),n=Jt(()=>e.map(o=>(typeof o=="function"?o(t):o)??""),[e,t]),r=Jt(()=>e.map(()=>!0),[e]);return Ko(n,r)}const ta=window.MantineCore.useMantineTheme;function We(e){let t=ta(),n=typeof e=="function"?e(t):e;return to(n||"",!0)}const na=window.React.useState;function wt(e){let t=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}function ra(e,t,n){return e.filter(r=>!t.map(n).includes(n(r)))}function lt(e,t){return e.filter((n,r,o)=>r===o.findIndex(a=>t(n)===t(a)))}function sn(e,t){return t?t.match(/([^[.\]])+/g).reduce((n,r)=>n&&n[r],e):void 0}function J(e,t){return typeof t=="string"?sn(e,t):t(e)}function cn(e){return!e||e.length===0?0:Math.max(...e.map(t=>t.groups&&t.groups.length>0?1+cn(t.groups):1))}function ft(e){let t=[];for(let n of e)n.columns&&n.columns.length>0?t.push(...n.columns.filter(r=>r!=null)):n.groups&&n.groups.length>0&&t.push(...ft(n.groups));return t.filter(n=>n!=null)}function mt(e,t){return e.columns&&e.columns.length>0?e.columns.filter((n,r)=>n.hidden?!1:t?t[r]!==!1:!0).length:e.groups&&e.groups.length>0?e.groups.reduce((n,r)=>n+mt(r,t),0):0}function un(e,t,n=0){if(n===t)return[...e];let r=[];for(let o of e)o.groups&&o.groups.length>0&&r.push(...un(o.groups,t,n+1));return r}function oa(e,t,n){return n?!e||t:!1}function aa({rowExpansion:e,records:t,idAccessor:n}){let r=[];if(e&&t){let{trigger:s,allowMultiple:c,initiallyExpanded:u}=e;t&&s==="always"?r=t.map(d=>J(d,n)):u&&(r=t.filter((d,f)=>u({record:d,index:f})).map(d=>J(d,n)),c||(r=[r[0]]))}let o,a,l=na(r);if(e){let{expandable:s,trigger:c,allowMultiple:u,collapseProps:d,content:f}=e;e.expanded?{recordIds:o,onRecordIdsChange:a}=e.expanded:[o,a]=l;let h=w=>a?.(o.filter(g=>g!==J(w,n)));return{expandOnClick:c!=="always"&&c!=="never",isRowExpanded:w=>c==="always"?!0:o.includes(J(w,n)),isExpandable:({record:w,index:g})=>s?s({record:w,index:g}):!0,expandRow:w=>{let g=J(w,n);a?.(u?[...o,g]:[g])},collapseRow:h,collapseProps:d,content:({record:w,index:g})=>()=>f({record:w,index:g,collapse:()=>h(w)})}}}const la=window.React.useEffect,Gt=window.React.useState;function sa(e,t){let[n,r]=Gt(e),[o,a]=Gt(e),l=Nt(()=>r(!0),0),s=Nt(()=>a(!1),t||200);return la(()=>{e?(s.clear(),a(!0),l.start()):(l.clear(),r(!1),s.start())},[l,s,e]),{expanded:n,visible:o}}var pt="mantine-datatable-nowrap",_t="mantine-datatable-ellipsis",ue="mantine-datatable-pointer-cursor",dn="mantine-datatable-context-menu-cursor",ia="mantine-datatable-text-selection-disabled",Oe="mantine-datatable-text-align-left",$e="mantine-datatable-text-align-center",ze="mantine-datatable-text-align-right";function ca({className:e,style:t,visibleMediaQuery:n,title:r,noWrap:o,ellipsis:a,textAlign:l,width:s}){return We(n)?i.jsx(No,{className:F({[pt]:o||a,[_t]:a,[Oe]:l==="left",[$e]:l==="center",[ze]:l==="right"},e),style:[{width:s,minWidth:s,maxWidth:s},t],children:r}):null}const ua=window.MantineCore.TableTh;function da({shadowVisible:e}){return i.jsx(ua,{className:"mantine-datatable-footer-selector-placeholder-cell","data-shadow-visible":e||void 0})}function ma({className:e,style:t,columns:n,defaultColumnProps:r,selectionVisible:o,selectorCellShadowVisible:a,ref:l}){return i.jsx(Po,{ref:l,className:F("mantine-datatable-footer",e),style:t,children:i.jsxs(Io,{children:[o&&i.jsx(da,{shadowVisible:a}),n.map(({hidden:s,...c})=>{if(s)return null;let{accessor:u,visibleMediaQuery:d,textAlign:f,width:h,footer:w,footerClassName:g,footerStyle:p,noWrap:x,ellipsis:_}={...r,...c};return i.jsx(ca,{className:g,style:p,visibleMediaQuery:d,textAlign:f,width:h,title:w,noWrap:x,ellipsis:_},u)})]})})}const ha=window.MantineCore.Checkbox,ga=window.MantineCore.Group,wa=window.MantineCore.Popover,fa=window.MantineCore.PopoverDropdown,pa=window.MantineCore.PopoverTarget,_a=window.MantineCore.Stack,ba=window.MantineCore.TableThead,Qt=window.MantineCore.TableTr,Ca=window.React.useState,xa=window.MantineCore.TableTh,Ie=window.React.useMemo;function va({group:{id:e,columns:t,groups:n,title:r,textAlign:o,className:a,style:l},maxDepth:s,currentDepth:c,previousGroups:u,isLastGroup:d,withColumnBorders:f=!1,totalTableColumns:h}){let w=Ie(()=>t&&t.length>0?t:n&&n.length>0?ft([{id:e,columns:t,groups:n}]):[],[t,n,e]),g=Ie(()=>w.map(({visibleMediaQuery:P})=>P),[w]),p=ea(g),x=Ie(()=>mt({columns:t,groups:n},p),[e,t,n,p]),_=Ie(()=>u.reduce((P,y)=>P+mt(y,p),0),[u,p]),C=n&&n.length>0?1:s-c,S=_+x<h,v=oa(d,S,f);return x>0?i.jsx(xa,{colSpan:x,rowSpan:C>1?C:void 0,className:F("mantine-datatable-column-group-header-cell",{[Oe]:o==="left",[$e]:o==="center",[ze]:o==="right","mantine-datatable-column-group-header-cell--needs-border":v},a),style:l,children:r??wt(e)}):null}const Ut=window.MantineCore.ActionIcon,ka=window.MantineCore.Box,Ne=window.MantineCore.Center,ya=window.MantineCore.Flex,Ra=window.MantineCore.Group,Ma=window.MantineCore.TableTh,Sa=window.React.useRef,ja=window.React.useState,Ta=window.MantineCore.ActionIcon,Pa=window.MantineCore.Popover,Ia=window.MantineCore.PopoverDropdown,Na=window.MantineCore.PopoverTarget;function Wa(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})]})}function Oa(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z",strokeWidth:"0",fill:"currentColor"})]})}function $a({children:e,isActive:t,filterPopoverProps:n,filterPopoverDisableClickOutside:r}){let[o,{close:a,toggle:l}]=mo(!1),s=t?Oa:Wa,c=Zr(a);return r&&(c=void 0),i.jsxs(Pa,{withArrow:!0,shadow:"md",opened:o,onClose:a,trapFocus:!0,...n,children:[i.jsx(Na,{children:i.jsx(Ta,{className:"mantine-datatable-header-cell-filter-action-icon","data-active":t||void 0,size:"sm",variant:"default",onClick:u=>{u.preventDefault(),l()},onKeyDown:u=>u.stopPropagation(),children:i.jsx(s,{})})}),i.jsx(Ia,{ref:c,onClick:u=>u.stopPropagation(),onKeyDown:u=>u.stopPropagation(),children:typeof e=="function"?e({close:a}):e})]})}const za=window.MantineCore.useDirection,Xt=window.React.useCallback,Zt=window.React.useRef,La=window.React.useState;var Ba=e=>{let{accessor:t,columnRef:n}=e,[r,o]=La(!1),a=Zt(0),l=Zt({current:0,next:0}),{dir:s}=za(),c=s==="rtl",{setMultipleColumnWidths:u}=gt(),d=Xt(h=>{if(h.preventDefault(),h.stopPropagation(),!n.current)return;let w=n.current,g=w.nextElementSibling;for(;g;){let P=g.getAttribute("data-accessor");if(P&&P!=="__selection__")break;g=g.nextElementSibling}if(!g)return;let p=g.getAttribute("data-accessor");if(!p)return;let x=p==="__selection__";o(!0),a.current=h.clientX;let _=w.offsetWidth,C=g.offsetWidth;l.current={current:_,next:C};let S=P=>{if(!n.current)return;let y=n.current,M=y.nextElementSibling;if(!M)return;let O=P.clientX-a.current;c&&(O=-O);let b=50,j=l.current.current-b,$=l.current.next-b,I=Math.max(-j,Math.min(O,$)),N=l.current.current+I,R=l.current.next-I;y.style.width=`${N}px`,M.style.width=`${R}px`,y.style.minWidth=`${N}px`,y.style.maxWidth=`${N}px`,M.style.minWidth=`${R}px`,M.style.maxWidth=`${R}px`},v=()=>{if(!n.current)return;let P=n.current,y=P.nextElementSibling;o(!1),document.body.style.cursor="initial",document.body.style.userSelect="initial";let M=parseInt(P.style.width)||P.offsetWidth,O=y?parseInt(y.style.width)||y.offsetWidth:0,b=[{accessor:t,width:`${M}px`}];if(y&&!x){let j=y.getAttribute("data-accessor");j&&b.push({accessor:j,width:`${O}px`})}setTimeout(()=>{u(b)},0),document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",v)};document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",S),document.addEventListener("mouseup",v)},[t,n,c,u]),f=Xt(()=>{if(!n.current)return;let h=n.current,w=h.nextElementSibling;h.style.width="",h.style.minWidth="",h.style.maxWidth="";let g=[{accessor:t,width:"auto"}];if(w){w.style.width="",w.style.minWidth="",w.style.maxWidth="";let p=w.getAttribute("data-accessor");p&&p!=="__selection__"&&g.push({accessor:p,width:"auto"})}setTimeout(()=>{u(g)},0)},[t,n,u]);return i.jsx("div",{className:"mantine-datatable-header-resizable-handle",style:{cursor:r?"col-resize":void 0},onMouseDown:d,onDoubleClick:f,onClick:h=>h.stopPropagation(),title:"Drag to resize column, double-click to reset"})};function Da(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M12 5l0 14"}),i.jsx("path",{d:"M16 9l-4 -4"}),i.jsx("path",{d:"M8 9l4 -4"})]})}function Ea(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M8 7l4 -4l4 4"}),i.jsx("path",{d:"M8 17l4 4l4 -4"}),i.jsx("path",{d:"M12 3l0 18"})]})}function Fa(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),i.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function Va(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M18 6l-12 12"}),i.jsx("path",{d:"M6 6l12 12"})]})}function qa({className:e,style:t,accessor:n,visibleMediaQuery:r,title:o,sortable:a,draggable:l,toggleable:s,resizable:c,sortIcons:u,textAlign:d,width:f,sortStatus:h,onSortStatusChange:w,filter:g,filterPopoverProps:p,filterPopoverDisableClickOutside:x,filtering:_,sortKey:C}){let{setSourceColumn:S,setTargetColumn:v,swapColumns:P,setColumnsToggle:y}=gt(),[M,O]=ja(!1),b=Sa(null);if(!We(r))return null;let j=o??wt(n),$=typeof j=="string"?j:void 0,I=a&&w?T=>{T?.defaultPrevented||w({sortKey:C,columnAccessor:n,direction:h?.columnAccessor===n?h.direction==="asc"?"desc":"asc":h?.direction??"asc"})}:void 0,N=T=>{T.stopPropagation(),S(n),O(!1)},R=T=>{T.preventDefault(),v(n),O(!0)},k=()=>{v(n),O(!1),P()},B=()=>{O(!0)},E=()=>{O(!1)},m=T=>{T.stopPropagation(),y(z=>z.map(V=>V.accessor===n?{...V,toggled:!1}:V))};return i.jsxs(Ma,{"data-accessor":n,className:F({"mantine-datatable-header-cell-sortable":a,"mantine-datatable-header-cell-toggleable":s,"mantine-datatable-header-cell-resizable":c},e),style:[{width:f,...c?{}:{minWidth:f,maxWidth:f}},t],role:a?"button":void 0,tabIndex:a?0:void 0,onClick:I,onKeyDown:T=>T.key==="Enter"&&I?.(),ref:b,children:[i.jsxs(Ra,{className:"mantine-datatable-header-cell-sortable-group",justify:"space-between",wrap:"nowrap",children:[i.jsxs(ya,{align:"center",w:"100%",className:F({"mantine-datatable-header-cell-draggable":l,"mantine-datatable-header-cell-drag-over":M}),draggable:l,onDragStart:l?N:void 0,onDragEnter:l?B:void 0,onDragOver:l?R:void 0,onDrop:l?k:void 0,onDragLeave:l?E:void 0,children:[l?i.jsx(Ne,{role:"img","aria-label":"Drag column",children:i.jsx(Ut,{className:"mantine-datatable-header-cell-draggable-action-icon",variant:"subtle",size:"xs",onClick:T=>{T.stopPropagation()},children:i.jsx(Fa,{})})}):null,i.jsx(ka,{className:F("mantine-datatable-header-cell-sortable-text",{[Oe]:d==="left",[$e]:d==="center",[ze]:d==="right"},pt,_t),title:$,children:j})]}),s?i.jsx(Ne,{className:"mantine-datatable-header-cell-toggleable-icon",role:"img","aria-label":"Toggle column",children:i.jsx(Ut,{size:"xs",variant:"light",onClick:m,children:i.jsx(Va,{})})}):null,a||h?.columnAccessor===n?i.jsx(i.Fragment,{children:h?.columnAccessor===n?i.jsx(Ne,{className:F("mantine-datatable-header-cell-sortable-icon",{"mantine-datatable-header-cell-sortable-icon-reversed":h.direction==="desc"}),role:"img","aria-label":`Sorted ${h.direction==="desc"?"descending":"ascending"}`,children:u?.sorted||i.jsx(Da,{})}):i.jsx(Ne,{className:"mantine-datatable-header-cell-sortable-unsorted-icon",role:"img","aria-label":"Not sorted",children:u?.unsorted||i.jsx(Ea,{})})}):null,g?i.jsx($a,{filterPopoverProps:p,isActive:!!_,filterPopoverDisableClickOutside:x,children:g}):null]}),c&&n!=="__selection__"?i.jsx(Ba,{accessor:n,columnRef:b}):null]})}const Ha=window.MantineCore.Checkbox,Ja=window.MantineCore.TableTh;function Ga({className:e,style:t,trigger:n,shadowVisible:r,checked:o,indeterminate:a,checkboxProps:l,onChange:s,rowSpan:c,ref:u}){let d=!l.disabled;return i.jsx(Ja,{ref:u,className:F("mantine-datatable-header-selector-cell",{[ue]:n==="cell"&&d},e),style:t,rowSpan:c,"data-shadow-visible":r||void 0,"data-accessor":"__selection__",onClick:n==="cell"&&d?s:void 0,children:i.jsx(Ha,{classNames:d?{input:ue}:void 0,checked:o,indeterminate:a,onChange:s,...l,disabled:!(s||l.onChange)||l.disabled})})}function Qa({selectionColumnHeaderRef:e,className:t,style:n,sortStatus:r,sortIcons:o,onSortStatusChange:a,columns:l,defaultColumnProps:s,groups:c,selectionTrigger:u,selectionVisible:d,selectionChecked:f,selectionIndeterminate:h,onSelectionChange:w,selectionCheckboxProps:g,selectorCellShadowVisible:p,selectionColumnClassName:x,selectionColumnStyle:_,withColumnBorders:C=!1,ref:S}){let v=c?cn(c):0,P=v>0?v+1:1,y=d?i.jsx(Ga,{ref:e,className:x,style:_,trigger:u,shadowVisible:p,checked:f,indeterminate:h,checkboxProps:g,onChange:w,rowSpan:c?P:void 0}):null,{columnsToggle:M,setColumnsToggle:O}=gt(),[b,j]=Ca(!1),$=l.some(R=>R.toggleable),I=$?Object.fromEntries(l.map(({accessor:R,title:k})=>[R,k??wt(String(R))])):void 0,N=i.jsxs(ba,{className:F("mantine-datatable-header",t),style:n,ref:S,onContextMenu:$?R=>{R.preventDefault(),j(k=>!k)}:void 0,children:[c&&Array.from({length:v},(R,k)=>{let B=un(c,k);return i.jsxs(Qt,{children:[k===0&&y,B.map((E,m)=>i.jsx(va,{group:E,maxDepth:v,currentDepth:k,previousGroups:B.slice(0,m),isLastGroup:m===B.length-1,withColumnBorders:C,totalTableColumns:l.length},E.id))]},`group-depth-${k}`)}),i.jsxs(Qt,{children:[!c&&y,l.map(({hidden:R,...k},B)=>{if(R)return null;let{accessor:E,visibleMediaQuery:m,textAlign:T,width:z,title:V,sortable:A,draggable:de,toggleable:me,resizable:he,titleClassName:ee,titleStyle:ge,filter:we,filterPopoverProps:X,filterPopoverDisableClickOutside:Le,filtering:Be,sortKey:De}={...s,...k};return i.jsx(qa,{accessor:E,className:ee,style:ge,visibleMediaQuery:m,textAlign:T,width:z,title:V,sortable:A,draggable:de,toggleable:me,resizable:he&&B<l.length-1,sortStatus:r,sortIcons:o,sortKey:De,onSortStatusChange:a,filter:we,filterPopoverProps:X,filterPopoverDisableClickOutside:Le,filtering:Be},E)})]})]});return $?i.jsxs(wa,{position:"bottom",withArrow:!0,shadow:"md",opened:b,onChange:j,children:[i.jsx(pa,{children:N}),i.jsx(fa,{children:i.jsx(_a,{children:M.filter(R=>R.toggleable).map(R=>i.jsx(ga,{children:i.jsx(ha,{classNames:{label:"mantine-datatable-header-column-toggle-checkbox-label"},size:"xs",label:I[R.accessor],checked:R.toggled,onChange:k=>{O(M.map(B=>B.accessor===R.accessor?{...B,toggled:k.currentTarget.checked}:B))}})},R.accessor))})})]}):N}const Ua=window.MantineCore.Center,Xa=window.MantineCore.Loader;function Za({fetching:e,customContent:t,backgroundBlur:n,size:r,type:o,color:a}){return i.jsx(Ua,{className:F("mantine-datatable-loader",{"mantine-datatable-loader-fetching":e}),style:[{backdropFilter:n?`blur(${n}px)`:void 0}],children:e&&(t||i.jsx(Xa,{size:r,type:o,color:a}))})}const Ya=window.MantineCore.Box,Ka=window.MantineCore.Pagination,Aa=window.MantineCore.Text,el=window.MantineCore.rem,tl=window.MantineCore.Button,nl=window.MantineCore.Group,rl=window.MantineCore.Menu,ol=window.MantineCore.MenuDropdown,al=window.MantineCore.MenuItem,ll=window.MantineCore.MenuTarget,Yt=window.MantineCore.Text,ke=window.MantineCore.rem,sl=window.MantineCore.parseThemeColor;function q(e,t,n){return e?sl({color:typeof e=="object"?e[n]:e,theme:t}).value:void 0}function il({theme:e,c:t,backgroundColor:n,borderColor:r,rowBorderColor:o,stripedColor:a,highlightOnHoverColor:l}){return{"--mantine-datatable-color-light":q(t,e,"light"),"--mantine-datatable-color-dark":q(t,e,"dark"),"--mantine-datatable-background-color-light":q(n,e,"light"),"--mantine-datatable-background-color-dark":q(n,e,"dark"),"--mantine-datatable-border-color-light":q(r,e,"light"),"--mantine-datatable-border-color-dark":q(r,e,"dark"),"--mantine-datatable-row-border-color-light":q(o,e,"light"),"--mantine-datatable-row-border-color-dark":q(o,e,"dark"),"--mantine-datatable-striped-color-light":q(a,e,"light"),"--mantine-datatable-striped-color-dark":q(a,e,"dark"),"--mantine-datatable-highlight-on-hover-color-light":q(l,e,"light"),"--mantine-datatable-highlight-on-hover-color-dark":q(l,e,"dark")}}function mn({theme:e,paginationActiveTextColor:t,paginationActiveBackgroundColor:n}){return{"--mantine-datatable-pagination-active-text-color-light":q(t,e,"light"),"--mantine-datatable-pagination-active-text-color-dark":q(t,e,"dark"),"--mantine-datatable-pagination-active-background-color-light":q(n,e,"light"),"--mantine-datatable-pagination-active-background-color-dark":q(n,e,"dark")}}function cl({theme:e,color:t,backgroundColor:n}){return{"--mantine-datatable-row-color-light":q(t,e,"light"),"--mantine-datatable-row-color-dark":q(t,e,"dark"),"--mantine-datatable-row-background-color-light":q(n,e,"light"),"--mantine-datatable-row-background-color-dark":q(n,e,"dark")}}function ul(){return i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.jsx("path",{d:"M8 9l4 -4l4 4"}),i.jsx("path",{d:"M16 15l-4 4l-4 -4"})]})}var Kt={xs:ke(22),sm:ke(26),md:ke(32),lg:ke(38),xl:ke(44)};function dl({size:e,label:t,values:n,value:r,activeTextColor:o,activeBackgroundColor:a,onChange:l}){return i.jsxs(nl,{gap:"xs",children:[i.jsx(Yt,{component:"div",size:e,children:t}),i.jsxs(rl,{withinPortal:!0,withArrow:!0,offset:2,classNames:{arrow:"mantine-datatable-page-size-selector-menu-arrow"},children:[i.jsx(ll,{children:i.jsx(tl,{size:e,variant:"default",classNames:{section:"mantine-datatable-page-size-selector-button-icon"},rightSection:i.jsx(ul,{}),style:[{fontWeight:"normal"},s=>({height:Kt[e],paddingLeft:s.spacing[e],paddingRight:s.spacing[e]})],children:r})}),i.jsx(ol,{children:n.map(s=>{let c=s===r;return i.jsx(al,{className:F({"mantine-datatable-page-size-selector-active":c}),style:[{height:Kt[e]},c&&(o||a)?u=>mn({theme:u,paginationActiveTextColor:o,paginationActiveBackgroundColor:a}):void 0],disabled:c,onClick:()=>l(s),children:i.jsx(Yt,{component:"div",size:e,children:s})},s)})})]})]})}function ml({className:e,style:t,fetching:n,page:r,onPageChange:o,paginationWithEdges:a,paginationWithControls:l,paginationActiveTextColor:s,paginationActiveBackgroundColor:c,paginationSize:u,loadingText:d,noRecordsText:f,paginationText:h,totalRecords:w,recordsPerPage:g,onRecordsPerPageChange:p,recordsPerPageLabel:x,recordsPerPageOptions:_,recordsLength:C,horizontalSpacing:S,paginationWrapBreakpoint:v,getPaginationControlProps:P,getPaginationItemProps:y,renderPagination:M}){let O;if(w){let k=(r-1)*g+1,B=k+(C||0)-1;O=h({from:k,to:B,totalRecords:w})}else O=n?d:f;let b=w&&g?Math.max(1,Math.ceil(w/g)):1,j=w?(r-1)*(g??0)+1:void 0,$=w?(j??1)+(C??0)-1:void 0,I=!We(({breakpoints:k})=>`(min-width: ${typeof v=="number"?`${el(v)}rem`:k[v]||v})`),N={Text:k=>i.jsx(Aa,{component:"div",className:"mantine-datatable-pagination-text",size:u,...k,children:O}),PageSizeSelector:k=>_?i.jsx(dl,{activeTextColor:s,activeBackgroundColor:c,size:u,label:x,values:_,value:g,onChange:p,...k}):i.jsx(i.Fragment,{}),Pagination:k=>i.jsx(Ka,{classNames:{root:F("mantine-datatable-pagination-pages",{"mantine-datatable-pagination-pages-fetching":n||!C}),control:"mantine-datatable-pagination-pages-control"},style:s||c?B=>mn({theme:B,paginationActiveTextColor:s,paginationActiveBackgroundColor:c}):void 0,withEdges:a,withControls:l,value:r,onChange:o,size:u,total:b,getControlProps:P,getItemProps:y,...k})},R={state:{paginationSize:u,page:r,totalPages:b,totalRecords:w,recordsPerPage:g,recordsLength:C,fetching:n,from:j,to:$,isWrapped:I},actions:{setPage:k=>o?.(k),setRecordsPerPage:p?k=>p(k):void 0},Controls:N};return i.jsx(Ya,{px:S??"xs",py:"xs",className:F("mantine-datatable-pagination",e),style:[{flexDirection:I?"column":"row"},t],children:typeof M=="function"?M(R):i.jsxs(i.Fragment,{children:[i.jsx(N.Text,{}),i.jsx(N.PageSizeSelector,{}),i.jsx(N.Pagination,{})]})})}const hl=window.MantineCore.TableTr,gl=window.MantineCore.TableTd;function wl({className:e,style:t,visibleMediaQuery:n,record:r,index:o,onClick:a,onDoubleClick:l,onContextMenu:s,noWrap:c,ellipsis:u,textAlign:d,width:f,accessor:h,render:w,defaultRender:g,customCellAttributes:p}){return We(n)?i.jsx(gl,{className:F({[pt]:c||u,[_t]:u,[ue]:a||l,[dn]:s,[Oe]:d==="left",[$e]:d==="center",[ze]:d==="right"},e),style:[{width:f,minWidth:f,maxWidth:f},t],onClick:a,onDoubleClick:l,onContextMenu:s,...p?.(r,o),children:w?w(r,o):g?g(r,o,h):sn(r,h)}):null}const fl=window.MantineCore.Collapse,pl=window.MantineCore.TableTd,At=window.MantineCore.TableTr;function _l({open:e,colSpan:t,content:n,collapseProps:r}){let{expanded:o,visible:a}=sa(e,r?.transitionDuration);return a?i.jsxs(i.Fragment,{children:[i.jsx(At,{}),i.jsx(At,{children:i.jsx(pl,{className:"mantine-datatable-row-expansion-cell",colSpan:t,children:i.jsx(fl,{in:o,...r,children:i.jsx("div",{className:"mantine-datatable-row-expansion-cell-content",children:n()})})})})]}):null}const bl=window.MantineCore.Checkbox,Cl=window.MantineCore.TableTd;function xl({className:e,style:t,record:n,index:r,trigger:o,onChange:a,withRightShadow:l,checkboxProps:s,getCheckboxProps:c,...u}){let d={...s,...c(n,r)},f=!u.disabled&&!d.disabled,h=w=>{w.stopPropagation(),o==="cell"&&f&&a?.(w)};return i.jsx(Cl,{className:F("mantine-datatable-row-selector-cell",{[ue]:o==="cell"&&f},e),style:t,"data-shadow-visible":l||void 0,onClick:h,children:i.jsx(bl,{classNames:f?{input:ue}:void 0,onChange:a,...u,...d})})}function vl({record:e,index:t,columns:n,defaultColumnProps:r,defaultColumnRender:o,selectionTrigger:a,selectionVisible:l,selectionChecked:s,onSelectionChange:c,isRecordSelectable:u,selectionCheckboxProps:d,getSelectionCheckboxProps:f,onClick:h,onDoubleClick:w,onContextMenu:g,onCellClick:p,onCellDoubleClick:x,onCellContextMenu:_,expansion:C,customAttributes:S,color:v,backgroundColor:P,className:y,style:M,selectorCellShadowVisible:O,selectionColumnClassName:b,selectionColumnStyle:j,rowFactory:$}){let I=i.jsxs(i.Fragment,{children:[l&&i.jsx(xl,{className:b,style:j,record:e,index:t,trigger:a,withRightShadow:O,checked:s,disabled:!c||(u?!u(e,t):!1),onChange:c,checkboxProps:d,getCheckboxProps:f}),n.map(({hidden:k,hiddenContent:B,...E},m)=>{if(k||B)return null;let{accessor:T,visibleMediaQuery:z,textAlign:V,noWrap:A,ellipsis:de,width:me,render:he,cellsClassName:ee,cellsStyle:ge,customCellAttributes:we}={...r,...E};return i.jsx(wl,{className:typeof ee=="function"?ee(e,t):ee,style:ge?.(e,t),visibleMediaQuery:z,record:e,index:t,onClick:p?X=>p({event:X,record:e,index:t,column:E,columnIndex:m}):void 0,onDoubleClick:x?X=>x({event:X,record:e,index:t,column:E,columnIndex:m}):void 0,onContextMenu:_?X=>_({event:X,record:e,index:t,column:E,columnIndex:m}):void 0,accessor:T,textAlign:V,noWrap:A,ellipsis:de,width:me,render:he,defaultRender:o,customCellAttributes:we},T)})]}),N=C&&i.jsx(_l,{colSpan:n.filter(({hidden:k})=>!k).length+(l?1:0),open:C.isRowExpanded(e),content:C.content({record:e,index:t}),collapseProps:C.collapseProps}),R=kl({record:e,index:t,selectionChecked:s,onClick:h,onDoubleClick:w,onContextMenu:g,expansion:C,customAttributes:S,color:v,backgroundColor:P,className:y,style:M});return $?$({record:e,index:t,rowProps:R,children:I,expandedElement:N}):i.jsxs(i.Fragment,{children:[i.jsx(hl,{...R,children:I}),N]})}function kl({record:e,index:t,selectionChecked:n,onClick:r,onDoubleClick:o,onContextMenu:a,expansion:l,customAttributes:s,color:c,backgroundColor:u,className:d,style:f}){return{className:F("mantine-datatable-row",{[ue]:r||o||l?.isExpandable({record:e,index:t})&&l?.expandOnClick},{[dn]:a},typeof d=="function"?d(e,t):d),"data-selected":n||void 0,onClick:h=>{if(l){let{isExpandable:w,isRowExpanded:g,expandOnClick:p,expandRow:x,collapseRow:_}=l;w({record:e,index:t})&&p&&(g(e)?_(e):x(e))}r?.({event:h,record:e,index:t})},onDoubleClick:o?h=>o({event:h,record:e,index:t}):void 0,onContextMenu:a?h=>a({event:h,record:e,index:t}):void 0,style:[c||u?h=>{let w=c?.(e,t),g=u?.(e,t);return cl({theme:h,color:w,backgroundColor:g})}:void 0,f?.(e,t)],...s?.(e,t)??{}}}const en=window.MantineCore.Box,yl=window.MantineCore.ScrollArea;function Rl({leftShadowBehind:e,rightShadowBehind:t,onScrollPositionChange:n,children:r,viewportRef:o,scrollAreaProps:a}){return i.jsxs(yl,{...a,viewportRef:o,classNames:{root:"mantine-datatable-scroll-area",scrollbar:"mantine-datatable-scroll-area-scrollbar",thumb:"mantine-datatable-scroll-area-thumb",corner:"mantine-datatable-scroll-area-corner"},onScrollPositionChange:n,children:[r,i.jsx(en,{className:F("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-top-shadow")}),i.jsx("div",{className:F("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-left-shadow",{"mantine-datatable-scroll-area-shadow-behind":e})}),i.jsx("div",{className:F("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-right-shadow",{"mantine-datatable-scroll-area-shadow-behind":t})}),i.jsx(en,{className:F("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-bottom-shadow")})]})}function Ml({withTableBorder:e,borderRadius:t,textSelectionDisabled:n,height:r="100%",minHeight:o,maxHeight:a,shadow:l,verticalAlign:s="center",fetching:c,columns:u,storeColumnsKey:d,groups:f,pinFirstColumn:h,pinLastColumn:w,defaultColumnProps:g,defaultColumnRender:p,idAccessor:x="id",records:_,selectionTrigger:C="checkbox",selectedRecords:S,onSelectedRecordsChange:v,selectionColumnClassName:P,selectionColumnStyle:y,isRecordSelectable:M,selectionCheckboxProps:O,allRecordsSelectionCheckboxProps:b={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:j=(G,_e)=>({"aria-label":`Select record ${_e+1}`}),sortStatus:$,sortIcons:I,onSortStatusChange:N,horizontalSpacing:R,page:k,onPageChange:B,totalRecords:E,recordsPerPage:m,onRecordsPerPageChange:T,recordsPerPageOptions:z,recordsPerPageLabel:V="Records per page",paginationWithEdges:A,paginationWithControls:de,paginationActiveTextColor:me,paginationActiveBackgroundColor:he,paginationSize:ee="sm",paginationText:ge=({from:G,to:_e,totalRecords:Ve})=>`${G} - ${_e} / ${Ve}`,paginationWrapBreakpoint:we="sm",getPaginationControlProps:X=G=>G==="previous"?{"aria-label":"Previous page"}:G==="next"?{"aria-label":"Next page"}:{},getPaginationItemProps:Le,renderPagination:Be,loaderBackgroundBlur:De,customLoader:hn,loaderSize:gn,loaderType:wn,loaderColor:fn,loadingText:pn="...",emptyState:_n,noRecordsText:bt="No records",noRecordsIcon:bn,highlightOnHover:Cn,striped:xn,noHeader:vn,onRowClick:kn,onRowDoubleClick:yn,onRowContextMenu:Rn,onCellClick:Mn,onCellDoubleClick:Sn,onCellContextMenu:jn,onScroll:Tn,onScrollToTop:Pn,onScrollToBottom:In,onScrollToLeft:Nn,onScrollToRight:Wn,c:On,backgroundColor:$n,borderColor:zn,rowBorderColor:Ln,stripedColor:Bn,highlightOnHoverColor:Dn,rowColor:En,rowBackgroundColor:Fn,rowExpansion:Vn,rowClassName:qn,rowStyle:Hn,customRowAttributes:Jn,scrollViewportRef:Gn,scrollAreaProps:Qn,tableRef:Un,bodyRef:Xn,m:Zn,my:Yn,mx:Kn,mt:An,mb:er,ml:tr,mr:nr,className:rr,classNames:fe,style:or,styles:pe,rowFactory:ar,tableWrapper:Ee,...Fe}){let G=xo(()=>f?ft(f):u,[u,f]),[_e,Ve]=vo(!1),{refs:U,onScroll:lr}=qo({scrollCallbacks:{onScroll:Tn,onScrollToTop:Pn,onScrollToBottom:In,onScrollToLeft:Nn,onScrollToRight:Wn},withRowBorders:Fe.withRowBorders}),qe=Lo({key:d,columns:G,headerRef:U.header,scrollViewportRef:U.scrollViewport,onFixedLayoutChange:Ve}),sr=Pt(U.table,Un),ir=Pt(U.scrollViewport,Gn),cr=aa({rowExpansion:Vn,records:_,idAccessor:x}),Me=nt(!1),Ct=nt(k),He=nt(_),ur=tt(L=>{Me.current=!0,He.current=_,B(L)},[B,_]);bo(()=>{Ct.current!==k&&(Me.current=!0,He.current=_,Ct.current=k)},[k,_]);let be=_?.length;Co(()=>{if(!Me.current||c||_===He.current)return;let L=U.scrollViewport.current;if(!L)return;let te=requestAnimationFrame(()=>{L.scrollTo({top:0,left:0}),Me.current=!1});return()=>cancelAnimationFrame(te)},[c,_,U.scrollViewport]);let xt=_?.map(L=>J(L,x)),se=!!S,Ce=S?.map(L=>J(L,x)),vt=xt!==void 0&&Ce!==void 0&&Ce.length>0,Je=M?_?.filter(M):_,Se=Je?.map(L=>J(L,x)),je=vt&&Se.every(L=>Ce.includes(L)),dr=vt&&Se.some(L=>Ce.includes(L)),mr=tt(()=>{S&&v&&v(je?S.filter(L=>!Se.includes(J(L,x))):lt([...S,...Je],L=>J(L,x)))},[je,x,v,Se,Je,S]),{lastSelectionChangeIndex:Te,setLastSelectionChangeIndex:hr}=Go(xt),Ge=se&&!h,gr={m:Zn,my:Yn,mx:Kn,mt:An,mb:er,ml:tr,mr:nr},wr=tt(({children:L})=>Ee?Ee({children:L}):L,[Ee]);return i.jsx(zt,{...qe,children:i.jsxs(po,{ref:U.root,...gr,className:F("mantine-datatable",{"mantine-datatable-with-border":e},rr,fe?.root),style:[L=>({...il({theme:L,c:On,backgroundColor:$n,borderColor:zn,rowBorderColor:Ln,stripedColor:Bn,highlightOnHoverColor:Dn}),borderRadius:L.radius[t]||t,boxShadow:L.shadows[l]||l,height:r,minHeight:o,maxHeight:a}),or,pe?.root,{position:"relative"}],children:[i.jsx(Rl,{viewportRef:ir,leftShadowBehind:se||!!h,rightShadowBehind:w,onScrollPositionChange:lr,scrollAreaProps:Qn,children:i.jsx(wr,{children:i.jsxs(_o,{ref:sr,horizontalSpacing:R,className:F("mantine-datatable-table",{[ia]:n,"mantine-datatable-vertical-align-top":s==="top","mantine-datatable-vertical-align-bottom":s==="bottom","mantine-datatable-pin-last-column":w,"mantine-datatable-selection-column-visible":se,"mantine-datatable-pin-first-column":h,"mantine-datatable-resizable-columns":qe.hasResizableColumns&&_e},fe?.table),style:{...pe?.table},"data-striped":be&&xn||void 0,"data-highlight-on-hover":Cn||void 0,...Fe,children:[vn?null:i.jsx(zt,{...qe,children:i.jsx(Qa,{ref:U.header,selectionColumnHeaderRef:U.selectionColumnHeader,className:fe?.header,style:pe?.header,columns:G,defaultColumnProps:g,groups:f,sortStatus:$,sortIcons:I,onSortStatusChange:N,selectionTrigger:C,selectionVisible:se,selectionChecked:je,selectionIndeterminate:dr&&!je,onSelectionChange:mr,selectionCheckboxProps:{...O,...b},selectorCellShadowVisible:Ge,selectionColumnClassName:P,selectionColumnStyle:y,withColumnBorders:Fe.withColumnBorders})}),i.jsx("tbody",{ref:Xn,children:be?_.map((L,te)=>{let Qe=J(L,x),Ue=Ce?.includes(Qe)||!1,kt;return v&&S&&(kt=fr=>{if(fr.nativeEvent.shiftKey&&Te!==null){let ie=_.filter(te>Te?(ne,re)=>re>=Te&&re<=te&&(M?M(ne,re):!0):(ne,re)=>re>=te&&re<=Te&&(M?M(ne,re):!0));v(Ue?ra(S,ie,ne=>J(ne,x)):lt([...S,...ie],ne=>J(ne,x)))}else v(Ue?S.filter(ie=>J(ie,x)!==Qe):lt([...S,L],ie=>J(ie,x)));hr(te)}),i.jsx(vl,{record:L,index:te,columns:G,defaultColumnProps:g,defaultColumnRender:p,selectionTrigger:C,selectionVisible:se,selectionChecked:Ue,onSelectionChange:kt,isRecordSelectable:M,selectionCheckboxProps:O,getSelectionCheckboxProps:j,onClick:kn,onDoubleClick:yn,onCellClick:Mn,onCellDoubleClick:Sn,onContextMenu:Rn,onCellContextMenu:jn,expansion:cr,color:En,backgroundColor:Fn,className:qn,style:Hn,customAttributes:Jn,selectorCellShadowVisible:Ge,selectionColumnClassName:P,selectionColumnStyle:y,idAccessor:x,rowFactory:ar},Qe)}):i.jsx(Ro,{})}),G.some(({footer:L})=>L)&&i.jsx(ma,{ref:U.footer,className:fe?.footer,style:pe?.footer,columns:G,defaultColumnProps:g,selectionVisible:se,selectorCellShadowVisible:Ge})]})})}),!!(k&&be)&&i.jsx(ml,{className:fe?.pagination,style:pe?.pagination,horizontalSpacing:R,fetching:c,page:k,onPageChange:ur,totalRecords:E,recordsPerPage:m,onRecordsPerPageChange:T,recordsPerPageOptions:z,recordsPerPageLabel:V,paginationWithEdges:A,paginationWithControls:de,paginationActiveTextColor:me,paginationActiveBackgroundColor:he,paginationSize:ee,paginationText:ge,paginationWrapBreakpoint:we,getPaginationControlProps:X,getPaginationItemProps:Le,noRecordsText:bt,loadingText:pn,recordsLength:be,renderPagination:Be}),i.jsx(Za,{fetching:c,backgroundBlur:De,customContent:hn,size:gn,type:wn,color:fn}),i.jsx(To,{icon:bn,text:bt,active:!c&&!be,children:_n})]})})}window.MantineCore.TableTr;window.React.useEffect;window.React.useRef;const Sl=window.MantineCore.ActionIcon,tn=window.MantineCore.Button,st=window.MantineCore.Checkbox,jl=window.MantineCore.Divider,Tl=window.MantineCore.Group,ye=window.MantineCore.Menu,Pl=window.MantineCore.NumberInput,Il=window.MantineCore.Stack,Nl=window.MantineCore.Tooltip;function Wl({buildQuantity:e,onBuildQuantityChange:t,includeAllocations:n,onIncludeAllocationsChange:r,includeOnOrder:o,onIncludeOnOrderChange:a,onRefresh:l,loading:s,onExport:c,columns:u,hiddenColumns:d,onToggleColumn:f}){return React.createElement(Tl,{gap:"xs",align:"flex-end",wrap:"wrap"},React.createElement(Pl,{label:"Build Quantity",value:e,onChange:h=>t(typeof h=="number"?h:1),min:1,step:1,style:{width:150}}),React.createElement(Il,{gap:"xs"},React.createElement(st,{label:"Include Allocations in Build Margin (-)",checked:n,onChange:h=>r(h.currentTarget.checked)}),React.createElement(st,{label:"Include On Order in Build Margin (+)",checked:o,onChange:h=>a(h.currentTarget.checked)})),React.createElement(tn,{leftSection:React.createElement(an,{size:16}),onClick:l,loading:s},"Refresh"),React.createElement(tn,{variant:"light",leftSection:React.createElement(Fr,{size:16}),onClick:c},"Export CSV"),React.createElement(ye,{shadow:"xs",closeOnItemClick:!1},React.createElement(ye.Target,null,React.createElement(Sl,{variant:"light",size:"lg","aria-label":"table-select-columns"},React.createElement(Nl,{label:"Select Columns",position:"top-end"},React.createElement(Wr,null)))),React.createElement(ye.Dropdown,{style:{maxHeight:"400px",overflowY:"auto"}},React.createElement(ye.Label,null,"Select Columns"),React.createElement(jl,null),u.filter(h=>h.toggleable!==!1).map(h=>React.createElement(ye.Item,{key:h.accessor},React.createElement(st,{checked:!d.has(h.accessor),label:h.title||h.accessor,onChange:()=>f(h.accessor),radius:"sm"}))))))}const Ol=window.MantineCore.Alert;function $l({error:e,onClose:t}){return React.createElement(Ol,{icon:React.createElement($r,{size:16}),title:"Error",color:"red",withCloseButton:!0,onClose:t},e)}const zl=window.MantineCore.Group,nn=window.MantineCore.Text;function ce({label:e,value:t,color:n,minWidth:r="70px"}){return React.createElement("div",{style:{minWidth:r}},React.createElement(nn,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},e.split(`
`).map((o,a)=>React.createElement("span",{key:a},o,a<e.split(`
`).length-1&&React.createElement("br",null)))),React.createElement(nn,{size:"lg",fw:700,c:n},t))}function Ll({totalUniqueParts:e,maxDepthReached:t,totalIfpsProcessed:n,outOfStockCount:r,onOrderCount:o,needToOrderCount:a}){return React.createElement(zl,{gap:"md",wrap:"wrap"},React.createElement(ce,{label:"Total\\nParts",value:e}),React.createElement(ce,{label:"BOM\\nDepth",value:t,color:"violet"}),React.createElement(ce,{label:"Internal Fab\\nProcessed",value:n,color:"cyan",minWidth:"80px"}),React.createElement(ce,{label:"Out of\\nStock",value:r,color:"red"}),React.createElement(ce,{label:"On\\nOrder",value:o,color:"blue"}),React.createElement(ce,{label:"Need to\\nOrder",value:a,color:"orange"}))}const Bl=window.MantineCore.Alert,Dl=window.MantineCore.Stack,El=window.MantineCore.Text;function Fl({warnings:e,onClose:t}){return!e||e.length===0?null:React.createElement(Bl,{icon:React.createElement(Lr,{size:16}),title:`${e.length} Warning${e.length>1?"s":""} Found`,color:"yellow",withCloseButton:!0,onClose:t},React.createElement(Dl,{gap:"xs"},e.map((n,r)=>React.createElement(El,{key:r,size:"sm"},React.createElement("strong",null,n.part_name),": ",n.message))))}const Vl=window.React.useState;function ql(e=1){const[t,n]=Vl(e);return{buildQuantity:t,setBuildQuantity:n}}const Hl=window.React.useEffect,Jl=window.React.useState;function Gl(e){const[t,n]=Jl(()=>{const o=localStorage.getItem("flat-bom-hidden-columns");return o?new Set(JSON.parse(o)):new Set});return Hl(()=>{if(e){const o=e.bom_items.some(a=>a.cut_list&&a.cut_list.length>0);n(a=>{const l=new Set(a);return o?l.delete("cut_length"):l.add("cut_length"),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...l])),l})}},[e]),{hiddenColumns:t,toggleColumn:o=>{n(a=>{const l=new Set(a);return l.has(o)?l.delete(o):l.add(o),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...l])),l})}}}const it=window.React.useState;function Ql(e,t){const[n,r]=it(!1),[o,a]=it(null),[l,s]=it(null);return{bomData:o,loading:n,error:l,generateFlatBom:async()=>{if(!e){s("No part ID available");return}r(!0),s(null);try{const d=await t.api.get(`/plugin/flat-bom-generator/flat-bom/${e}/`,{timeout:3e4});d.status===200?(console.log("[FlatBOM] API Response:",d.data),console.log("[FlatBOM] Metadata:",d.data.metadata),console.log("[FlatBOM] Warnings:",d.data.metadata?.warnings),a(d.data)):s(`API returned status ${d.status}`)}catch(d){s(d?.response?.data?.error||d.message||"Failed to generate flat BOM"),console.error("Error generating flat BOM:",d)}finally{r(!1)}},clearError:()=>{s(null)}}}function Ul(e,t,n){return{calculateShortfall:s=>{const c=s.total_qty*e;let u=s.in_stock;return t&&(u-=s.allocated),n&&(u+=s.on_order),u-c},countNeedToOrder:s=>s.filter(c=>{const u=c.total_qty*e;let d=c.in_stock;return t&&(d-=c.allocated),n&&(d+=c.on_order),u>d}).length,countOutOfStock:s=>s.filter(c=>c.in_stock<=0).length,countOnOrder:s=>s.filter(c=>c.on_order>0).length}}function Xl(e){const t=[];for(const n of e){if(t.push(n),n.cut_list&&n.cut_list.length>0)for(const r of n.cut_list)t.push({...n,total_qty:r.quantity,part_type:"CtL",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:r.length,is_cut_list_child:!0,cut_list:null});if(n.internal_fab_cut_list&&n.internal_fab_cut_list.length>0)for(const r of n.internal_fab_cut_list)t.push({...n,total_qty:r.count,part_type:"Internal Fab",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:r.piece_qty,cut_unit:r.unit,is_cut_list_child:!0,cut_list:null,internal_fab_cut_list:null})}return t}function Zl(e,t){if(!t)return e;const n=t.toLowerCase();return e.filter(r=>r.ipn.toLowerCase().includes(n)||r.part_name.toLowerCase().includes(n))}function Yl(e){const t=[],n=new Map;for(const o of e)if(o.is_cut_list_child){const a=o.part_id;n.has(a)||n.set(a,[]),n.get(a).push(o)}else t.push(o);const r=[];for(const o of t){r.push(o);const a=n.get(o.part_id);a&&r.push(...a)}return r}function Kl(e,t,n,r,o,a){return[...e].sort((s,c)=>{let u,d;switch(t){case"ipn":u=s.ipn,d=c.ipn;break;case"full_name":u=s.full_name,d=c.full_name;break;case"part_name":u=s.part_name,d=c.part_name;break;case"description":u=s.description,d=c.description;break;case"part_type":u=s.part_type,d=c.part_type;break;case"total_qty":u=s.total_qty*r,d=c.total_qty*r;break;case"in_stock":u=s.in_stock,d=c.in_stock;break;case"on_order":u=s.on_order,d=c.on_order;break;case"building":u=s.building||0,d=c.building||0;break;case"allocated":u=s.allocated,d=c.allocated;break;case"shortfall":let f=s.in_stock,h=c.in_stock;o&&(f-=s.allocated,h-=c.allocated),a&&(f+=s.on_order,h+=c.on_order),u=Math.max(0,s.total_qty*r-f),d=Math.max(0,c.total_qty*r-h);break;case"default_supplier_name":u=s.default_supplier_name||"",d=c.default_supplier_name||"";break;default:return 0}return typeof u=="string"&&typeof d=="string"?n==="asc"?u.localeCompare(d):d.localeCompare(u):n==="asc"?u-d:d-u})}const Al={TLA:"grape",Coml:"green",Fab:"blue",CtL:"teal","Purchased Assy":"orange","Internal Fab":"cyan",Assy:"violet",Other:"gray"};function es(e){return Al[e]||"gray"}function rn(e){return e?.4:1}function on(e){const n=String(e??"").replace(/"/g,'""');return n.includes(",")||n.includes('"')||n.includes(`
`)?`"${n}"`:n}function ts(e,t,n,r){const o=["IPN","Part Name","Description","Part Type","Total Qty","Unit","Cut Length","Cut Unit","In Stock","Allocated","On Order","Build Margin"],a=e.map(l=>{if(l.is_cut_list_child)return[l.ipn,l.part_name,l.description,l.part_type,l.total_qty,"",l.cut_length||"-",l.cut_unit||l.unit||"","-","-","-","-"];const s=l.total_qty*t;let c=l.in_stock;n&&(c-=l.allocated),r&&(c+=l.on_order);const u=c-s;return[l.ipn,l.part_name,l.description,l.part_type,s,l.unit,"-","",l.in_stock,l.allocated,l.on_order,u]});return[o.map(on).join(","),...a.map(l=>l.map(on).join(","))].join(`
`)}function ns(e,t){const n=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=t,o.click(),window.URL.revokeObjectURL(r)}function rs(e,t,n){const r=new Date().toISOString().replace(/[:.]/g,"-").split("T"),o=r[0],a=r[1].split("Z")[0];return`flat_bom_${e||t}_qty${n}_${o}_${a}.csv`}const os=window.MantineCore.ActionIcon,as=window.MantineCore.Alert,ls=window.MantineCore.Anchor,ae=window.MantineCore.Badge,ss=window.MantineCore.Button,H=window.MantineCore.Group,is=window.MantineCore.Loader,ct=window.MantineCore.Paper,ut=window.MantineCore.Stack,D=window.MantineCore.Text,cs=window.MantineCore.TextInput,us=window.MantineCore.Tooltip,Re=window.React.useMemo,le=window.React.useState;function ds({context:e}){const t=Re(()=>e?.id||e?.instance?.pk,[e.id,e.instance]),n=Re(()=>e?.instance?.name||"Unknown Part",[e.instance]),[r,o]=le(!0),[a,l]=le(!0),[s,c]=le(""),[u,d]=le(!1),[f,h]=le({columnAccessor:"ipn",direction:"asc"}),[w,g]=le(1),[p,x]=le(()=>{const m=localStorage.getItem("flat-bom-records-per-page");if(m==="All")return"All";const T=Number(m);return T>0?T:50}),{bomData:_,loading:C,error:S,generateFlatBom:v,clearError:P}=Ql(t,e),{buildQuantity:y,setBuildQuantity:M}=ql(1),{hiddenColumns:O,toggleColumn:b}=Gl(_),{countNeedToOrder:j,countOutOfStock:$,countOnOrder:I}=Ul(y,r,a),N=()=>{if(!_)return;const m=ts(R,y,r,a),T=rs(_.ipn,t,y);ns(m,T)},R=Re(()=>{if(!_)return[];let m=Xl(_.bom_items);return m=Zl(m,s),f.columnAccessor&&(m=Kl(m,f.columnAccessor,f.direction,y,r,a),m=Yl(m)),m},[_,s,f,y,r,a]),k=Re(()=>[{accessor:"full_name",title:"Component",sortable:!0,switchable:!1,render:m=>m.is_cut_list_child?React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"flex-end"},React.createElement(Dr,{size:40,stroke:1.5,style:{color:"var(--mantine-color-blue-5)"}})):React.createElement(H,{gap:"xs",wrap:"nowrap"},m.thumbnail&&React.createElement("img",{src:m.thumbnail,alt:m.full_name,style:{width:40,height:40,objectFit:"contain"}}),React.createElement(ls,{href:m.link,target:"_blank",size:"sm",style:{textDecoration:"none"}},m.full_name))},{accessor:"ipn",title:"IPN",sortable:!0,switchable:!0,render:m=>React.createElement(D,{size:"sm",style:{fontFamily:"monospace"}},m.ipn)},{accessor:"description",title:"Description",sortable:!0,switchable:!0,render:m=>React.createElement(D,{size:"sm",lineClamp:2,title:m.description},m.description)},{accessor:"part_type",title:"Type",sortable:!0,switchable:!0,render:m=>{const T=m.part_type,z=es(T),V=m.is_cut_list_child&&(T==="Internal Fab"||T==="CtL")?`${T} - CUT`:T;return React.createElement(us,{label:V,withArrow:!0},React.createElement(ae,{size:"sm",color:z,variant:"light",style:{maxWidth:90,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",display:"inline-block",verticalAlign:"middle"},tabIndex:0,"aria-label":V},V))}},{accessor:"total_qty",title:"Total Qty",sortable:!0,switchable:!0,render:m=>{const T=m.total_qty*y;if(m.is_cut_list_child){const z=m.total_qty*y;return React.createElement(H,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(D,{size:"sm",fw:700},z.toFixed(0)),React.createElement(D,{size:"xs",c:"dimmed"},"pieces"))}return React.createElement(H,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(D,{size:"sm",fw:700},T.toFixed(2)),m.unit&&React.createElement(D,{size:"xs",c:"dimmed"},"[",m.unit,"]"))}},{accessor:"cut_length",title:"Cut Length",sortable:!1,switchable:!1,render:m=>m.cut_length?React.createElement(H,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(D,{size:"sm"},m.cut_length.toFixed(2)),(m.cut_unit||m.unit)&&React.createElement(D,{size:"xs",c:"dimmed"},"[",m.cut_unit||m.unit,"]")):React.createElement(D,{size:"sm",c:"dimmed"},"-")},{accessor:"in_stock",title:"In Stock",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:m=>{if(m.is_cut_list_child)return React.createElement(D,{size:"sm",c:"dimmed"},"-");const T=m.total_qty*y;return m.in_stock<=0?React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(D,{c:"red",fs:"italic",size:"sm"},"No stock"),m.unit&&React.createElement(D,{size:"xs",c:"dimmed"},"[",m.unit,"]")):m.in_stock<T?React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(ae,{color:"orange",variant:"light",style:{minWidth:"fit-content"}},m.in_stock.toFixed(2)),m.unit&&React.createElement(D,{size:"xs",c:"dimmed"},"[",m.unit,"]")):React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(ae,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},m.in_stock.toFixed(2)),m.unit&&React.createElement(D,{size:"xs",c:"dimmed"},"[",m.unit,"]"))}},{accessor:"allocated",title:"Allocated",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:m=>{const z=rn(!r);return m.is_cut_list_child?React.createElement(D,{size:"sm",c:"dimmed"},"-"):m.allocated>0?React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(ae,{color:"yellow",variant:"light",style:{opacity:z,minWidth:"fit-content"}},m.allocated.toFixed(2)),m.unit&&React.createElement(D,{size:"xs",c:"dimmed",style:{opacity:z}},"[",m.unit,"]")):React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between",style:{overflow:"hidden"}},React.createElement(D,{c:"dimmed",size:"sm",style:{opacity:z}},"-"),m.unit&&React.createElement(D,{size:"xs",c:"dimmed",style:{opacity:z}},"[",m.unit,"]"))}},{accessor:"on_order",title:"On Order",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:m=>{const z=rn(!a);return m.is_cut_list_child?React.createElement(D,{size:"sm",c:"dimmed"},"-"):m.on_order>0?React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(ae,{color:"blue",variant:"light",style:{opacity:z,minWidth:"fit-content"}},m.on_order.toFixed(2)),m.unit&&React.createElement(D,{size:"xs",c:"dimmed",style:{opacity:z}},"[",m.unit,"]")):React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(D,{c:"dimmed",size:"sm",style:{opacity:z}},"-"),m.unit&&React.createElement(D,{size:"xs",c:"dimmed",style:{opacity:z}},"[",m.unit,"]"))}},{accessor:"shortfall",title:"Build Margin",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:m=>{if(m.is_cut_list_child)return React.createElement(D,{size:"sm",c:"dimmed"},"-");const T=m.total_qty*y;let z=m.in_stock;r&&(z-=m.allocated),a&&(z+=m.on_order);const V=z-T;return V<0?React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(ae,{color:"red",variant:"filled",style:{minWidth:"fit-content"}},V.toFixed(2)),m.unit&&React.createElement(D,{size:"xs",c:"dimmed"},"[",m.unit,"]")):React.createElement(H,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(ae,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},"+",V.toFixed(2)),m.unit&&React.createElement(D,{size:"xs",c:"dimmed"},"[",m.unit,"]"))}}],[y,r,a]),B=Re(()=>k.filter(m=>!O.has(m.accessor)),[k,O]),E=m=>{x(m),g(1),localStorage.setItem("flat-bom-records-per-page",m.toString())};return React.createElement(ut,{gap:"md"},!_&&!C&&React.createElement(H,{justify:"flex-end"},React.createElement(ss,{leftSection:React.createElement(an,{size:16}),onClick:v,loading:C,disabled:!t},"Generate Flat BOM")),S&&React.createElement($l,{error:S,onClose:P}),C&&React.createElement(ct,{p:"xl",withBorder:!0},React.createElement(ut,{align:"center",gap:"md"},React.createElement(is,{size:"lg"}),React.createElement(D,{c:"dimmed"},"Traversing BOM hierarchy for ",React.createElement("strong",null,n),"..."),React.createElement(D,{size:"xs",c:"dimmed"},"This may take a few moments for complex assemblies"))),_&&!C&&React.createElement(ut,{gap:"sm"},!u&&_?.metadata?.warnings&&React.createElement(Fl,{warnings:_.metadata.warnings,onClose:()=>d(!0)}),React.createElement(ct,{p:"sm",withBorder:!0},React.createElement(H,{justify:"space-between",align:"flex-start",wrap:"wrap"},React.createElement(Ll,{totalUniqueParts:_.total_unique_parts,maxDepthReached:_.max_depth_reached,totalIfpsProcessed:_.total_ifps_processed,outOfStockCount:$(_.bom_items),onOrderCount:I(_.bom_items),needToOrderCount:j(_.bom_items)}),React.createElement(Wl,{buildQuantity:y,onBuildQuantityChange:M,includeAllocations:r,onIncludeAllocationsChange:o,includeOnOrder:a,onIncludeOnOrderChange:l,onRefresh:v,loading:C,onExport:N,columns:k,hiddenColumns:O,onToggleColumn:b}))),React.createElement(ct,{p:"xs",withBorder:!0},React.createElement(cs,{placeholder:"Search by IPN or Part Name...",leftSection:React.createElement(Hr,{size:16}),rightSection:s&&React.createElement(os,{variant:"subtle",onClick:()=>c(""),"aria-label":"Clear search"},React.createElement(Gr,{size:16})),value:s,onChange:m=>c(m.currentTarget.value),mb:"xs"})),React.createElement(Ml,{withTableBorder:!0,withColumnBorders:!0,striped:!0,highlightOnHover:!0,columns:B,records:p==="All"?R:R.slice((w-1)*p,w*p),totalRecords:R.length,recordsPerPage:p==="All"?R.length:p,page:w,onPageChange:g,recordsPerPageOptions:[10,25,50,100,"All"],onRecordsPerPageChange:E,sortStatus:f,onSortStatusChange:h,minHeight:200,noRecordsText:"No parts found",paginationText:({from:m,to:T,totalRecords:z})=>{const V=R.filter(A=>A.is_cut_list_child).length;return V>0?`Showing ${m} to ${T} of ${z} parts (including ${V} cut parts)`:`Showing ${m} to ${T} of ${z} parts`}})),!_&&!C&&!S&&React.createElement(as,{color:"blue",variant:"light"},React.createElement(D,{size:"sm"},"Click ",React.createElement("strong",null,'"Generate Flat BOM"')," to traverse the complete bill of materials hierarchy for ",React.createElement("strong",null,n)," and calculate cumulative quantities.")))}function ms(e){return pr(e),React.createElement(ds,{context:e})}export{ms as renderFlatBOMGeneratorPanel};
//# sourceMappingURL=Panel.js.map
