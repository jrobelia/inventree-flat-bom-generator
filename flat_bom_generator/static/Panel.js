const yt="0.7.0";var E=(e=>(e.api_server_info="",e.user_list="user/",e.user_set_password="user/:id/set-password/",e.user_me="user/me/",e.user_profile="user/profile/",e.user_roles="user/roles/",e.user_token="user/token/",e.user_tokens="user/tokens/",e.user_simple_login="email/generate/",e.user_reset="auth/v1/auth/password/request",e.user_reset_set="auth/v1/auth/password/reset",e.auth_pwd_change="auth/v1/account/password/change",e.auth_login="auth/v1/auth/login",e.auth_login_2fa="auth/v1/auth/2fa/authenticate",e.auth_session="auth/v1/auth/session",e.auth_signup="auth/v1/auth/signup",e.auth_authenticators="auth/v1/account/authenticators",e.auth_recovery="auth/v1/account/authenticators/recovery-codes",e.auth_mfa_reauthenticate="auth/v1/auth/2fa/reauthenticate",e.auth_totp="auth/v1/account/authenticators/totp",e.auth_trust="auth/v1/auth/2fa/trust",e.auth_reauthenticate="auth/v1/auth/reauthenticate",e.auth_email="auth/v1/account/email",e.auth_email_verify="auth/v1/auth/email/verify",e.auth_providers="auth/v1/account/providers",e.auth_provider_redirect="auth/v1/auth/provider/redirect",e.auth_config="auth/v1/config",e.currency_list="currency/exchange/",e.currency_refresh="currency/refresh/",e.all_units="units/all/",e.task_overview="background-task/",e.task_pending_list="background-task/pending/",e.task_scheduled_list="background-task/scheduled/",e.task_failed_list="background-task/failed/",e.api_search="search/",e.settings_global_list="settings/global/",e.settings_user_list="settings/user/",e.news="news/",e.global_status="generic/status/",e.custom_state_list="generic/status/custom/",e.version="version/",e.license="license/",e.group_list="user/group/",e.owner_list="user/owner/",e.ruleset_list="user/ruleset/",e.content_type_list="contenttype/",e.icons="icons/",e.selectionlist_list="selection/",e.selectionlist_detail="selection/:id/",e.barcode="barcode/",e.barcode_history="barcode/history/",e.barcode_link="barcode/link/",e.barcode_unlink="barcode/unlink/",e.barcode_generate="barcode/generate/",e.data_output="data-output/",e.import_session_list="importer/session/",e.import_session_accept_fields="importer/session/:id/accept_fields/",e.import_session_accept_rows="importer/session/:id/accept_rows/",e.import_session_column_mapping_list="importer/column-mapping/",e.import_session_row_list="importer/row/",e.notifications_list="notifications/",e.notifications_readall="notifications/readall/",e.build_order_list="build/",e.build_order_issue="build/:id/issue/",e.build_order_cancel="build/:id/cancel/",e.build_order_hold="build/:id/hold/",e.build_order_complete="build/:id/finish/",e.build_output_complete="build/:id/complete/",e.build_output_create="build/:id/create-output/",e.build_output_scrap="build/:id/scrap-outputs/",e.build_output_delete="build/:id/delete-outputs/",e.build_order_auto_allocate="build/:id/auto-allocate/",e.build_order_allocate="build/:id/allocate/",e.build_order_consume="build/:id/consume/",e.build_order_deallocate="build/:id/unallocate/",e.build_line_list="build/line/",e.build_item_list="build/item/",e.bom_list="bom/",e.bom_item_validate="bom/:id/validate/",e.bom_validate="part/:id/bom-validate/",e.bom_substitute_list="bom/substitute/",e.part_list="part/",e.part_parameter_list="part/parameter/",e.part_parameter_template_list="part/parameter/template/",e.part_thumbs_list="part/thumbs/",e.part_pricing="part/:id/pricing/",e.part_requirements="part/:id/requirements/",e.part_serial_numbers="part/:id/serial-numbers/",e.part_scheduling="part/:id/scheduling/",e.part_pricing_internal="part/internal-price/",e.part_pricing_sale="part/sale-price/",e.part_stocktake_list="part/stocktake/",e.category_list="part/category/",e.category_tree="part/category/tree/",e.category_parameter_list="part/category/parameters/",e.related_part_list="part/related/",e.part_test_template_list="part/test-template/",e.company_list="company/",e.contact_list="company/contact/",e.address_list="company/address/",e.supplier_part_list="company/part/",e.supplier_part_pricing_list="company/price-break/",e.manufacturer_part_list="company/part/manufacturer/",e.manufacturer_part_parameter_list="company/part/manufacturer/parameter/",e.stock_location_list="stock/location/",e.stock_location_type_list="stock/location-type/",e.stock_location_tree="stock/location/tree/",e.stock_item_list="stock/",e.stock_tracking_list="stock/track/",e.stock_test_result_list="stock/test/",e.stock_transfer="stock/transfer/",e.stock_remove="stock/remove/",e.stock_return="stock/return/",e.stock_add="stock/add/",e.stock_count="stock/count/",e.stock_change_status="stock/change_status/",e.stock_merge="stock/merge/",e.stock_assign="stock/assign/",e.stock_status="stock/status/",e.stock_install="stock/:id/install/",e.stock_uninstall="stock/:id/uninstall/",e.stock_serialize="stock/:id/serialize/",e.stock_serial_info="stock/:id/serial-numbers/",e.generate_batch_code="generate/batch-code/",e.generate_serial_number="generate/serial-number/",e.purchase_order_list="order/po/",e.purchase_order_issue="order/po/:id/issue/",e.purchase_order_hold="order/po/:id/hold/",e.purchase_order_cancel="order/po/:id/cancel/",e.purchase_order_complete="order/po/:id/complete/",e.purchase_order_line_list="order/po-line/",e.purchase_order_extra_line_list="order/po-extra-line/",e.purchase_order_receive="order/po/:id/receive/",e.sales_order_list="order/so/",e.sales_order_issue="order/so/:id/issue/",e.sales_order_hold="order/so/:id/hold/",e.sales_order_cancel="order/so/:id/cancel/",e.sales_order_ship="order/so/:id/ship/",e.sales_order_complete="order/so/:id/complete/",e.sales_order_allocate="order/so/:id/allocate/",e.sales_order_allocate_serials="order/so/:id/allocate-serials/",e.sales_order_line_list="order/so-line/",e.sales_order_extra_line_list="order/so-extra-line/",e.sales_order_allocation_list="order/so-allocation/",e.sales_order_shipment_list="order/so/shipment/",e.sales_order_shipment_complete="order/so/shipment/:id/ship/",e.return_order_list="order/ro/",e.return_order_issue="order/ro/:id/issue/",e.return_order_hold="order/ro/:id/hold/",e.return_order_cancel="order/ro/:id/cancel/",e.return_order_complete="order/ro/:id/complete/",e.return_order_receive="order/ro/:id/receive/",e.return_order_line_list="order/ro-line/",e.return_order_extra_line_list="order/ro-extra-line/",e.label_list="label/template/",e.label_print="label/print/",e.report_list="report/template/",e.report_print="report/print/",e.report_snippet="report/snippet/",e.report_asset="report/asset/",e.plugin_list="plugins/",e.plugin_setting_list="plugins/:plugin/settings/",e.plugin_user_setting_list="plugins/:plugin/user-settings/",e.plugin_registry_status="plugins/status/",e.plugin_install="plugins/install/",e.plugin_reload="plugins/reload/",e.plugin_activate="plugins/:key/activate/",e.plugin_uninstall="plugins/:key/uninstall/",e.plugin_admin="plugins/:key/admin/",e.plugin_ui_features_list="plugins/ui/features/:feature_type/",e.plugin_locate_item="locate/",e.machine_types_list="machine/types/",e.machine_driver_list="machine/drivers/",e.machine_registry_status="machine/status/",e.machine_list="machine/",e.machine_restart="machine/:machine/restart/",e.machine_setting_list="machine/:machine/settings/",e.machine_setting_detail="machine/:machine/settings/:config_type/",e.attachment_list="attachment/",e.error_report_list="error-report/",e.project_code_list="project-code/",e.custom_unit_list="units/",e.notes_image_upload="notes-image-upload/",e.email_list="admin/email/",e.email_test="admin/email/test/",e.config_list="admin/config/",e))(E||{});window.LinguiCore.i18n;window.LinguiCore.i18n;E.part_list,E.part_parameter_template_list,E.part_test_template_list,E.supplier_part_list,E.manufacturer_part_list,E.category_list,E.stock_item_list,E.stock_location_list,E.stock_location_type_list,E.stock_tracking_list,E.build_order_list,E.build_line_list,E.build_item_list,E.company_list,E.project_code_list,E.purchase_order_list,E.purchase_order_line_list,E.sales_order_list,E.sales_order_shipment_list,E.return_order_list,E.return_order_line_list,E.address_list,E.contact_list,E.owner_list,E.user_list,E.group_list,E.import_session_list,E.label_list,E.report_list,E.plugin_list,E.content_type_list,E.selectionlist_list,E.error_report_list;function gr(e){var t;const a=((t=e?.version)==null?void 0:t.inventree)||"";yt!=a&&console.info(`Plugin version mismatch! Expected version ${yt}, got ${a}`)}var Xe={exports:{}},be={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt;function wr(){if(Rt)return be;Rt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,n,s){var c=null;if(s!==void 0&&(c=""+s),n.key!==void 0&&(c=""+n.key),"key"in n){s={};for(var i in n)i!=="key"&&(s[i]=n[i])}else s=n;return n=s.ref,{$$typeof:e,type:r,key:c,ref:n!==void 0?n:null,props:s}}return be.Fragment=t,be.jsx=a,be.jsxs=a,be}var Mt;function fr(){return Mt||(Mt=1,Xe.exports=wr()),Xe.exports}fr();window.MantineCore.ActionIcon;window.MantineCore.Group;window.MantineCore.Tooltip;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pr={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=window.React.forwardRef,Ze=window.React.createElement,oe=(e,t,a,r)=>{const n=_r(({color:s="currentColor",size:c=24,stroke:i=2,title:h,className:m,children:p,...w},f)=>Ze("svg",{ref:f,...pr[e],width:c,height:c,className:["tabler-icon",`tabler-icon-${t}`,m].join(" "),strokeWidth:i,stroke:s,...w},[h&&Ze("title",{key:"svg-title"},h),...r.map(([d,u])=>Ze(d,u)),...Array.isArray(p)?p:[p]]));return n.displayName=`${a}`,n};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]];oe("outline","plus","Plus",br);window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.MantineCore.Progress;window.MantineCore.Stack;window.MantineCore.Text;window.React.useMemo;window.LinguiCore.i18n;window.MantineCore.Badge;window.MantineCore.Skeleton;window.React.useState;window.React.useRef;window.React.useCallback;window.React.useEffect;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]];oe("outline","search","Search",Cr);window.LinguiCore.i18n;window.MantineCore.CloseButton;window.MantineCore.TextInput;window.React.useEffect;window.React.useState;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]];oe("outline","arrow-right","ArrowRight",xr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]];oe("outline","copy","Copy",vr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]];oe("outline","edit","Edit",kr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]];oe("outline","trash","Trash",yr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]];oe("outline","circle-x","CircleX",Rr);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]];oe("outline","dots","Dots",Mr);window.LinguiCore.i18n;window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.React.useMemo;window.React.useState;/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sr={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=window.React.forwardRef,Ye=window.React.createElement,le=(e,t,a,r)=>{const n=jr(({color:s="currentColor",size:c=24,stroke:i=2,title:h,className:m,children:p,...w},f)=>Ye("svg",{ref:f,...Sr[e],width:c,height:c,className:["tabler-icon",`tabler-icon-${t}`,m].join(" "),strokeWidth:i,stroke:s,...w},[h&&Ye("title",{key:"svg-title"},h),...r.map(([d,u])=>Ye(d,u)),...Array.isArray(p)?p:[p]]));return n.displayName=`${a}`,n};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]],Pr=le("outline","adjustments","Adjustments",Tr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Ir=le("outline","alert-circle","AlertCircle",Nr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Lr=le("outline","alert-triangle","AlertTriangle",zr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]],$r=le("outline","corner-down-right","CornerDownRight",Wr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],Or=le("outline","download","Download",Br);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],St=le("outline","refresh","Refresh",Er);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Fr=le("outline","search","Search",Dr);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Hr=le("outline","x","X",Vr),qr=window.React.useRef,Jr=window.React.useEffect,Qr=["mousedown","touchstart"];function Gr(e,t,a){const r=qr(null),n=Qr;return Jr(()=>{const s=c=>{const{target:i}=c??{};if(Array.isArray(a)){const h=!document.body.contains(i)&&i?.tagName!=="HTML";a.every(p=>!!p&&!c.composedPath().includes(p))&&!h&&e(c)}else r.current&&!r.current.contains(i)&&e(c)};return n.forEach(c=>document.addEventListener(c,s)),()=>{n.forEach(c=>document.removeEventListener(c,s))}},[r,e,a]),r}const Ur=window.React.useState,Xr=window.React.useEffect;function Zr(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Yr(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Kr(e,t,{getInitialValueInEffect:a}={getInitialValueInEffect:!0}){const[r,n]=Ur(a?t:Yr(e));return Xr(()=>{try{const s=window.matchMedia(e);return n(s.matches),Zr(s,c=>n(c.matches))}catch{return}},[e]),r||!1}const Ar=window.React.useEffect;function jt(e,t,a){Ar(()=>(window.addEventListener(e,t,a),()=>window.removeEventListener(e,t,a)),[e,t])}const Ke=window.React.useCallback,en=window.React.useState,Tt=window.React.useEffect;function tn(e,t="use-local-storage"){try{return JSON.stringify(e)}catch{throw new Error(`@mantine/hooks ${t}: Failed to serialize the value`)}}function an(e){try{return e&&JSON.parse(e)}catch{return e}}function rn(e){return{getItem:n=>{try{return window[e].getItem(n)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(n,s)=>{try{window[e].setItem(n,s)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:n=>{try{window[e].removeItem(n)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function nn(e,t){const a="mantine-local-storage",{getItem:r,setItem:n,removeItem:s}=rn(e);return function({key:i,defaultValue:h,getInitialValueInEffect:m=!0,sync:p=!0,deserialize:w=an,serialize:f=d=>tn(d,t)}){const d=Ke(k=>{let T;try{T=typeof window>"u"||!(e in window)||window[e]===null||!!k}catch{T=!0}if(T)return h;const v=r(i);return v!==null?w(v):h},[i,h]),[u,_]=en(d(m)),x=Ke(k=>{k instanceof Function?_(T=>{const v=k(T);return n(i,f(v)),queueMicrotask(()=>{window.dispatchEvent(new CustomEvent(a,{detail:{key:i,value:k(T)}}))}),v}):(n(i,f(k)),window.dispatchEvent(new CustomEvent(a,{detail:{key:i,value:k}})),_(k))},[i]),R=Ke(()=>{s(i),_(h),window.dispatchEvent(new CustomEvent(a,{detail:{key:i,value:h}}))},[i,h]);return jt("storage",k=>{p&&k.storageArea===window[e]&&k.key===i&&_(w(k.newValue??void 0))}),jt(a,k=>{p&&k.detail.key===i&&_(k.detail.value)}),Tt(()=>{h!==void 0&&u===void 0&&x(h)},[h,u,x]),Tt(()=>{const k=d();k!==void 0&&x(k)},[i]),[u===void 0?h:u,x,R]}}function ht(e){return nn("localStorage","use-local-storage")(e)}const on=window.React.useCallback;function Pt(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function ln(...e){const t=new Map;return a=>{if(e.forEach(r=>{const n=Pt(r,a);n&&t.set(r,n)}),t.size>0)return()=>{e.forEach(r=>{const n=t.get(r);n&&typeof n=="function"?n():Pt(r,null)}),t.clear()}}}function Nt(...e){return on(ln(...e),e)}const sn=window.React.useState,Ae=window.React.useCallback;function cn(e=!1,t={}){const[a,r]=sn(e),n=Ae(()=>{r(i=>i||(t.onOpen?.(),!0))},[t.onOpen]),s=Ae(()=>{r(i=>i&&(t.onClose?.(),!1))},[t.onClose]),c=Ae(()=>{a?s():n()},[s,n,a]);return[a,{open:n,close:s,toggle:c}]}const un=window.React.useRef,It=window.React.useCallback,dn=window.React.useEffect;function zt(e,t,a={autoInvoke:!1}){const r=un(null),n=It((...c)=>{r.current||(r.current=window.setTimeout(()=>{e(c),r.current=null},t))},[t]),s=It(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return dn(()=>(a.autoInvoke&&n(),s),[s,n]),{start:n,clear:s}}function na(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=na(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function Q(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=na(e))&&(r&&(r+=" "),r+=t);return r}var et={exports:{}},Ce={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt;function mn(){if(Lt)return Ce;Lt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,n,s){var c=null;if(s!==void 0&&(c=""+s),n.key!==void 0&&(c=""+n.key),"key"in n){s={};for(var i in n)i!=="key"&&(s[i]=n[i])}else s=n;return n=s.ref,{$$typeof:e,type:r,key:c,ref:n!==void 0?n:null,props:s}}return Ce.Fragment=t,Ce.jsx=a,Ce.jsxs=a,Ce}var Wt;function hn(){return Wt||(Wt=1,et.exports=mn()),et.exports}var l=hn();const gn=window.MantineCore.Box,wn=window.MantineCore.Table,tt=window.React.useCallback,fn=window.React.useEffect,pn=window.React.useLayoutEffect,_n=window.React.useMemo,at=window.React.useRef,bn=window.React.useState,$t=window.React.useState,Cn=window.MantineCore.createSafeContext;var[xn,gt]=Cn("useDataTableColumnsContext must be used within DataTableColumnProvider"),Bt=e=>{let{children:t,columnsOrder:a,setColumnsOrder:r,columnsToggle:n,setColumnsToggle:s,resetColumnsOrder:c,resetColumnsToggle:i,setColumnWidth:h,setMultipleColumnWidths:m,resetColumnsWidth:p}=e,[w,f]=$t(""),[d,u]=$t("");return l.jsx(xn,{value:{sourceColumn:w,setSourceColumn:f,targetColumn:d,setTargetColumn:u,columnsToggle:n,setColumnsToggle:s,swapColumns:()=>{if(!a||!r||!w||!d)return;let _=a.indexOf(w),x=a.indexOf(d);if(_!==-1&&x!==-1){let R=a.splice(_,1)[0];a.splice(x,0,R),r([...a])}},resetColumnsOrder:c,resetColumnsToggle:i,setColumnWidth:h,setMultipleColumnWidths:m,resetColumnsWidth:p},children:t})};function vn(){return l.jsx("tr",{className:"mantine-datatable-empty-row",children:l.jsx("td",{})})}const kn=window.MantineCore.Center,yn=window.MantineCore.Text;function Rn(){return l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74"}),l.jsx("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6"}),l.jsx("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4"}),l.jsx("path",{d:"M3 3l18 18"})]})}function Mn({icon:e,text:t,active:a,children:r}){return l.jsx(kn,{className:"mantine-datatable-empty-state","data-active":a||void 0,children:r||l.jsxs(l.Fragment,{children:[e||l.jsx("div",{className:"mantine-datatable-empty-state-icon",children:l.jsx(Rn,{})}),l.jsx(yn,{component:"div",size:"sm",c:"dimmed",children:t})]})})}const Sn=window.MantineCore.TableTfoot,jn=window.MantineCore.TableTr,Tn=window.MantineCore.TableTh;window.React.useCallback;window.React.useRef;window.React.useState;function Pn({key:e,columns:t=[],getInitialValueInEffect:a=!0}){function r(w,f){let d=[];return w.forEach(u=>{f.find(_=>_.accessor===u)&&d.push(u)}),f.forEach(u=>{d.includes(u.accessor)||d.push(u.accessor)}),d}let n=t&&t.map(w=>w.accessor)||[],[s,c]=ht({key:e?`${e}-columns-order`:"",defaultValue:e?n:void 0,getInitialValueInEffect:a});function i(w){e&&c(w)}let h=()=>{i(n)};if(!e)return{columnsOrder:s,setColumnsOrder:i,resetColumnsOrder:h};let m=r(s,t),p=JSON.stringify(s);return JSON.stringify(m)!==p&&i(m),{columnsOrder:m,setColumnsOrder:i,resetColumnsOrder:h}}const ue=window.React.useCallback,rt=window.React.useEffect,Pe=window.React.useMemo,Ot=window.React.useRef,Et=window.React.useState;function Nn({key:e,columns:t=[],getInitialValueInEffect:a=!0,headerRef:r,onFixedLayoutChange:n}){let s=Ot(!1),c=Ot({}),[i,h]=Et(!0),m=Pe(()=>t.some(C=>C.resizable&&!C.hidden&&C.accessor!=="__selection__"),[t]),p=Pe(()=>t.filter(C=>C.resizable&&!C.hidden&&C.accessor!=="__selection__"),[t]),w=Pe(()=>p.some(C=>C.width===void 0||C.width===""||C.width==="initial"),[p]),f=ue(()=>t.filter(C=>C.accessor!=="__selection__").map(C=>({[C.accessor]:C.width??"auto"})),[t]),[d,u]=ht({key:e?`${e}-columns-width`:"",defaultValue:e?f():void 0,getInitialValueInEffect:!1}),[_,x]=Et(()=>f());rt(()=>{h(!1)},[]);let R=ue(()=>{if(!r?.current||i)return{};let C=r.current,M=Array.from(C.querySelectorAll("th[data-accessor]")),$={};return M.forEach(L=>{let B=L.getAttribute("data-accessor");if(!B||B==="__selection__")return;let j=p.find(y=>y.accessor===B);if(j&&(j.width===void 0||j.width===""||j.width==="initial")){let y=L.getBoundingClientRect();$[B]=Math.round(y.width)}}),$},[r,p,i]),k=ue(C=>{let M=C.filter(L=>L.accessor!=="__selection__"),$=_.map(L=>{let B=Object.keys(L)[0],j=M.find(y=>y.accessor===B);return j?{[B]:j.width}:L});x($),e&&u($)},[_,e,u]),T=ue(C=>{k(C)},[k]),v=ue(()=>{if(!(!r?.current||!n||i))if(w)n(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{let C=R();c.current={...c.current,...C};let M=t.filter($=>$.accessor!=="__selection__").map($=>{let L=$.accessor,B=d?.find(y=>Object.keys(y)[0]===L);if(B&&B[L]!=="auto")return{[L]:B[L]};let j=C[L];return j?{[L]:`${j}px`}:{[L]:$.width??"auto"}});x(M),setTimeout(()=>{n(!0),s.current=!0},10)})});else{let C=t.filter(M=>M.accessor!=="__selection__").map(M=>({[M.accessor]:M.width??"auto"}));x(C),n(!0),s.current=!0}},[r,n,i,w,R,t,d]),N=v;rt(()=>{if(!m||!n||i){n?.(!1);return}s.current=!1;let C=setTimeout(()=>{v()},50);return()=>clearTimeout(C)},[m,n,i,v]),rt(()=>{i||!e||!a||d&&d.length>0&&x(d)},[i,e,a,d]);let P=ue(()=>{e&&u(f()),c.current={},s.current=!1,n&&(n(!1),setTimeout(()=>{v()},10))},[e,u,f,n,v]),S=ue((C,M)=>{k([{accessor:C,width:M}])},[k]),D=Pe(()=>m?_.filter(C=>{let M=Object.keys(C)[0];return p.some($=>$.accessor===M)}).every(C=>{let M=Object.values(C)[0];return M==="auto"||M==="initial"}):!1,[m,_,p]);return{columnsWidth:_,setColumnsWidth:k,setColumnWidth:S,setMultipleColumnWidths:T,resetColumnsWidth:P,hasResizableColumns:m,allResizableWidthsInitial:D,measureAndSetColumnWidths:N}}const In=window.React.useMemo;function zn({key:e,columns:t=[],getInitialValueInEffect:a=!0}){function r(w,f){let d=[];return w.forEach(u=>{f.find(_=>_.accessor===u.accessor)&&d.push(u)}),f.forEach(u=>{d.find(_=>_.accessor===u.accessor)||d.push({accessor:u.accessor,defaultToggle:u.defaultToggle||!0,toggleable:u.toggleable,toggled:u.defaultToggle===void 0?!0:u.defaultToggle})}),d}let n=t&&t.map(w=>({accessor:w.accessor,defaultToggle:w.defaultToggle||!0,toggleable:w.toggleable,toggled:w.defaultToggle===void 0?!0:w.defaultToggle})),[s,c]=ht({key:e?`${e}-columns-toggle`:"",defaultValue:e?n:void 0,getInitialValueInEffect:a});function i(w){e&&c(w)}let h=()=>{i(n)};if(!e)return{columnsToggle:s,setColumnsToggle:i,resetColumnsToggle:h};let m=r(s,t),p=JSON.stringify(s);return JSON.stringify(m)!==p&&i(m),{columnsToggle:m,setColumnsToggle:i,resetColumnsToggle:h}}var Ln=({key:e,columns:t=[],getInitialValueInEffect:a=!0,headerRef:r,scrollViewportRef:n,onFixedLayoutChange:s})=>{let{columnsOrder:c,setColumnsOrder:i,resetColumnsOrder:h}=Pn({key:e,columns:t,getInitialValueInEffect:a}),{columnsToggle:m,setColumnsToggle:p,resetColumnsToggle:w}=zn({key:e,columns:t,getInitialValueInEffect:a}),{columnsWidth:f,setColumnsWidth:d,setColumnWidth:u,setMultipleColumnWidths:_,resetColumnsWidth:x,hasResizableColumns:R,allResizableWidthsInitial:k,measureAndSetColumnWidths:T}=Nn({key:e,columns:t,getInitialValueInEffect:a,headerRef:r,onFixedLayoutChange:s});return{effectiveColumns:In(()=>c?c.map(v=>t.find(N=>N.accessor===v)).map(v=>({...v,hidden:v?.hidden||!m.find(N=>N.accessor===v?.accessor)?.toggled})).map(v=>v?.accessor==="__selection__"?v:{...v,width:f.find(N=>N[v?.accessor])?.[v?.accessor]}):t,[t,c,m,f]),setColumnsOrder:i,columnsOrder:c,resetColumnsOrder:h,columnsToggle:m,setColumnsToggle:p,resetColumnsToggle:w,columnsWidth:f,setColumnsWidth:d,setColumnWidth:u,setMultipleColumnWidths:_,resetColumnsWidth:x,hasResizableColumns:R,allResizableWidthsInitial:k,measureAndSetColumnWidths:T}};const Wn=window.MantineCore.rem,$n=window.React.useCallback,nt=window.React.useEffect,ne=window.React.useRef,Bn=window.React.useEffect,On=window.React.useLayoutEffect;var Dt=typeof window<"u"?On:Bn;const En=window.React.useRef;function Ft(e){let t=En(e);return t.current=e,t}var Vt="--mantine-datatable-header-height",Ht="--mantine-datatable-footer-height",qt="--mantine-datatable-selection-column-width",Jt="--mantine-datatable-last-row-border-bottom";function A(e,t,a){e?.style.setProperty(t,a)}function dt(e){let t=e.borderBoxSize?.[0]||e.contentBoxSize?.[0];return t?{width:t.inlineSize,height:t.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}}function ot(e,t,a){if(e){let r=new ResizeObserver(n=>{let s=n[0];s&&t(dt(s))});return r.observe(e),()=>{r.disconnect(),a()}}}function Dn({scrollCallbacks:e,withRowBorders:t}){let a={root:ne(null),table:ne(null),scrollViewport:ne(null),header:ne(null),footer:ne(null),selectionColumnHeader:ne(null)},{root:r,table:n,scrollViewport:s,header:c,footer:i,selectionColumnHeader:h}=a,m=Ft({withRowBorders:t}),p=Ft(e),w=ne(()=>{}),f=ne(()=>{}),d=$n(u=>{p.current.onScroll?.(u),w.current()},[]);return nt(()=>ot(c.current,u=>{A(r.current,Vt,`${u.height}px`)},()=>A(r.current,Vt,"0")),[c.current]),nt(()=>ot(i.current,u=>{A(r.current,Ht,`${u.height}px`)},()=>A(r.current,Ht,"0")),[i.current]),nt(()=>ot(h.current,u=>{A(r.current,qt,`${u.width}px`)},()=>A(r.current,qt,"0")),[h.current]),Dt(()=>{if(typeof window===void 0)return;let u={top:!0,bottom:!0,left:!0,right:!0},_={width:0,height:0},x={width:0,height:0};function R(P,S){let D=u[P];return u[P]=S,A(r.current,`--mantine-datatable-${P}-shadow-opacity`,S?"0":"1"),D}function k(){let P=_.height-x.height,S=P<0;A(r.current,"--mantine-datatable-footer-position",S?"relative":"sticky"),A(r.current,"--mantine-datatable-footer-bottom",S?`${P}px`:"0")}function T(){m.current.withRowBorders&&_.height<x.height?A(r.current,Jt,`${Wn("1px")} solid var(--mantine-datatable-border-color)`):A(r.current,Jt,"unset")}f.current=T;function v(){let P=p.current,S=s.current,D=S?.scrollTop??0,C=S?.scrollLeft??0,M=D===0,$=_.height-D-x.height<1,L=R("top",M),B=R("bottom",$);M&&M!==L&&P.onScrollToTop?.(),$&&$!==B&&P.onScrollToBottom?.();let j=S?getComputedStyle(S).direction==="rtl":!1,y=(S?.scrollWidth??0)-x.width,H,o;if(j){let z=Math.abs(C);o=z<1,H=y-z<1}else H=C<1,o=_.width-C-x.width<1;let b=R("left",H),g=R("right",o);H&&H!==b&&P.onScrollToLeft?.(),o&&o!==g&&P.onScrollToRight?.()}w.current=v;let N=new ResizeObserver(P=>{for(let S of P)switch(S.target.tagName){case"TABLE":{_=dt(S);break}case"DIV":{x=dt(S);break}}v(),k(),T()});return N.observe(n.current),N.observe(s.current),()=>{N.disconnect()}},[]),Dt(()=>{f.current()},[t]),{refs:a,onScroll:d}}const Fn=window.React.useEffect,Vn=window.React.useState;function Hn(e){let[t,a]=Vn(null),r=e?.join(":")||"";return Fn(()=>{a(null)},[r]),{lastSelectionChangeIndex:t,setLastSelectionChangeIndex:a}}const qn=window.React.useEffect,Jn=window.React.useRef,Qn=window.React.useState;function Gn(e,t){let a=()=>{t(e.map(n=>n.matches))},r=e.map(n=>{try{return n.addEventListener("change",a),()=>n.removeEventListener("change",a)}catch{return n.addListener(a),()=>n.removeListener(a)}});return()=>{r.forEach(n=>n())}}function Un(e,t){return t||(typeof window<"u"&&"matchMedia"in window?e.map(a=>window.matchMedia(a).matches):e.map(()=>!1))}function Xn(e,t,{getInitialValueInEffect:a}={getInitialValueInEffect:!0}){let[r,n]=Qn(a?t:Un(e,t)),s=Jn(null);return qn(()=>{if("matchMedia"in window)return s.current=e.map(c=>window.matchMedia(c)),n(s.current.map(c=>c.matches)),Gn(s.current,c=>{n(c)})},[e]),r}const Zn=window.MantineCore.useMantineTheme,Qt=window.React.useMemo;function Yn(e){let t=Zn(),a=Qt(()=>e.map(n=>(typeof n=="function"?n(t):n)??""),[e,t]),r=Qt(()=>e.map(()=>!0),[e]);return Xn(a,r)}const Kn=window.MantineCore.useMantineTheme;function ze(e){let t=Kn(),a=typeof e=="function"?e(t):e;return Kr(a||"",!0)}const An=window.React.useState;function wt(e){let t=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}function eo(e,t,a){return e.filter(r=>!t.map(a).includes(a(r)))}function lt(e,t){return e.filter((a,r,n)=>r===n.findIndex(s=>t(a)===t(s)))}function oa(e,t){return t?t.match(/([^[.\]])+/g).reduce((a,r)=>a&&a[r],e):void 0}function X(e,t){return typeof t=="string"?oa(e,t):t(e)}function la(e){return!e||e.length===0?0:Math.max(...e.map(t=>t.groups&&t.groups.length>0?1+la(t.groups):1))}function ft(e){let t=[];for(let a of e)a.columns&&a.columns.length>0?t.push(...a.columns.filter(r=>r!=null)):a.groups&&a.groups.length>0&&t.push(...ft(a.groups));return t.filter(a=>a!=null)}function mt(e,t){return e.columns&&e.columns.length>0?e.columns.filter((a,r)=>a.hidden?!1:t?t[r]!==!1:!0).length:e.groups&&e.groups.length>0?e.groups.reduce((a,r)=>a+mt(r,t),0):0}function sa(e,t,a=0){if(a===t)return[...e];let r=[];for(let n of e)n.groups&&n.groups.length>0&&r.push(...sa(n.groups,t,a+1));return r}function to(e,t,a){return a?!e||t:!1}function ao({rowExpansion:e,records:t,idAccessor:a}){let r=[];if(e&&t){let{trigger:i,allowMultiple:h,initiallyExpanded:m}=e;t&&i==="always"?r=t.map(p=>X(p,a)):m&&(r=t.filter((p,w)=>m({record:p,index:w})).map(p=>X(p,a)),h||(r=[r[0]]))}let n,s,c=An(r);if(e){let{expandable:i,trigger:h,allowMultiple:m,collapseProps:p,content:w}=e;e.expanded?{recordIds:n,onRecordIdsChange:s}=e.expanded:[n,s]=c;let f=d=>s?.(n.filter(u=>u!==X(d,a)));return{expandOnClick:h!=="always"&&h!=="never",isRowExpanded:d=>h==="always"?!0:n.includes(X(d,a)),isExpandable:({record:d,index:u})=>i?i({record:d,index:u}):!0,expandRow:d=>{let u=X(d,a);s?.(m?[...n,u]:[u])},collapseRow:f,collapseProps:p,content:({record:d,index:u})=>()=>w({record:d,index:u,collapse:()=>f(d)})}}}const ro=window.React.useEffect,Gt=window.React.useState;function no(e,t){let[a,r]=Gt(e),[n,s]=Gt(e),c=zt(()=>r(!0),0),i=zt(()=>s(!1),t||200);return ro(()=>{e?(i.clear(),s(!0),c.start()):(c.clear(),r(!1),i.start())},[c,i,e]),{expanded:a,visible:n}}var pt="mantine-datatable-nowrap",_t="mantine-datatable-ellipsis",ge="mantine-datatable-pointer-cursor",ia="mantine-datatable-context-menu-cursor",oo="mantine-datatable-text-selection-disabled",Le="mantine-datatable-text-align-left",We="mantine-datatable-text-align-center",$e="mantine-datatable-text-align-right";function lo({className:e,style:t,visibleMediaQuery:a,title:r,noWrap:n,ellipsis:s,textAlign:c,width:i}){return ze(a)?l.jsx(Tn,{className:Q({[pt]:n||s,[_t]:s,[Le]:c==="left",[We]:c==="center",[$e]:c==="right"},e),style:[{width:i,minWidth:i,maxWidth:i},t],children:r}):null}const so=window.MantineCore.TableTh;function io({shadowVisible:e}){return l.jsx(so,{className:"mantine-datatable-footer-selector-placeholder-cell","data-shadow-visible":e||void 0})}function co({className:e,style:t,columns:a,defaultColumnProps:r,selectionVisible:n,selectorCellShadowVisible:s,ref:c}){return l.jsx(Sn,{ref:c,className:Q("mantine-datatable-footer",e),style:t,children:l.jsxs(jn,{children:[n&&l.jsx(io,{shadowVisible:s}),a.map(({hidden:i,...h})=>{if(i)return null;let{accessor:m,visibleMediaQuery:p,textAlign:w,width:f,footer:d,footerClassName:u,footerStyle:_,noWrap:x,ellipsis:R}={...r,...h};return l.jsx(lo,{className:u,style:_,visibleMediaQuery:p,textAlign:w,width:f,title:d,noWrap:x,ellipsis:R},m)})]})})}const uo=window.MantineCore.Checkbox,mo=window.MantineCore.Group,ho=window.MantineCore.Popover,go=window.MantineCore.PopoverDropdown,wo=window.MantineCore.PopoverTarget,fo=window.MantineCore.Stack,po=window.MantineCore.TableThead,Ut=window.MantineCore.TableTr,_o=window.React.useState,bo=window.MantineCore.TableTh,Ne=window.React.useMemo;function Co({group:{id:e,columns:t,groups:a,title:r,textAlign:n,className:s,style:c},maxDepth:i,currentDepth:h,previousGroups:m,isLastGroup:p,withColumnBorders:w=!1,totalTableColumns:f}){let d=Ne(()=>t&&t.length>0?t:a&&a.length>0?ft([{id:e,columns:t,groups:a}]):[],[t,a,e]),u=Ne(()=>d.map(({visibleMediaQuery:N})=>N),[d]),_=Yn(u),x=Ne(()=>mt({columns:t,groups:a},_),[e,t,a,_]),R=Ne(()=>m.reduce((N,P)=>N+mt(P,_),0),[m,_]),k=a&&a.length>0?1:i-h,T=R+x<f,v=to(p,T,w);return x>0?l.jsx(bo,{colSpan:x,rowSpan:k>1?k:void 0,className:Q("mantine-datatable-column-group-header-cell",{[Le]:n==="left",[We]:n==="center",[$e]:n==="right","mantine-datatable-column-group-header-cell--needs-border":v},s),style:c,children:r??wt(e)}):null}const Xt=window.MantineCore.ActionIcon,xo=window.MantineCore.Box,Ie=window.MantineCore.Center,vo=window.MantineCore.Flex,ko=window.MantineCore.Group,yo=window.MantineCore.TableTh,Ro=window.React.useRef,Mo=window.React.useState,So=window.MantineCore.ActionIcon,jo=window.MantineCore.Popover,To=window.MantineCore.PopoverDropdown,Po=window.MantineCore.PopoverTarget;function No(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})]})}function Io(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z",strokeWidth:"0",fill:"currentColor"})]})}function zo({children:e,isActive:t,filterPopoverProps:a,filterPopoverDisableClickOutside:r}){let[n,{close:s,toggle:c}]=cn(!1),i=t?Io:No,h=Gr(s);return r&&(h=void 0),l.jsxs(jo,{withArrow:!0,shadow:"md",opened:n,onClose:s,trapFocus:!0,...a,children:[l.jsx(Po,{children:l.jsx(So,{className:"mantine-datatable-header-cell-filter-action-icon","data-active":t||void 0,size:"sm",variant:"default",onClick:m=>{m.preventDefault(),c()},onKeyDown:m=>m.stopPropagation(),children:l.jsx(i,{})})}),l.jsx(To,{ref:h,onClick:m=>m.stopPropagation(),onKeyDown:m=>m.stopPropagation(),children:typeof e=="function"?e({close:s}):e})]})}const Lo=window.MantineCore.useDirection,Zt=window.React.useCallback,Yt=window.React.useRef,Wo=window.React.useState;var $o=e=>{let{accessor:t,columnRef:a}=e,[r,n]=Wo(!1),s=Yt(0),c=Yt({current:0,next:0}),{dir:i}=Lo(),h=i==="rtl",{setMultipleColumnWidths:m}=gt(),p=Zt(f=>{if(f.preventDefault(),f.stopPropagation(),!a.current)return;let d=a.current,u=d.nextElementSibling;for(;u;){let N=u.getAttribute("data-accessor");if(N&&N!=="__selection__")break;u=u.nextElementSibling}if(!u)return;let _=u.getAttribute("data-accessor");if(!_)return;let x=_==="__selection__";n(!0),s.current=f.clientX;let R=d.offsetWidth,k=u.offsetWidth;c.current={current:R,next:k};let T=N=>{if(!a.current)return;let P=a.current,S=P.nextElementSibling;if(!S)return;let D=N.clientX-s.current;h&&(D=-D);let C=50,M=c.current.current-C,$=c.current.next-C,L=Math.max(-M,Math.min(D,$)),B=c.current.current+L,j=c.current.next-L;P.style.width=`${B}px`,S.style.width=`${j}px`,P.style.minWidth=`${B}px`,P.style.maxWidth=`${B}px`,S.style.minWidth=`${j}px`,S.style.maxWidth=`${j}px`},v=()=>{if(!a.current)return;let N=a.current,P=N.nextElementSibling;n(!1),document.body.style.cursor="initial",document.body.style.userSelect="initial";let S=parseInt(N.style.width)||N.offsetWidth,D=P?parseInt(P.style.width)||P.offsetWidth:0,C=[{accessor:t,width:`${S}px`}];if(P&&!x){let M=P.getAttribute("data-accessor");M&&C.push({accessor:M,width:`${D}px`})}setTimeout(()=>{m(C)},0),document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",v)};document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",T),document.addEventListener("mouseup",v)},[t,a,h,m]),w=Zt(()=>{if(!a.current)return;let f=a.current,d=f.nextElementSibling;f.style.width="",f.style.minWidth="",f.style.maxWidth="";let u=[{accessor:t,width:"auto"}];if(d){d.style.width="",d.style.minWidth="",d.style.maxWidth="";let _=d.getAttribute("data-accessor");_&&_!=="__selection__"&&u.push({accessor:_,width:"auto"})}setTimeout(()=>{m(u)},0)},[t,a,m]);return l.jsx("div",{className:"mantine-datatable-header-resizable-handle",style:{cursor:r?"col-resize":void 0},onMouseDown:p,onDoubleClick:w,onClick:f=>f.stopPropagation(),title:"Drag to resize column, double-click to reset"})};function Bo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12 5l0 14"}),l.jsx("path",{d:"M16 9l-4 -4"}),l.jsx("path",{d:"M8 9l4 -4"})]})}function Oo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M8 7l4 -4l4 4"}),l.jsx("path",{d:"M8 17l4 4l4 -4"}),l.jsx("path",{d:"M12 3l0 18"})]})}function Eo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function Do(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M18 6l-12 12"}),l.jsx("path",{d:"M6 6l12 12"})]})}function Fo({className:e,style:t,accessor:a,visibleMediaQuery:r,title:n,sortable:s,draggable:c,toggleable:i,resizable:h,sortIcons:m,textAlign:p,width:w,sortStatus:f,onSortStatusChange:d,filter:u,filterPopoverProps:_,filterPopoverDisableClickOutside:x,filtering:R,sortKey:k}){let{setSourceColumn:T,setTargetColumn:v,swapColumns:N,setColumnsToggle:P}=gt(),[S,D]=Mo(!1),C=Ro(null);if(!ze(r))return null;let M=n??wt(a),$=typeof M=="string"?M:void 0,L=s&&d?g=>{g?.defaultPrevented||d({sortKey:k,columnAccessor:a,direction:f?.columnAccessor===a?f.direction==="asc"?"desc":"asc":f?.direction??"asc"})}:void 0,B=g=>{g.stopPropagation(),T(a),D(!1)},j=g=>{g.preventDefault(),v(a),D(!0)},y=()=>{v(a),D(!1),N()},H=()=>{D(!0)},o=()=>{D(!1)},b=g=>{g.stopPropagation(),P(z=>z.map(W=>W.accessor===a?{...W,toggled:!1}:W))};return l.jsxs(yo,{"data-accessor":a,className:Q({"mantine-datatable-header-cell-sortable":s,"mantine-datatable-header-cell-toggleable":i,"mantine-datatable-header-cell-resizable":h},e),style:[{width:w,...h?{}:{minWidth:w,maxWidth:w}},t],role:s?"button":void 0,tabIndex:s?0:void 0,onClick:L,onKeyDown:g=>g.key==="Enter"&&L?.(),ref:C,children:[l.jsxs(ko,{className:"mantine-datatable-header-cell-sortable-group",justify:"space-between",wrap:"nowrap",children:[l.jsxs(vo,{align:"center",w:"100%",className:Q({"mantine-datatable-header-cell-draggable":c,"mantine-datatable-header-cell-drag-over":S}),draggable:c,onDragStart:c?B:void 0,onDragEnter:c?H:void 0,onDragOver:c?j:void 0,onDrop:c?y:void 0,onDragLeave:c?o:void 0,children:[c?l.jsx(Ie,{role:"img","aria-label":"Drag column",children:l.jsx(Xt,{className:"mantine-datatable-header-cell-draggable-action-icon",variant:"subtle",size:"xs",onClick:g=>{g.stopPropagation()},children:l.jsx(Eo,{})})}):null,l.jsx(xo,{className:Q("mantine-datatable-header-cell-sortable-text",{[Le]:p==="left",[We]:p==="center",[$e]:p==="right"},pt,_t),title:$,children:M})]}),i?l.jsx(Ie,{className:"mantine-datatable-header-cell-toggleable-icon",role:"img","aria-label":"Toggle column",children:l.jsx(Xt,{size:"xs",variant:"light",onClick:b,children:l.jsx(Do,{})})}):null,s||f?.columnAccessor===a?l.jsx(l.Fragment,{children:f?.columnAccessor===a?l.jsx(Ie,{className:Q("mantine-datatable-header-cell-sortable-icon",{"mantine-datatable-header-cell-sortable-icon-reversed":f.direction==="desc"}),role:"img","aria-label":`Sorted ${f.direction==="desc"?"descending":"ascending"}`,children:m?.sorted||l.jsx(Bo,{})}):l.jsx(Ie,{className:"mantine-datatable-header-cell-sortable-unsorted-icon",role:"img","aria-label":"Not sorted",children:m?.unsorted||l.jsx(Oo,{})})}):null,u?l.jsx(zo,{filterPopoverProps:_,isActive:!!R,filterPopoverDisableClickOutside:x,children:u}):null]}),h&&a!=="__selection__"?l.jsx($o,{accessor:a,columnRef:C}):null]})}const Vo=window.MantineCore.Checkbox,Ho=window.MantineCore.TableTh;function qo({className:e,style:t,trigger:a,shadowVisible:r,checked:n,indeterminate:s,checkboxProps:c,onChange:i,rowSpan:h,ref:m}){let p=!c.disabled;return l.jsx(Ho,{ref:m,className:Q("mantine-datatable-header-selector-cell",{[ge]:a==="cell"&&p},e),style:t,rowSpan:h,"data-shadow-visible":r||void 0,"data-accessor":"__selection__",onClick:a==="cell"&&p?i:void 0,children:l.jsx(Vo,{classNames:p?{input:ge}:void 0,checked:n,indeterminate:s,onChange:i,...c,disabled:!(i||c.onChange)||c.disabled})})}function Jo({selectionColumnHeaderRef:e,className:t,style:a,sortStatus:r,sortIcons:n,onSortStatusChange:s,columns:c,defaultColumnProps:i,groups:h,selectionTrigger:m,selectionVisible:p,selectionChecked:w,selectionIndeterminate:f,onSelectionChange:d,selectionCheckboxProps:u,selectorCellShadowVisible:_,selectionColumnClassName:x,selectionColumnStyle:R,withColumnBorders:k=!1,ref:T}){let v=h?la(h):0,N=v>0?v+1:1,P=p?l.jsx(qo,{ref:e,className:x,style:R,trigger:m,shadowVisible:_,checked:w,indeterminate:f,checkboxProps:u,onChange:d,rowSpan:h?N:void 0}):null,{columnsToggle:S,setColumnsToggle:D}=gt(),[C,M]=_o(!1),$=c.some(j=>j.toggleable),L=$?Object.fromEntries(c.map(({accessor:j,title:y})=>[j,y??wt(String(j))])):void 0,B=l.jsxs(po,{className:Q("mantine-datatable-header",t),style:a,ref:T,onContextMenu:$?j=>{j.preventDefault(),M(y=>!y)}:void 0,children:[h&&Array.from({length:v},(j,y)=>{let H=sa(h,y);return l.jsxs(Ut,{children:[y===0&&P,H.map((o,b)=>l.jsx(Co,{group:o,maxDepth:v,currentDepth:y,previousGroups:H.slice(0,b),isLastGroup:b===H.length-1,withColumnBorders:k,totalTableColumns:c.length},o.id))]},`group-depth-${y}`)}),l.jsxs(Ut,{children:[!h&&P,c.map(({hidden:j,...y},H)=>{if(j)return null;let{accessor:o,visibleMediaQuery:b,textAlign:g,width:z,title:W,sortable:V,draggable:J,toggleable:q,resizable:Z,titleClassName:O,titleStyle:re,filter:ae,filterPopoverProps:Y,filterPopoverDisableClickOutside:Be,filtering:Oe,sortKey:Ee}={...i,...y};return l.jsx(Fo,{accessor:o,className:O,style:re,visibleMediaQuery:b,textAlign:g,width:z,title:W,sortable:V,draggable:J,toggleable:q,resizable:Z&&H<c.length-1,sortStatus:r,sortIcons:n,sortKey:Ee,onSortStatusChange:s,filter:ae,filterPopoverProps:Y,filterPopoverDisableClickOutside:Be,filtering:Oe},o)})]})]});return $?l.jsxs(ho,{position:"bottom",withArrow:!0,shadow:"md",opened:C,onChange:M,children:[l.jsx(wo,{children:B}),l.jsx(go,{children:l.jsx(fo,{children:S.filter(j=>j.toggleable).map(j=>l.jsx(mo,{children:l.jsx(uo,{classNames:{label:"mantine-datatable-header-column-toggle-checkbox-label"},size:"xs",label:L[j.accessor],checked:j.toggled,onChange:y=>{D(S.map(H=>H.accessor===j.accessor?{...H,toggled:y.currentTarget.checked}:H))}})},j.accessor))})})]}):B}const Qo=window.MantineCore.Center,Go=window.MantineCore.Loader;function Uo({fetching:e,customContent:t,backgroundBlur:a,size:r,type:n,color:s}){return l.jsx(Qo,{className:Q("mantine-datatable-loader",{"mantine-datatable-loader-fetching":e}),style:[{backdropFilter:a?`blur(${a}px)`:void 0}],children:e&&(t||l.jsx(Go,{size:r,type:n,color:s}))})}const Xo=window.MantineCore.Box,Zo=window.MantineCore.Pagination,Yo=window.MantineCore.Text,Ko=window.MantineCore.rem,Ao=window.MantineCore.Button,el=window.MantineCore.Group,tl=window.MantineCore.Menu,al=window.MantineCore.MenuDropdown,rl=window.MantineCore.MenuItem,nl=window.MantineCore.MenuTarget,Kt=window.MantineCore.Text,xe=window.MantineCore.rem,ol=window.MantineCore.parseThemeColor;function G(e,t,a){return e?ol({color:typeof e=="object"?e[a]:e,theme:t}).value:void 0}function ll({theme:e,c:t,backgroundColor:a,borderColor:r,rowBorderColor:n,stripedColor:s,highlightOnHoverColor:c}){return{"--mantine-datatable-color-light":G(t,e,"light"),"--mantine-datatable-color-dark":G(t,e,"dark"),"--mantine-datatable-background-color-light":G(a,e,"light"),"--mantine-datatable-background-color-dark":G(a,e,"dark"),"--mantine-datatable-border-color-light":G(r,e,"light"),"--mantine-datatable-border-color-dark":G(r,e,"dark"),"--mantine-datatable-row-border-color-light":G(n,e,"light"),"--mantine-datatable-row-border-color-dark":G(n,e,"dark"),"--mantine-datatable-striped-color-light":G(s,e,"light"),"--mantine-datatable-striped-color-dark":G(s,e,"dark"),"--mantine-datatable-highlight-on-hover-color-light":G(c,e,"light"),"--mantine-datatable-highlight-on-hover-color-dark":G(c,e,"dark")}}function ca({theme:e,paginationActiveTextColor:t,paginationActiveBackgroundColor:a}){return{"--mantine-datatable-pagination-active-text-color-light":G(t,e,"light"),"--mantine-datatable-pagination-active-text-color-dark":G(t,e,"dark"),"--mantine-datatable-pagination-active-background-color-light":G(a,e,"light"),"--mantine-datatable-pagination-active-background-color-dark":G(a,e,"dark")}}function sl({theme:e,color:t,backgroundColor:a}){return{"--mantine-datatable-row-color-light":G(t,e,"light"),"--mantine-datatable-row-color-dark":G(t,e,"dark"),"--mantine-datatable-row-background-color-light":G(a,e,"light"),"--mantine-datatable-row-background-color-dark":G(a,e,"dark")}}function il(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M8 9l4 -4l4 4"}),l.jsx("path",{d:"M16 15l-4 4l-4 -4"})]})}var At={xs:xe(22),sm:xe(26),md:xe(32),lg:xe(38),xl:xe(44)};function cl({size:e,label:t,values:a,value:r,activeTextColor:n,activeBackgroundColor:s,onChange:c}){return l.jsxs(el,{gap:"xs",children:[l.jsx(Kt,{component:"div",size:e,children:t}),l.jsxs(tl,{withinPortal:!0,withArrow:!0,offset:2,classNames:{arrow:"mantine-datatable-page-size-selector-menu-arrow"},children:[l.jsx(nl,{children:l.jsx(Ao,{size:e,variant:"default",classNames:{section:"mantine-datatable-page-size-selector-button-icon"},rightSection:l.jsx(il,{}),style:[{fontWeight:"normal"},i=>({height:At[e],paddingLeft:i.spacing[e],paddingRight:i.spacing[e]})],children:r})}),l.jsx(al,{children:a.map(i=>{let h=i===r;return l.jsx(rl,{className:Q({"mantine-datatable-page-size-selector-active":h}),style:[{height:At[e]},h&&(n||s)?m=>ca({theme:m,paginationActiveTextColor:n,paginationActiveBackgroundColor:s}):void 0],disabled:h,onClick:()=>c(i),children:l.jsx(Kt,{component:"div",size:e,children:i})},i)})})]})]})}function ul({className:e,style:t,fetching:a,page:r,onPageChange:n,paginationWithEdges:s,paginationWithControls:c,paginationActiveTextColor:i,paginationActiveBackgroundColor:h,paginationSize:m,loadingText:p,noRecordsText:w,paginationText:f,totalRecords:d,recordsPerPage:u,onRecordsPerPageChange:_,recordsPerPageLabel:x,recordsPerPageOptions:R,recordsLength:k,horizontalSpacing:T,paginationWrapBreakpoint:v,getPaginationControlProps:N,getPaginationItemProps:P,renderPagination:S}){let D;if(d){let y=(r-1)*u+1,H=y+(k||0)-1;D=f({from:y,to:H,totalRecords:d})}else D=a?p:w;let C=d&&u?Math.max(1,Math.ceil(d/u)):1,M=d?(r-1)*(u??0)+1:void 0,$=d?(M??1)+(k??0)-1:void 0,L=!ze(({breakpoints:y})=>`(min-width: ${typeof v=="number"?`${Ko(v)}rem`:y[v]||v})`),B={Text:y=>l.jsx(Yo,{component:"div",className:"mantine-datatable-pagination-text",size:m,...y,children:D}),PageSizeSelector:y=>R?l.jsx(cl,{activeTextColor:i,activeBackgroundColor:h,size:m,label:x,values:R,value:u,onChange:_,...y}):l.jsx(l.Fragment,{}),Pagination:y=>l.jsx(Zo,{classNames:{root:Q("mantine-datatable-pagination-pages",{"mantine-datatable-pagination-pages-fetching":a||!k}),control:"mantine-datatable-pagination-pages-control"},style:i||h?H=>ca({theme:H,paginationActiveTextColor:i,paginationActiveBackgroundColor:h}):void 0,withEdges:s,withControls:c,value:r,onChange:n,size:m,total:C,getControlProps:N,getItemProps:P,...y})},j={state:{paginationSize:m,page:r,totalPages:C,totalRecords:d,recordsPerPage:u,recordsLength:k,fetching:a,from:M,to:$,isWrapped:L},actions:{setPage:y=>n?.(y),setRecordsPerPage:_?y=>_(y):void 0},Controls:B};return l.jsx(Xo,{px:T??"xs",py:"xs",className:Q("mantine-datatable-pagination",e),style:[{flexDirection:L?"column":"row"},t],children:typeof S=="function"?S(j):l.jsxs(l.Fragment,{children:[l.jsx(B.Text,{}),l.jsx(B.PageSizeSelector,{}),l.jsx(B.Pagination,{})]})})}const dl=window.MantineCore.TableTr,ml=window.MantineCore.TableTd;function hl({className:e,style:t,visibleMediaQuery:a,record:r,index:n,onClick:s,onDoubleClick:c,onContextMenu:i,noWrap:h,ellipsis:m,textAlign:p,width:w,accessor:f,render:d,defaultRender:u,customCellAttributes:_}){return ze(a)?l.jsx(ml,{className:Q({[pt]:h||m,[_t]:m,[ge]:s||c,[ia]:i,[Le]:p==="left",[We]:p==="center",[$e]:p==="right"},e),style:[{width:w,minWidth:w,maxWidth:w},t],onClick:s,onDoubleClick:c,onContextMenu:i,..._?.(r,n),children:d?d(r,n):u?u(r,n,f):oa(r,f)}):null}const gl=window.MantineCore.Collapse,wl=window.MantineCore.TableTd,ea=window.MantineCore.TableTr;function fl({open:e,colSpan:t,content:a,collapseProps:r}){let{expanded:n,visible:s}=no(e,r?.transitionDuration);return s?l.jsxs(l.Fragment,{children:[l.jsx(ea,{}),l.jsx(ea,{children:l.jsx(wl,{className:"mantine-datatable-row-expansion-cell",colSpan:t,children:l.jsx(gl,{in:n,...r,children:l.jsx("div",{className:"mantine-datatable-row-expansion-cell-content",children:a()})})})})]}):null}const pl=window.MantineCore.Checkbox,_l=window.MantineCore.TableTd;function bl({className:e,style:t,record:a,index:r,trigger:n,onChange:s,withRightShadow:c,checkboxProps:i,getCheckboxProps:h,...m}){let p={...i,...h(a,r)},w=!m.disabled&&!p.disabled,f=d=>{d.stopPropagation(),n==="cell"&&w&&s?.(d)};return l.jsx(_l,{className:Q("mantine-datatable-row-selector-cell",{[ge]:n==="cell"&&w},e),style:t,"data-shadow-visible":c||void 0,onClick:f,children:l.jsx(pl,{classNames:w?{input:ge}:void 0,onChange:s,...m,...p})})}function Cl({record:e,index:t,columns:a,defaultColumnProps:r,defaultColumnRender:n,selectionTrigger:s,selectionVisible:c,selectionChecked:i,onSelectionChange:h,isRecordSelectable:m,selectionCheckboxProps:p,getSelectionCheckboxProps:w,onClick:f,onDoubleClick:d,onContextMenu:u,onCellClick:_,onCellDoubleClick:x,onCellContextMenu:R,expansion:k,customAttributes:T,color:v,backgroundColor:N,className:P,style:S,selectorCellShadowVisible:D,selectionColumnClassName:C,selectionColumnStyle:M,rowFactory:$}){let L=l.jsxs(l.Fragment,{children:[c&&l.jsx(bl,{className:C,style:M,record:e,index:t,trigger:s,withRightShadow:D,checked:i,disabled:!h||(m?!m(e,t):!1),onChange:h,checkboxProps:p,getCheckboxProps:w}),a.map(({hidden:y,hiddenContent:H,...o},b)=>{if(y||H)return null;let{accessor:g,visibleMediaQuery:z,textAlign:W,noWrap:V,ellipsis:J,width:q,render:Z,cellsClassName:O,cellsStyle:re,customCellAttributes:ae}={...r,...o};return l.jsx(hl,{className:typeof O=="function"?O(e,t):O,style:re?.(e,t),visibleMediaQuery:z,record:e,index:t,onClick:_?Y=>_({event:Y,record:e,index:t,column:o,columnIndex:b}):void 0,onDoubleClick:x?Y=>x({event:Y,record:e,index:t,column:o,columnIndex:b}):void 0,onContextMenu:R?Y=>R({event:Y,record:e,index:t,column:o,columnIndex:b}):void 0,accessor:g,textAlign:W,noWrap:V,ellipsis:J,width:q,render:Z,defaultRender:n,customCellAttributes:ae},g)})]}),B=k&&l.jsx(fl,{colSpan:a.filter(({hidden:y})=>!y).length+(c?1:0),open:k.isRowExpanded(e),content:k.content({record:e,index:t}),collapseProps:k.collapseProps}),j=xl({record:e,index:t,selectionChecked:i,onClick:f,onDoubleClick:d,onContextMenu:u,expansion:k,customAttributes:T,color:v,backgroundColor:N,className:P,style:S});return $?$({record:e,index:t,rowProps:j,children:L,expandedElement:B}):l.jsxs(l.Fragment,{children:[l.jsx(dl,{...j,children:L}),B]})}function xl({record:e,index:t,selectionChecked:a,onClick:r,onDoubleClick:n,onContextMenu:s,expansion:c,customAttributes:i,color:h,backgroundColor:m,className:p,style:w}){return{className:Q("mantine-datatable-row",{[ge]:r||n||c?.isExpandable({record:e,index:t})&&c?.expandOnClick},{[ia]:s},typeof p=="function"?p(e,t):p),"data-selected":a||void 0,onClick:f=>{if(c){let{isExpandable:d,isRowExpanded:u,expandOnClick:_,expandRow:x,collapseRow:R}=c;d({record:e,index:t})&&_&&(u(e)?R(e):x(e))}r?.({event:f,record:e,index:t})},onDoubleClick:n?f=>n({event:f,record:e,index:t}):void 0,onContextMenu:s?f=>s({event:f,record:e,index:t}):void 0,style:[h||m?f=>{let d=h?.(e,t),u=m?.(e,t);return sl({theme:f,color:d,backgroundColor:u})}:void 0,w?.(e,t)],...i?.(e,t)??{}}}const ta=window.MantineCore.Box,vl=window.MantineCore.ScrollArea;function kl({leftShadowBehind:e,rightShadowBehind:t,onScrollPositionChange:a,children:r,viewportRef:n,scrollAreaProps:s}){return l.jsxs(vl,{...s,viewportRef:n,classNames:{root:"mantine-datatable-scroll-area",scrollbar:"mantine-datatable-scroll-area-scrollbar",thumb:"mantine-datatable-scroll-area-thumb",corner:"mantine-datatable-scroll-area-corner"},onScrollPositionChange:a,children:[r,l.jsx(ta,{className:Q("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-top-shadow")}),l.jsx("div",{className:Q("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-left-shadow",{"mantine-datatable-scroll-area-shadow-behind":e})}),l.jsx("div",{className:Q("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-right-shadow",{"mantine-datatable-scroll-area-shadow-behind":t})}),l.jsx(ta,{className:Q("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-bottom-shadow")})]})}function yl({withTableBorder:e,borderRadius:t,textSelectionDisabled:a,height:r="100%",minHeight:n,maxHeight:s,shadow:c,verticalAlign:i="center",fetching:h,columns:m,storeColumnsKey:p,groups:w,pinFirstColumn:f,pinLastColumn:d,defaultColumnProps:u,defaultColumnRender:_,idAccessor:x="id",records:R,selectionTrigger:k="checkbox",selectedRecords:T,onSelectedRecordsChange:v,selectionColumnClassName:N,selectionColumnStyle:P,isRecordSelectable:S,selectionCheckboxProps:D,allRecordsSelectionCheckboxProps:C={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:M=(K,pe)=>({"aria-label":`Select record ${pe+1}`}),sortStatus:$,sortIcons:L,onSortStatusChange:B,horizontalSpacing:j,page:y,onPageChange:H,totalRecords:o,recordsPerPage:b,onRecordsPerPageChange:g,recordsPerPageOptions:z,recordsPerPageLabel:W="Records per page",paginationWithEdges:V,paginationWithControls:J,paginationActiveTextColor:q,paginationActiveBackgroundColor:Z,paginationSize:O="sm",paginationText:re=({from:K,to:pe,totalRecords:Ve})=>`${K} - ${pe} / ${Ve}`,paginationWrapBreakpoint:ae="sm",getPaginationControlProps:Y=K=>K==="previous"?{"aria-label":"Previous page"}:K==="next"?{"aria-label":"Next page"}:{},getPaginationItemProps:Be,renderPagination:Oe,loaderBackgroundBlur:Ee,customLoader:ua,loaderSize:da,loaderType:ma,loaderColor:ha,loadingText:ga="...",emptyState:wa,noRecordsText:bt="No records",noRecordsIcon:fa,highlightOnHover:pa,striped:_a,noHeader:ba,onRowClick:Ca,onRowDoubleClick:xa,onRowContextMenu:va,onCellClick:ka,onCellDoubleClick:ya,onCellContextMenu:Ra,onScroll:Ma,onScrollToTop:Sa,onScrollToBottom:ja,onScrollToLeft:Ta,onScrollToRight:Pa,c:Na,backgroundColor:Ia,borderColor:za,rowBorderColor:La,stripedColor:Wa,highlightOnHoverColor:$a,rowColor:Ba,rowBackgroundColor:Oa,rowExpansion:Ea,rowClassName:Da,rowStyle:Fa,customRowAttributes:Va,scrollViewportRef:Ha,scrollAreaProps:qa,tableRef:Ja,bodyRef:Qa,m:Ga,my:Ua,mx:Xa,mt:Za,mb:Ya,ml:Ka,mr:Aa,className:er,classNames:we,style:tr,styles:fe,rowFactory:ar,tableWrapper:De,...Fe}){let K=_n(()=>w?ft(w):m,[m,w]),[pe,Ve]=bn(!1),{refs:te,onScroll:rr}=Dn({scrollCallbacks:{onScroll:Ma,onScrollToTop:Sa,onScrollToBottom:ja,onScrollToLeft:Ta,onScrollToRight:Pa},withRowBorders:Fe.withRowBorders}),He=Ln({key:p,columns:K,headerRef:te.header,scrollViewportRef:te.scrollViewport,onFixedLayoutChange:Ve}),nr=Nt(te.table,Ja),or=Nt(te.scrollViewport,Ha),lr=ao({rowExpansion:Ea,records:R,idAccessor:x}),Re=at(!1),Ct=at(y),qe=at(R),sr=tt(F=>{Re.current=!0,qe.current=R,H(F)},[H,R]);fn(()=>{Ct.current!==y&&(Re.current=!0,qe.current=R,Ct.current=y)},[y,R]);let Me=R?.length;pn(()=>{if(!Re.current||h||R===qe.current)return;let F=te.scrollViewport.current;if(!F)return;let se=requestAnimationFrame(()=>{F.scrollTo({top:0,left:0}),Re.current=!1});return()=>cancelAnimationFrame(se)},[h,R,te.scrollViewport]);let xt=R?.map(F=>X(F,x)),me=!!T,_e=T?.map(F=>X(F,x)),vt=xt!==void 0&&_e!==void 0&&_e.length>0,Je=S?R?.filter(S):R,Se=Je?.map(F=>X(F,x)),je=vt&&Se.every(F=>_e.includes(F)),ir=vt&&Se.some(F=>_e.includes(F)),cr=tt(()=>{T&&v&&v(je?T.filter(F=>!Se.includes(X(F,x))):lt([...T,...Je],F=>X(F,x)))},[je,x,v,Se,Je,T]),{lastSelectionChangeIndex:Te,setLastSelectionChangeIndex:ur}=Hn(xt),Qe=me&&!f,dr={m:Ga,my:Ua,mx:Xa,mt:Za,mb:Ya,ml:Ka,mr:Aa},mr=tt(({children:F})=>De?De({children:F}):F,[De]);return l.jsx(Bt,{...He,children:l.jsxs(gn,{ref:te.root,...dr,className:Q("mantine-datatable",{"mantine-datatable-with-border":e},er,we?.root),style:[F=>({...ll({theme:F,c:Na,backgroundColor:Ia,borderColor:za,rowBorderColor:La,stripedColor:Wa,highlightOnHoverColor:$a}),borderRadius:F.radius[t]||t,boxShadow:F.shadows[c]||c,height:r,minHeight:n,maxHeight:s}),tr,fe?.root,{position:"relative"}],children:[l.jsx(kl,{viewportRef:or,leftShadowBehind:me||!!f,rightShadowBehind:d,onScrollPositionChange:rr,scrollAreaProps:qa,children:l.jsx(mr,{children:l.jsxs(wn,{ref:nr,horizontalSpacing:j,className:Q("mantine-datatable-table",{[oo]:a,"mantine-datatable-vertical-align-top":i==="top","mantine-datatable-vertical-align-bottom":i==="bottom","mantine-datatable-pin-last-column":d,"mantine-datatable-selection-column-visible":me,"mantine-datatable-pin-first-column":f,"mantine-datatable-resizable-columns":He.hasResizableColumns&&pe},we?.table),style:{...fe?.table},"data-striped":Me&&_a||void 0,"data-highlight-on-hover":pa||void 0,...Fe,children:[ba?null:l.jsx(Bt,{...He,children:l.jsx(Jo,{ref:te.header,selectionColumnHeaderRef:te.selectionColumnHeader,className:we?.header,style:fe?.header,columns:K,defaultColumnProps:u,groups:w,sortStatus:$,sortIcons:L,onSortStatusChange:B,selectionTrigger:k,selectionVisible:me,selectionChecked:je,selectionIndeterminate:ir&&!je,onSelectionChange:cr,selectionCheckboxProps:{...D,...C},selectorCellShadowVisible:Qe,selectionColumnClassName:N,selectionColumnStyle:P,withColumnBorders:Fe.withColumnBorders})}),l.jsx("tbody",{ref:Qa,children:Me?R.map((F,se)=>{let Ge=X(F,x),Ue=_e?.includes(Ge)||!1,kt;return v&&T&&(kt=hr=>{if(hr.nativeEvent.shiftKey&&Te!==null){let he=R.filter(se>Te?(ie,ce)=>ce>=Te&&ce<=se&&(S?S(ie,ce):!0):(ie,ce)=>ce>=se&&ce<=Te&&(S?S(ie,ce):!0));v(Ue?eo(T,he,ie=>X(ie,x)):lt([...T,...he],ie=>X(ie,x)))}else v(Ue?T.filter(he=>X(he,x)!==Ge):lt([...T,F],he=>X(he,x)));ur(se)}),l.jsx(Cl,{record:F,index:se,columns:K,defaultColumnProps:u,defaultColumnRender:_,selectionTrigger:k,selectionVisible:me,selectionChecked:Ue,onSelectionChange:kt,isRecordSelectable:S,selectionCheckboxProps:D,getSelectionCheckboxProps:M,onClick:Ca,onDoubleClick:xa,onCellClick:ka,onCellDoubleClick:ya,onContextMenu:va,onCellContextMenu:Ra,expansion:lr,color:Ba,backgroundColor:Oa,className:Da,style:Fa,customAttributes:Va,selectorCellShadowVisible:Qe,selectionColumnClassName:N,selectionColumnStyle:P,idAccessor:x,rowFactory:ar},Ge)}):l.jsx(vn,{})}),K.some(({footer:F})=>F)&&l.jsx(co,{ref:te.footer,className:we?.footer,style:fe?.footer,columns:K,defaultColumnProps:u,selectionVisible:me,selectorCellShadowVisible:Qe})]})})}),y&&l.jsx(ul,{className:we?.pagination,style:fe?.pagination,horizontalSpacing:j,fetching:h,page:y,onPageChange:sr,totalRecords:o,recordsPerPage:b,onRecordsPerPageChange:g,recordsPerPageOptions:z,recordsPerPageLabel:W,paginationWithEdges:V,paginationWithControls:J,paginationActiveTextColor:q,paginationActiveBackgroundColor:Z,paginationSize:O,paginationText:re,paginationWrapBreakpoint:ae,getPaginationControlProps:Y,getPaginationItemProps:Be,noRecordsText:bt,loadingText:ga,recordsLength:Me,renderPagination:Oe}),l.jsx(Uo,{fetching:h,backgroundBlur:Ee,customContent:ua,size:da,type:ma,color:ha}),l.jsx(Mn,{icon:fa,text:bt,active:!h&&!Me,children:wa})]})})}window.MantineCore.TableTr;window.React.useEffect;window.React.useRef;const aa=window.MantineCore.ActionIcon,st=window.MantineCore.Alert,Rl=window.MantineCore.Anchor,de=window.MantineCore.Badge,it=window.MantineCore.Button,ct=window.MantineCore.Checkbox,Ml=window.MantineCore.Divider,U=window.MantineCore.Group,Sl=window.MantineCore.Loader,ve=window.MantineCore.Menu,jl=window.MantineCore.NumberInput,ut=window.MantineCore.Paper,ke=window.MantineCore.Stack,I=window.MantineCore.Text,Tl=window.MantineCore.TextInput,ra=window.MantineCore.Tooltip,Pl=window.React.useEffect,ye=window.React.useMemo,ee=window.React.useState;function Nl({context:e}){const[t,a]=ee(!1),[r,n]=ee(null),[s,c]=ee(null),[i,h]=ee(1),[m,p]=ee(!0),[w,f]=ee(!0),[d,u]=ee(""),[_,x]=ee({columnAccessor:"ipn",direction:"asc"}),[R,k]=ee(1),[T,v]=ee(()=>{const o=localStorage.getItem("flat-bom-records-per-page");if(o==="All")return"All";const b=Number(o);return b>0?b:50}),N=ye(()=>e?.id||e?.instance?.pk,[e.id,e.instance]),P=ye(()=>e?.instance?.name||"Unknown Part",[e.instance]),S=async()=>{if(!N){c("No part ID available");return}a(!0),c(null);try{const o=await e.api.get(`/plugin/flat-bom-generator/flat-bom/${N}/`,{timeout:3e4});o.status===200?(console.log("[FlatBOM] API Response:",o.data),console.log("[FlatBOM] Metadata:",o.data.metadata),console.log("[FlatBOM] Warnings:",o.data.metadata?.warnings),n(o.data)):c(`API returned status ${o.status}`)}catch(o){c(o?.response?.data?.error||o.message||"Failed to generate flat BOM"),console.error("Error generating flat BOM:",o)}finally{a(!1)}},D=o=>{const g=String(o??"").replace(/"/g,'""');return g.includes(",")||g.includes('"')||g.includes(`
`)?`"${g}"`:g},C=()=>{if(!r)return;const o=["IPN","Part Name","Description","Part Type","Total Qty","Unit","Cut Length","Cut Unit","In Stock","Allocated","On Order","Build Margin"],b=M.map(O=>{if(O.is_cut_list_child)return[O.ipn,O.part_name,O.description,O.part_type,O.total_qty,"",O.cut_length||"-",O.cut_unit||O.unit||"","-","-","-","-"];const re=O.total_qty*i;let ae=O.in_stock;m&&(ae-=O.allocated),w&&(ae+=O.on_order);const Y=ae-re;return[O.ipn,O.part_name,O.description,O.part_type,re,O.unit,"-","",O.in_stock,O.allocated,O.on_order,Y]}),g=[o.map(D).join(","),...b.map(O=>O.map(D).join(","))].join(`
`),z=new Date().toISOString().replace(/[:.]/g,"-").split("T"),W=z[0],V=z[1].split("Z")[0],J=new Blob([g],{type:"text/csv"}),q=window.URL.createObjectURL(J),Z=document.createElement("a");Z.href=q,Z.download=`flat_bom_${r.ipn||N}_qty${i}_${W}_${V}.csv`,Z.click(),window.URL.revokeObjectURL(q)},M=ye(()=>{if(!r)return[];const o=[];for(const g of r.bom_items){if(o.push(g),g.cut_list&&g.cut_list.length>0)for(const z of g.cut_list)o.push({...g,total_qty:z.quantity,part_type:"CtL",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:z.length,is_cut_list_child:!0,cut_list:null});if(g.internal_fab_cut_list&&g.internal_fab_cut_list.length>0)for(const z of g.internal_fab_cut_list)o.push({...g,total_qty:z.count,part_type:"Internal Fab",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:z.piece_qty,cut_unit:z.unit,is_cut_list_child:!0,cut_list:null,internal_fab_cut_list:null})}let b=o;if(d){const g=d.toLowerCase();b=b.filter(z=>z.ipn.toLowerCase().includes(g)||z.part_name.toLowerCase().includes(g))}if(_.columnAccessor){b.sort((W,V)=>{let J,q;switch(_.columnAccessor){case"ipn":J=W.ipn,q=V.ipn;break;case"full_name":J=W.full_name,q=V.full_name;break;case"part_name":J=W.part_name,q=V.part_name;break;case"description":J=W.description,q=V.description;break;case"part_type":J=W.part_type,q=V.part_type;break;case"total_qty":J=W.total_qty*i,q=V.total_qty*i;break;case"in_stock":J=W.in_stock,q=V.in_stock;break;case"on_order":J=W.on_order,q=V.on_order;break;case"building":J=W.building||0,q=V.building||0;break;case"allocated":J=W.allocated,q=V.allocated;break;case"shortfall":let Z=W.in_stock,O=V.in_stock;m&&(Z-=W.allocated,O-=V.allocated),w&&(Z+=W.on_order,O+=V.on_order),J=Math.max(0,W.total_qty*i-Z),q=Math.max(0,V.total_qty*i-O);break;case"default_supplier_name":J=W.default_supplier_name||"",q=V.default_supplier_name||"";break;default:return 0}return typeof J=="string"&&typeof q=="string"?_.direction==="asc"?J.localeCompare(q):q.localeCompare(J):_.direction==="asc"?J-q:q-J});const g=[],z=new Map;for(const W of b)if(W.is_cut_list_child){const V=W.part_id;z.has(V)||z.set(V,[]),z.get(V).push(W)}else g.push(W);b=[];for(const W of g){b.push(W);const V=z.get(W.part_id);V&&b.push(...V)}}return b},[r,d,_,i,m,w]),$=ye(()=>[{accessor:"full_name",title:"Component",sortable:!0,switchable:!1,render:o=>o.is_cut_list_child?React.createElement(U,{gap:"xs",wrap:"nowrap",justify:"flex-end"},React.createElement($r,{size:40,stroke:1.5,style:{color:"var(--mantine-color-blue-5)"}})):React.createElement(U,{gap:"xs",wrap:"nowrap"},o.thumbnail&&React.createElement("img",{src:o.thumbnail,alt:o.full_name,style:{width:40,height:40,objectFit:"contain"}}),React.createElement(Rl,{href:o.link,target:"_blank",size:"sm",style:{textDecoration:"none"}},o.full_name))},{accessor:"ipn",title:"IPN",sortable:!0,switchable:!0,render:o=>React.createElement(I,{size:"sm",style:{fontFamily:"monospace"}},o.ipn)},{accessor:"description",title:"Description",sortable:!0,switchable:!0,render:o=>React.createElement(I,{size:"sm",lineClamp:2,title:o.description},o.description)},{accessor:"part_type",title:"Type",sortable:!0,switchable:!0,render:o=>{const b=o.part_type;let g="gray";switch(b){case"Coml":g="green";break;case"Fab":g="blue";break;case"CtL":g="teal";break;case"Purchased Assy":g="orange";break;case"Internal Fab":g="cyan";break;case"Assy":g="violet";break;case"TLA":g="grape";break;case"Other":g="gray";break;default:g="gray"}const z=o.is_cut_list_child&&(b==="Internal Fab"||b==="CtL")?`${b} - CUT`:b;return React.createElement(ra,{label:z,withArrow:!0},React.createElement(de,{size:"sm",color:g,variant:"light",style:{maxWidth:90,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",display:"inline-block",verticalAlign:"middle"},tabIndex:0,"aria-label":z},z))}},{accessor:"total_qty",title:"Total Qty",sortable:!0,switchable:!0,render:o=>{const b=o.total_qty*i;if(o.is_cut_list_child){const g=o.total_qty*i;return React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(I,{size:"sm",fw:700},g.toFixed(0)),React.createElement(I,{size:"xs",c:"dimmed"},"pieces"))}return React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(I,{size:"sm",fw:700},b.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]"))}},{accessor:"cut_length",title:"Cut Length",sortable:!1,switchable:!1,render:o=>o.cut_length?React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(I,{size:"sm"},o.cut_length.toFixed(2)),(o.cut_unit||o.unit)&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.cut_unit||o.unit,"]")):React.createElement(I,{size:"sm",c:"dimmed"},"-")},{accessor:"in_stock",title:"In Stock",sortable:!0,switchable:!0,render:o=>{if(o.is_cut_list_child)return React.createElement(I,{size:"sm",c:"dimmed"},"-");const b=o.total_qty*i;return o.in_stock<=0?React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(I,{c:"red",fs:"italic",size:"sm"},"No stock"),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]")):o.in_stock<b?React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(de,{color:"orange",variant:"light",style:{minWidth:"fit-content"}},o.in_stock.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]")):React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(de,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},o.in_stock.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]"))}},{accessor:"allocated",title:"Allocated",sortable:!0,switchable:!0,render:o=>{const b=!m;return o.is_cut_list_child?React.createElement(I,{size:"sm",c:"dimmed"},"-"):o.allocated>0?React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(de,{color:"yellow",variant:"light",style:{opacity:b?.4:1,minWidth:"fit-content"}},o.allocated.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:b?.4:1}},"[",o.unit,"]")):React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(I,{c:"dimmed",size:"sm",style:{opacity:b?.4:1}},"-"),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:b?.4:1}},"[",o.unit,"]"))}},{accessor:"on_order",title:"On Order",sortable:!0,switchable:!0,render:o=>{const b=!w;return o.is_cut_list_child?React.createElement(I,{size:"sm",c:"dimmed"},"-"):o.on_order>0?React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(de,{color:"blue",variant:"light",style:{opacity:b?.4:1,minWidth:"fit-content"}},o.on_order.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:b?.4:1}},"[",o.unit,"]")):React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(I,{c:"dimmed",size:"sm",style:{opacity:b?.4:1}},"-"),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:b?.4:1}},"[",o.unit,"]"))}},{accessor:"shortfall",title:"Build Margin",sortable:!0,switchable:!0,render:o=>{if(o.is_cut_list_child)return React.createElement(I,{size:"sm",c:"dimmed"},"-");const b=o.total_qty*i;let g=o.in_stock;m&&(g-=o.allocated),w&&(g+=o.on_order);const z=g-b;return z<0?React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(de,{color:"red",variant:"filled",style:{minWidth:"fit-content"}},z.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]")):React.createElement(U,{gap:"xs",justify:"space-between",wrap:"nowrap"},React.createElement(de,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},"+",z.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]"))}}],[i,m,w]),[L,B]=ee(()=>{const o=localStorage.getItem("flat-bom-hidden-columns");return o?new Set(JSON.parse(o)):new Set});Pl(()=>{if(r){const o=r.bom_items.some(b=>b.cut_list&&b.cut_list.length>0);B(b=>{const g=new Set(b);return o?g.delete("cut_length"):g.add("cut_length"),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...g])),g})}},[r]);const j=o=>{B(b=>{const g=new Set(b);return g.has(o)?g.delete(o):g.add(o),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...g])),g})},y=ye(()=>$.filter(o=>!L.has(o.accessor)),[$,L]),H=o=>{v(o),k(1),localStorage.setItem("flat-bom-records-per-page",o.toString())};return React.createElement(ke,{gap:"md"},!r&&!t&&React.createElement(U,{justify:"flex-end"},React.createElement(it,{leftSection:React.createElement(St,{size:16}),onClick:S,loading:t,disabled:!N},"Generate Flat BOM")),s&&React.createElement(st,{icon:React.createElement(Ir,{size:16}),title:"Error",color:"red",withCloseButton:!0,onClose:()=>c(null)},s),t&&React.createElement(ut,{p:"xl",withBorder:!0},React.createElement(ke,{align:"center",gap:"md"},React.createElement(Sl,{size:"lg"}),React.createElement(I,{c:"dimmed"},"Traversing BOM hierarchy for ",React.createElement("strong",null,P),"..."),React.createElement(I,{size:"xs",c:"dimmed"},"This may take a few moments for complex assemblies"))),r&&!t&&React.createElement(ke,{gap:"sm"},r?.metadata?.warnings&&r.metadata.warnings.length>0&&React.createElement(st,{icon:React.createElement(Lr,{size:16}),title:`${r.metadata.warnings.length} Warning${r.metadata.warnings.length>1?"s":""} Found`,color:"yellow",withCloseButton:!0,onClose:()=>{n(o=>o?{...o,metadata:{...o.metadata,warnings:[]}}:null)}},React.createElement(ke,{gap:"xs"},r.metadata.warnings.map((o,b)=>React.createElement(I,{key:b,size:"sm"},React.createElement("strong",null,o.part_name),": ",o.message)))),React.createElement(ut,{p:"sm",withBorder:!0},React.createElement(U,{justify:"space-between",align:"flex-start",wrap:"wrap"},React.createElement(U,{gap:"md",wrap:"wrap"},React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Total",React.createElement("br",null),"Parts"),React.createElement(I,{size:"lg",fw:700},r.total_unique_parts)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"BOM",React.createElement("br",null),"Depth"),React.createElement(I,{size:"lg",fw:700,c:"violet"},r.max_depth_reached)),React.createElement("div",{style:{minWidth:"80px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Internal Fab",React.createElement("br",null),"Processed"),React.createElement(I,{size:"lg",fw:700,c:"cyan"},r.total_ifps_processed)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Out of",React.createElement("br",null),"Stock"),React.createElement(I,{size:"lg",fw:700,c:"red"},r.bom_items.filter(o=>o.in_stock<=0).length)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"On",React.createElement("br",null),"Order"),React.createElement(I,{size:"lg",fw:700,c:"blue"},r.bom_items.filter(o=>o.on_order>0).length)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Need to",React.createElement("br",null),"Order"),React.createElement(I,{size:"lg",fw:700,c:"orange"},r.bom_items.filter(o=>{const b=o.total_qty*i;let g=o.in_stock;return m&&(g-=o.allocated),w&&(g+=o.on_order),b>g}).length))),React.createElement(U,{gap:"xs",align:"flex-end",wrap:"wrap"},React.createElement(jl,{label:"Build Quantity",value:i,onChange:o=>h(typeof o=="number"?o:1),min:1,step:1,style:{width:150}}),React.createElement(ke,{gap:"xs"},React.createElement(ct,{label:"Include Allocations in Build Margin (-)",checked:m,onChange:o=>p(o.currentTarget.checked)}),React.createElement(ct,{label:"Include On Order in Build Margin (+)",checked:w,onChange:o=>f(o.currentTarget.checked)})),React.createElement(it,{leftSection:React.createElement(St,{size:16}),onClick:S,loading:t},"Refresh"),React.createElement(it,{variant:"light",leftSection:React.createElement(Or,{size:16}),onClick:C},"Export CSV"),React.createElement(ve,{shadow:"xs",closeOnItemClick:!1},React.createElement(ve.Target,null,React.createElement(aa,{variant:"light",size:"lg","aria-label":"table-select-columns"},React.createElement(ra,{label:"Select Columns",position:"top-end"},React.createElement(Pr,null)))),React.createElement(ve.Dropdown,{style:{maxHeight:"400px",overflowY:"auto"}},React.createElement(ve.Label,null,"Select Columns"),React.createElement(Ml,null),$.filter(o=>o.switchable!==!1).map(o=>React.createElement(ve.Item,{key:o.accessor},React.createElement(ct,{checked:!L.has(o.accessor),label:o.title||o.accessor,onChange:()=>j(o.accessor),radius:"sm"})))))))),React.createElement(ut,{p:"xs",withBorder:!0},React.createElement(Tl,{placeholder:"Search by IPN or Part Name...",leftSection:React.createElement(Fr,{size:16}),rightSection:d&&React.createElement(aa,{variant:"subtle",onClick:()=>u(""),"aria-label":"Clear search"},React.createElement(Hr,{size:16})),value:d,onChange:o=>u(o.currentTarget.value),mb:"xs"})),React.createElement(yl,{withTableBorder:!0,withColumnBorders:!0,striped:!0,highlightOnHover:!0,columns:y,records:T==="All"?M:M.slice((R-1)*T,R*T),totalRecords:M.length,recordsPerPage:T==="All"?M.length:T,page:R,onPageChange:k,recordsPerPageOptions:[10,25,50,100,"All"],onRecordsPerPageChange:H,sortStatus:_,onSortStatusChange:x,minHeight:200,noRecordsText:"No parts found",paginationText:({from:o,to:b,totalRecords:g})=>{const z=M.filter(W=>W.is_cut_list_child).length;return z>0?`Showing ${o} to ${b} of ${g} parts (including ${z} cut parts)`:`Showing ${o} to ${b} of ${g} parts`}})),!r&&!t&&!s&&React.createElement(st,{color:"blue",variant:"light"},React.createElement(I,{size:"sm"},"Click ",React.createElement("strong",null,'"Generate Flat BOM"')," to traverse the complete bill of materials hierarchy for ",React.createElement("strong",null,P)," and calculate cumulative quantities.")))}function Il(e){return gr(e),React.createElement(Nl,{context:e})}export{Il as renderFlatBOMGeneratorPanel};
//# sourceMappingURL=Panel.js.map
