const yt="0.7.0";var $=(e=>(e.api_server_info="",e.user_list="user/",e.user_set_password="user/:id/set-password/",e.user_me="user/me/",e.user_profile="user/profile/",e.user_roles="user/roles/",e.user_token="user/token/",e.user_tokens="user/tokens/",e.user_simple_login="email/generate/",e.user_reset="auth/v1/auth/password/request",e.user_reset_set="auth/v1/auth/password/reset",e.auth_pwd_change="auth/v1/account/password/change",e.auth_login="auth/v1/auth/login",e.auth_login_2fa="auth/v1/auth/2fa/authenticate",e.auth_session="auth/v1/auth/session",e.auth_signup="auth/v1/auth/signup",e.auth_authenticators="auth/v1/account/authenticators",e.auth_recovery="auth/v1/account/authenticators/recovery-codes",e.auth_mfa_reauthenticate="auth/v1/auth/2fa/reauthenticate",e.auth_totp="auth/v1/account/authenticators/totp",e.auth_trust="auth/v1/auth/2fa/trust",e.auth_reauthenticate="auth/v1/auth/reauthenticate",e.auth_email="auth/v1/account/email",e.auth_email_verify="auth/v1/auth/email/verify",e.auth_providers="auth/v1/account/providers",e.auth_provider_redirect="auth/v1/auth/provider/redirect",e.auth_config="auth/v1/config",e.currency_list="currency/exchange/",e.currency_refresh="currency/refresh/",e.all_units="units/all/",e.task_overview="background-task/",e.task_pending_list="background-task/pending/",e.task_scheduled_list="background-task/scheduled/",e.task_failed_list="background-task/failed/",e.api_search="search/",e.settings_global_list="settings/global/",e.settings_user_list="settings/user/",e.news="news/",e.global_status="generic/status/",e.custom_state_list="generic/status/custom/",e.version="version/",e.license="license/",e.group_list="user/group/",e.owner_list="user/owner/",e.ruleset_list="user/ruleset/",e.content_type_list="contenttype/",e.icons="icons/",e.selectionlist_list="selection/",e.selectionlist_detail="selection/:id/",e.barcode="barcode/",e.barcode_history="barcode/history/",e.barcode_link="barcode/link/",e.barcode_unlink="barcode/unlink/",e.barcode_generate="barcode/generate/",e.data_output="data-output/",e.import_session_list="importer/session/",e.import_session_accept_fields="importer/session/:id/accept_fields/",e.import_session_accept_rows="importer/session/:id/accept_rows/",e.import_session_column_mapping_list="importer/column-mapping/",e.import_session_row_list="importer/row/",e.notifications_list="notifications/",e.notifications_readall="notifications/readall/",e.build_order_list="build/",e.build_order_issue="build/:id/issue/",e.build_order_cancel="build/:id/cancel/",e.build_order_hold="build/:id/hold/",e.build_order_complete="build/:id/finish/",e.build_output_complete="build/:id/complete/",e.build_output_create="build/:id/create-output/",e.build_output_scrap="build/:id/scrap-outputs/",e.build_output_delete="build/:id/delete-outputs/",e.build_order_auto_allocate="build/:id/auto-allocate/",e.build_order_allocate="build/:id/allocate/",e.build_order_consume="build/:id/consume/",e.build_order_deallocate="build/:id/unallocate/",e.build_line_list="build/line/",e.build_item_list="build/item/",e.bom_list="bom/",e.bom_item_validate="bom/:id/validate/",e.bom_validate="part/:id/bom-validate/",e.bom_substitute_list="bom/substitute/",e.part_list="part/",e.part_parameter_list="part/parameter/",e.part_parameter_template_list="part/parameter/template/",e.part_thumbs_list="part/thumbs/",e.part_pricing="part/:id/pricing/",e.part_requirements="part/:id/requirements/",e.part_serial_numbers="part/:id/serial-numbers/",e.part_scheduling="part/:id/scheduling/",e.part_pricing_internal="part/internal-price/",e.part_pricing_sale="part/sale-price/",e.part_stocktake_list="part/stocktake/",e.category_list="part/category/",e.category_tree="part/category/tree/",e.category_parameter_list="part/category/parameters/",e.related_part_list="part/related/",e.part_test_template_list="part/test-template/",e.company_list="company/",e.contact_list="company/contact/",e.address_list="company/address/",e.supplier_part_list="company/part/",e.supplier_part_pricing_list="company/price-break/",e.manufacturer_part_list="company/part/manufacturer/",e.manufacturer_part_parameter_list="company/part/manufacturer/parameter/",e.stock_location_list="stock/location/",e.stock_location_type_list="stock/location-type/",e.stock_location_tree="stock/location/tree/",e.stock_item_list="stock/",e.stock_tracking_list="stock/track/",e.stock_test_result_list="stock/test/",e.stock_transfer="stock/transfer/",e.stock_remove="stock/remove/",e.stock_return="stock/return/",e.stock_add="stock/add/",e.stock_count="stock/count/",e.stock_change_status="stock/change_status/",e.stock_merge="stock/merge/",e.stock_assign="stock/assign/",e.stock_status="stock/status/",e.stock_install="stock/:id/install/",e.stock_uninstall="stock/:id/uninstall/",e.stock_serialize="stock/:id/serialize/",e.stock_serial_info="stock/:id/serial-numbers/",e.generate_batch_code="generate/batch-code/",e.generate_serial_number="generate/serial-number/",e.purchase_order_list="order/po/",e.purchase_order_issue="order/po/:id/issue/",e.purchase_order_hold="order/po/:id/hold/",e.purchase_order_cancel="order/po/:id/cancel/",e.purchase_order_complete="order/po/:id/complete/",e.purchase_order_line_list="order/po-line/",e.purchase_order_extra_line_list="order/po-extra-line/",e.purchase_order_receive="order/po/:id/receive/",e.sales_order_list="order/so/",e.sales_order_issue="order/so/:id/issue/",e.sales_order_hold="order/so/:id/hold/",e.sales_order_cancel="order/so/:id/cancel/",e.sales_order_ship="order/so/:id/ship/",e.sales_order_complete="order/so/:id/complete/",e.sales_order_allocate="order/so/:id/allocate/",e.sales_order_allocate_serials="order/so/:id/allocate-serials/",e.sales_order_line_list="order/so-line/",e.sales_order_extra_line_list="order/so-extra-line/",e.sales_order_allocation_list="order/so-allocation/",e.sales_order_shipment_list="order/so/shipment/",e.sales_order_shipment_complete="order/so/shipment/:id/ship/",e.return_order_list="order/ro/",e.return_order_issue="order/ro/:id/issue/",e.return_order_hold="order/ro/:id/hold/",e.return_order_cancel="order/ro/:id/cancel/",e.return_order_complete="order/ro/:id/complete/",e.return_order_receive="order/ro/:id/receive/",e.return_order_line_list="order/ro-line/",e.return_order_extra_line_list="order/ro-extra-line/",e.label_list="label/template/",e.label_print="label/print/",e.report_list="report/template/",e.report_print="report/print/",e.report_snippet="report/snippet/",e.report_asset="report/asset/",e.plugin_list="plugins/",e.plugin_setting_list="plugins/:plugin/settings/",e.plugin_user_setting_list="plugins/:plugin/user-settings/",e.plugin_registry_status="plugins/status/",e.plugin_install="plugins/install/",e.plugin_reload="plugins/reload/",e.plugin_activate="plugins/:key/activate/",e.plugin_uninstall="plugins/:key/uninstall/",e.plugin_admin="plugins/:key/admin/",e.plugin_ui_features_list="plugins/ui/features/:feature_type/",e.plugin_locate_item="locate/",e.machine_types_list="machine/types/",e.machine_driver_list="machine/drivers/",e.machine_registry_status="machine/status/",e.machine_list="machine/",e.machine_restart="machine/:machine/restart/",e.machine_setting_list="machine/:machine/settings/",e.machine_setting_detail="machine/:machine/settings/:config_type/",e.attachment_list="attachment/",e.error_report_list="error-report/",e.project_code_list="project-code/",e.custom_unit_list="units/",e.notes_image_upload="notes-image-upload/",e.email_list="admin/email/",e.email_test="admin/email/test/",e.config_list="admin/config/",e))($||{});window.LinguiCore.i18n;window.LinguiCore.i18n;$.part_list,$.part_parameter_template_list,$.part_test_template_list,$.supplier_part_list,$.manufacturer_part_list,$.category_list,$.stock_item_list,$.stock_location_list,$.stock_location_type_list,$.stock_tracking_list,$.build_order_list,$.build_line_list,$.build_item_list,$.company_list,$.project_code_list,$.purchase_order_list,$.purchase_order_line_list,$.sales_order_list,$.sales_order_shipment_list,$.return_order_list,$.return_order_line_list,$.address_list,$.contact_list,$.owner_list,$.user_list,$.group_list,$.import_session_list,$.label_list,$.report_list,$.plugin_list,$.content_type_list,$.selectionlist_list,$.error_report_list;function pa(e){var t;const n=((t=e?.version)==null?void 0:t.inventree)||"";yt!=n&&console.info(`Plugin version mismatch! Expected version ${yt}, got ${n}`)}var Xe={exports:{}},Ce={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt;function _a(){if(Rt)return Ce;Rt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,r,c){var s=null;if(c!==void 0&&(s=""+c),r.key!==void 0&&(s=""+r.key),"key"in r){c={};for(var i in r)i!=="key"&&(c[i]=r[i])}else c=r;return r=c.ref,{$$typeof:e,type:a,key:s,ref:r!==void 0?r:null,props:c}}return Ce.Fragment=t,Ce.jsx=n,Ce.jsxs=n,Ce}var Mt;function ba(){return Mt||(Mt=1,Xe.exports=_a()),Xe.exports}ba();window.MantineCore.ActionIcon;window.MantineCore.Group;window.MantineCore.Tooltip;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ca={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=window.React.forwardRef,Ze=window.React.createElement,K=(e,t,n,a)=>{const r=xa(({color:c="currentColor",size:s=24,stroke:i=2,title:d,className:u,children:h,...w},f)=>Ze("svg",{ref:f,...Ca[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),strokeWidth:i,stroke:c,...w},[d&&Ze("title",{key:"svg-title"},d),...a.map(([g,m])=>Ze(g,m)),...Array.isArray(h)?h:[h]]));return r.displayName=`${n}`,r};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]];K("outline","plus","Plus",va);window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.MantineCore.Progress;window.MantineCore.Stack;window.MantineCore.Text;window.React.useMemo;window.LinguiCore.i18n;window.MantineCore.Badge;window.MantineCore.Skeleton;window.React.useState;window.React.useRef;window.React.useCallback;window.React.useEffect;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]];K("outline","search","Search",ka);window.LinguiCore.i18n;window.MantineCore.CloseButton;window.MantineCore.TextInput;window.React.useEffect;window.React.useState;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]];K("outline","arrow-right","ArrowRight",ya);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]];K("outline","copy","Copy",Ra);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]];K("outline","edit","Edit",Ma);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]];K("outline","trash","Trash",Sa);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]];K("outline","circle-x","CircleX",ja);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]];K("outline","dots","Dots",Pa);window.LinguiCore.i18n;window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.React.useMemo;window.React.useState;/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ta={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=window.React.forwardRef,Ye=window.React.createElement,A=(e,t,n,a)=>{const r=Na(({color:c="currentColor",size:s=24,stroke:i=2,title:d,className:u,children:h,...w},f)=>Ye("svg",{ref:f,...Ta[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),strokeWidth:i,stroke:c,...w},[d&&Ye("title",{key:"svg-title"},d),...a.map(([g,m])=>Ye(g,m)),...Array.isArray(h)?h:[h]]));return r.displayName=`${n}`,r};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]],za=A("outline","adjustments","Adjustments",Ia);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],La=A("outline","alert-circle","AlertCircle",Wa);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Ba=A("outline","alert-triangle","AlertTriangle",$a);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]],Da=A("outline","corner-down-right","CornerDownRight",Oa);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],Fa=A("outline","download","Download",Ea);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],St=A("outline","refresh","Refresh",Va);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],qa=A("outline","search","Search",Ha);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Ga=A("outline","x","X",Ja),Qa=window.React.useRef,Ua=window.React.useEffect,Xa=["mousedown","touchstart"];function Za(e,t,n){const a=Qa(null),r=Xa;return Ua(()=>{const c=s=>{const{target:i}=s??{};if(Array.isArray(n)){const d=!document.body.contains(i)&&i?.tagName!=="HTML";n.every(h=>!!h&&!s.composedPath().includes(h))&&!d&&e(s)}else a.current&&!a.current.contains(i)&&e(s)};return r.forEach(s=>document.addEventListener(s,c)),()=>{r.forEach(s=>document.removeEventListener(s,c))}},[a,e,n]),a}const Ya=window.React.useState,Ka=window.React.useEffect;function Aa(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function er(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function tr(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[a,r]=Ya(n?t:er(e));return Ka(()=>{try{const c=window.matchMedia(e);return r(c.matches),Aa(c,s=>r(s.matches))}catch{return}},[e]),a||!1}const nr=window.React.useEffect;function jt(e,t,n){nr(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}const Ke=window.React.useCallback,ar=window.React.useState,Pt=window.React.useEffect;function rr(e,t="use-local-storage"){try{return JSON.stringify(e)}catch{throw new Error(`@mantine/hooks ${t}: Failed to serialize the value`)}}function or(e){try{return e&&JSON.parse(e)}catch{return e}}function lr(e){return{getItem:r=>{try{return window[e].getItem(r)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(r,c)=>{try{window[e].setItem(r,c)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:r=>{try{window[e].removeItem(r)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function sr(e,t){const n="mantine-local-storage",{getItem:a,setItem:r,removeItem:c}=lr(e);return function({key:i,defaultValue:d,getInitialValueInEffect:u=!0,sync:h=!0,deserialize:w=or,serialize:f=g=>rr(g,t)}){const g=Ke(x=>{let j;try{j=typeof window>"u"||!(e in window)||window[e]===null||!!x}catch{j=!0}if(j)return d;const C=a(i);return C!==null?w(C):d},[i,d]),[m,p]=ar(g(u)),b=Ke(x=>{x instanceof Function?p(j=>{const C=x(j);return r(i,f(C)),queueMicrotask(()=>{window.dispatchEvent(new CustomEvent(n,{detail:{key:i,value:x(j)}}))}),C}):(r(i,f(x)),window.dispatchEvent(new CustomEvent(n,{detail:{key:i,value:x}})),p(x))},[i]),y=Ke(()=>{c(i),p(d),window.dispatchEvent(new CustomEvent(n,{detail:{key:i,value:d}}))},[i,d]);return jt("storage",x=>{h&&x.storageArea===window[e]&&x.key===i&&p(w(x.newValue??void 0))}),jt(n,x=>{h&&x.detail.key===i&&p(x.detail.value)}),Pt(()=>{d!==void 0&&m===void 0&&b(d)},[d,m,b]),Pt(()=>{const x=g();x!==void 0&&b(x)},[i]),[m===void 0?d:m,b,y]}}function ht(e){return sr("localStorage","use-local-storage")(e)}const ir=window.React.useCallback;function Tt(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function cr(...e){const t=new Map;return n=>{if(e.forEach(a=>{const r=Tt(a,n);r&&t.set(a,r)}),t.size>0)return()=>{e.forEach(a=>{const r=t.get(a);r&&typeof r=="function"?r():Tt(a,null)}),t.clear()}}}function Nt(...e){return ir(cr(...e),e)}const ur=window.React.useState,Ae=window.React.useCallback;function dr(e=!1,t={}){const[n,a]=ur(e),r=Ae(()=>{a(i=>i||(t.onOpen?.(),!0))},[t.onOpen]),c=Ae(()=>{a(i=>i&&(t.onClose?.(),!1))},[t.onClose]),s=Ae(()=>{n?c():r()},[c,r,n]);return[n,{open:r,close:c,toggle:s}]}const mr=window.React.useRef,It=window.React.useCallback,hr=window.React.useEffect;function zt(e,t,n={autoInvoke:!1}){const a=mr(null),r=It((...s)=>{a.current||(a.current=window.setTimeout(()=>{e(s),a.current=null},t))},[t]),c=It(()=>{a.current&&(window.clearTimeout(a.current),a.current=null)},[]);return hr(()=>(n.autoInvoke&&r(),c),[c,r]),{start:r,clear:c}}function ln(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=ln(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function E(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=ln(e))&&(a&&(a+=" "),a+=t);return a}var et={exports:{}},xe={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt;function gr(){if(Wt)return xe;Wt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,r,c){var s=null;if(c!==void 0&&(s=""+c),r.key!==void 0&&(s=""+r.key),"key"in r){c={};for(var i in r)i!=="key"&&(c[i]=r[i])}else c=r;return r=c.ref,{$$typeof:e,type:a,key:s,ref:r!==void 0?r:null,props:c}}return xe.Fragment=t,xe.jsx=n,xe.jsxs=n,xe}var Lt;function wr(){return Lt||(Lt=1,et.exports=gr()),et.exports}var l=wr();const fr=window.MantineCore.Box,pr=window.MantineCore.Table,tt=window.React.useCallback,_r=window.React.useEffect,br=window.React.useLayoutEffect,Cr=window.React.useMemo,nt=window.React.useRef,xr=window.React.useState,$t=window.React.useState,vr=window.MantineCore.createSafeContext;var[kr,gt]=vr("useDataTableColumnsContext must be used within DataTableColumnProvider"),Bt=e=>{let{children:t,columnsOrder:n,setColumnsOrder:a,columnsToggle:r,setColumnsToggle:c,resetColumnsOrder:s,resetColumnsToggle:i,setColumnWidth:d,setMultipleColumnWidths:u,resetColumnsWidth:h}=e,[w,f]=$t(""),[g,m]=$t("");return l.jsx(kr,{value:{sourceColumn:w,setSourceColumn:f,targetColumn:g,setTargetColumn:m,columnsToggle:r,setColumnsToggle:c,swapColumns:()=>{if(!n||!a||!w||!g)return;let p=n.indexOf(w),b=n.indexOf(g);if(p!==-1&&b!==-1){let y=n.splice(p,1)[0];n.splice(b,0,y),a([...n])}},resetColumnsOrder:s,resetColumnsToggle:i,setColumnWidth:d,setMultipleColumnWidths:u,resetColumnsWidth:h},children:t})};function yr(){return l.jsx("tr",{className:"mantine-datatable-empty-row",children:l.jsx("td",{})})}const Rr=window.MantineCore.Center,Mr=window.MantineCore.Text;function Sr(){return l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74"}),l.jsx("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6"}),l.jsx("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4"}),l.jsx("path",{d:"M3 3l18 18"})]})}function jr({icon:e,text:t,active:n,children:a}){return l.jsx(Rr,{className:"mantine-datatable-empty-state","data-active":n||void 0,children:a||l.jsxs(l.Fragment,{children:[e||l.jsx("div",{className:"mantine-datatable-empty-state-icon",children:l.jsx(Sr,{})}),l.jsx(Mr,{component:"div",size:"sm",c:"dimmed",children:t})]})})}const Pr=window.MantineCore.TableTfoot,Tr=window.MantineCore.TableTr,Nr=window.MantineCore.TableTh;window.React.useCallback;window.React.useRef;window.React.useState;function Ir({key:e,columns:t=[],getInitialValueInEffect:n=!0}){function a(w,f){let g=[];return w.forEach(m=>{f.find(p=>p.accessor===m)&&g.push(m)}),f.forEach(m=>{g.includes(m.accessor)||g.push(m.accessor)}),g}let r=t&&t.map(w=>w.accessor)||[],[c,s]=ht({key:e?`${e}-columns-order`:"",defaultValue:e?r:void 0,getInitialValueInEffect:n});function i(w){e&&s(w)}let d=()=>{i(r)};if(!e)return{columnsOrder:c,setColumnsOrder:i,resetColumnsOrder:d};let u=a(c,t),h=JSON.stringify(c);return JSON.stringify(u)!==h&&i(u),{columnsOrder:u,setColumnsOrder:i,resetColumnsOrder:d}}const re=window.React.useCallback,at=window.React.useEffect,Te=window.React.useMemo,Ot=window.React.useRef,Dt=window.React.useState;function zr({key:e,columns:t=[],getInitialValueInEffect:n=!0,headerRef:a,onFixedLayoutChange:r}){let c=Ot(!1),s=Ot({}),[i,d]=Dt(!0),u=Te(()=>t.some(_=>_.resizable&&!_.hidden&&_.accessor!=="__selection__"),[t]),h=Te(()=>t.filter(_=>_.resizable&&!_.hidden&&_.accessor!=="__selection__"),[t]),w=Te(()=>h.some(_=>_.width===void 0||_.width===""||_.width==="initial"),[h]),f=re(()=>t.filter(_=>_.accessor!=="__selection__").map(_=>({[_.accessor]:_.width??"auto"})),[t]),[g,m]=ht({key:e?`${e}-columns-width`:"",defaultValue:e?f():void 0,getInitialValueInEffect:!1}),[p,b]=Dt(()=>f());at(()=>{d(!1)},[]);let y=re(()=>{if(!a?.current||i)return{};let _=a.current,P=Array.from(_.querySelectorAll("th[data-accessor]")),W={};return P.forEach(z=>{let L=z.getAttribute("data-accessor");if(!L||L==="__selection__")return;let S=h.find(k=>k.accessor===L);if(S&&(S.width===void 0||S.width===""||S.width==="initial")){let k=z.getBoundingClientRect();W[L]=Math.round(k.width)}}),W},[a,h,i]),x=re(_=>{let P=_.filter(z=>z.accessor!=="__selection__"),W=p.map(z=>{let L=Object.keys(z)[0],S=P.find(k=>k.accessor===L);return S?{[L]:S.width}:z});b(W),e&&m(W)},[p,e,m]),j=re(_=>{x(_)},[x]),C=re(()=>{if(!(!a?.current||!r||i))if(w)r(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{let _=y();s.current={...s.current,..._};let P=t.filter(W=>W.accessor!=="__selection__").map(W=>{let z=W.accessor,L=g?.find(k=>Object.keys(k)[0]===z);if(L&&L[z]!=="auto")return{[z]:L[z]};let S=_[z];return S?{[z]:`${S}px`}:{[z]:W.width??"auto"}});b(P),setTimeout(()=>{r(!0),c.current=!0},10)})});else{let _=t.filter(P=>P.accessor!=="__selection__").map(P=>({[P.accessor]:P.width??"auto"}));b(_),r(!0),c.current=!0}},[a,r,i,w,y,t,g]),N=C;at(()=>{if(!u||!r||i){r?.(!1);return}c.current=!1;let _=setTimeout(()=>{C()},50);return()=>clearTimeout(_)},[u,r,i,C]),at(()=>{i||!e||!n||g&&g.length>0&&b(g)},[i,e,n,g]);let T=re(()=>{e&&m(f()),s.current={},c.current=!1,r&&(r(!1),setTimeout(()=>{C()},10))},[e,m,f,r,C]),M=re((_,P)=>{x([{accessor:_,width:P}])},[x]),B=Te(()=>u?p.filter(_=>{let P=Object.keys(_)[0];return h.some(W=>W.accessor===P)}).every(_=>{let P=Object.values(_)[0];return P==="auto"||P==="initial"}):!1,[u,p,h]);return{columnsWidth:p,setColumnsWidth:x,setColumnWidth:M,setMultipleColumnWidths:j,resetColumnsWidth:T,hasResizableColumns:u,allResizableWidthsInitial:B,measureAndSetColumnWidths:N}}const Wr=window.React.useMemo;function Lr({key:e,columns:t=[],getInitialValueInEffect:n=!0}){function a(w,f){let g=[];return w.forEach(m=>{f.find(p=>p.accessor===m.accessor)&&g.push(m)}),f.forEach(m=>{g.find(p=>p.accessor===m.accessor)||g.push({accessor:m.accessor,defaultToggle:m.defaultToggle||!0,toggleable:m.toggleable,toggled:m.defaultToggle===void 0?!0:m.defaultToggle})}),g}let r=t&&t.map(w=>({accessor:w.accessor,defaultToggle:w.defaultToggle||!0,toggleable:w.toggleable,toggled:w.defaultToggle===void 0?!0:w.defaultToggle})),[c,s]=ht({key:e?`${e}-columns-toggle`:"",defaultValue:e?r:void 0,getInitialValueInEffect:n});function i(w){e&&s(w)}let d=()=>{i(r)};if(!e)return{columnsToggle:c,setColumnsToggle:i,resetColumnsToggle:d};let u=a(c,t),h=JSON.stringify(c);return JSON.stringify(u)!==h&&i(u),{columnsToggle:u,setColumnsToggle:i,resetColumnsToggle:d}}var $r=({key:e,columns:t=[],getInitialValueInEffect:n=!0,headerRef:a,scrollViewportRef:r,onFixedLayoutChange:c})=>{let{columnsOrder:s,setColumnsOrder:i,resetColumnsOrder:d}=Ir({key:e,columns:t,getInitialValueInEffect:n}),{columnsToggle:u,setColumnsToggle:h,resetColumnsToggle:w}=Lr({key:e,columns:t,getInitialValueInEffect:n}),{columnsWidth:f,setColumnsWidth:g,setColumnWidth:m,setMultipleColumnWidths:p,resetColumnsWidth:b,hasResizableColumns:y,allResizableWidthsInitial:x,measureAndSetColumnWidths:j}=zr({key:e,columns:t,getInitialValueInEffect:n,headerRef:a,onFixedLayoutChange:c});return{effectiveColumns:Wr(()=>s?s.map(C=>t.find(N=>N.accessor===C)).map(C=>({...C,hidden:C?.hidden||!u.find(N=>N.accessor===C?.accessor)?.toggled})).map(C=>C?.accessor==="__selection__"?C:{...C,width:f.find(N=>N[C?.accessor])?.[C?.accessor]}):t,[t,s,u,f]),setColumnsOrder:i,columnsOrder:s,resetColumnsOrder:d,columnsToggle:u,setColumnsToggle:h,resetColumnsToggle:w,columnsWidth:f,setColumnsWidth:g,setColumnWidth:m,setMultipleColumnWidths:p,resetColumnsWidth:b,hasResizableColumns:y,allResizableWidthsInitial:x,measureAndSetColumnWidths:j}};const Br=window.MantineCore.rem,Or=window.React.useCallback,rt=window.React.useEffect,Y=window.React.useRef,Dr=window.React.useEffect,Er=window.React.useLayoutEffect;var Et=typeof window<"u"?Er:Dr;const Fr=window.React.useRef;function Ft(e){let t=Fr(e);return t.current=e,t}var Vt="--mantine-datatable-header-height",Ht="--mantine-datatable-footer-height",qt="--mantine-datatable-selection-column-width",Jt="--mantine-datatable-last-row-border-bottom";function G(e,t,n){e?.style.setProperty(t,n)}function dt(e){let t=e.borderBoxSize?.[0]||e.contentBoxSize?.[0];return t?{width:t.inlineSize,height:t.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}}function ot(e,t,n){if(e){let a=new ResizeObserver(r=>{let c=r[0];c&&t(dt(c))});return a.observe(e),()=>{a.disconnect(),n()}}}function Vr({scrollCallbacks:e,withRowBorders:t}){let n={root:Y(null),table:Y(null),scrollViewport:Y(null),header:Y(null),footer:Y(null),selectionColumnHeader:Y(null)},{root:a,table:r,scrollViewport:c,header:s,footer:i,selectionColumnHeader:d}=n,u=Ft({withRowBorders:t}),h=Ft(e),w=Y(()=>{}),f=Y(()=>{}),g=Or(m=>{h.current.onScroll?.(m),w.current()},[]);return rt(()=>ot(s.current,m=>{G(a.current,Vt,`${m.height}px`)},()=>G(a.current,Vt,"0")),[s.current]),rt(()=>ot(i.current,m=>{G(a.current,Ht,`${m.height}px`)},()=>G(a.current,Ht,"0")),[i.current]),rt(()=>ot(d.current,m=>{G(a.current,qt,`${m.width}px`)},()=>G(a.current,qt,"0")),[d.current]),Et(()=>{if(typeof window===void 0)return;let m={top:!0,bottom:!0,left:!0,right:!0},p={width:0,height:0},b={width:0,height:0};function y(T,M){let B=m[T];return m[T]=M,G(a.current,`--mantine-datatable-${T}-shadow-opacity`,M?"0":"1"),B}function x(){let T=p.height-b.height,M=T<0;G(a.current,"--mantine-datatable-footer-position",M?"relative":"sticky"),G(a.current,"--mantine-datatable-footer-bottom",M?`${T}px`:"0")}function j(){u.current.withRowBorders&&p.height<b.height?G(a.current,Jt,`${Br("1px")} solid var(--mantine-datatable-border-color)`):G(a.current,Jt,"unset")}f.current=j;function C(){let T=h.current,M=c.current,B=M?.scrollTop??0,_=M?.scrollLeft??0,P=B===0,W=p.height-B-b.height<1,z=y("top",P),L=y("bottom",W);P&&P!==z&&T.onScrollToTop?.(),W&&W!==L&&T.onScrollToBottom?.();let S=M?getComputedStyle(M).direction==="rtl":!1,k=(M?.scrollWidth??0)-b.width,o,v;if(S){let q=Math.abs(_);v=q<1,o=k-q<1}else o=_<1,v=p.width-_-b.width<1;let R=y("left",o),O=y("right",v);o&&o!==R&&T.onScrollToLeft?.(),v&&v!==O&&T.onScrollToRight?.()}w.current=C;let N=new ResizeObserver(T=>{for(let M of T)switch(M.target.tagName){case"TABLE":{p=dt(M);break}case"DIV":{b=dt(M);break}}C(),x(),j()});return N.observe(r.current),N.observe(c.current),()=>{N.disconnect()}},[]),Et(()=>{f.current()},[t]),{refs:n,onScroll:g}}const Hr=window.React.useEffect,qr=window.React.useState;function Jr(e){let[t,n]=qr(null),a=e?.join(":")||"";return Hr(()=>{n(null)},[a]),{lastSelectionChangeIndex:t,setLastSelectionChangeIndex:n}}const Gr=window.React.useEffect,Qr=window.React.useRef,Ur=window.React.useState;function Xr(e,t){let n=()=>{t(e.map(r=>r.matches))},a=e.map(r=>{try{return r.addEventListener("change",n),()=>r.removeEventListener("change",n)}catch{return r.addListener(n),()=>r.removeListener(n)}});return()=>{a.forEach(r=>r())}}function Zr(e,t){return t||(typeof window<"u"&&"matchMedia"in window?e.map(n=>window.matchMedia(n).matches):e.map(()=>!1))}function Yr(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){let[a,r]=Ur(n?t:Zr(e,t)),c=Qr(null);return Gr(()=>{if("matchMedia"in window)return c.current=e.map(s=>window.matchMedia(s)),r(c.current.map(s=>s.matches)),Xr(c.current,s=>{r(s)})},[e]),a}const Kr=window.MantineCore.useMantineTheme,Gt=window.React.useMemo;function Ar(e){let t=Kr(),n=Gt(()=>e.map(r=>(typeof r=="function"?r(t):r)??""),[e,t]),a=Gt(()=>e.map(()=>!0),[e]);return Yr(n,a)}const eo=window.MantineCore.useMantineTheme;function ze(e){let t=eo(),n=typeof e=="function"?e(t):e;return tr(n||"",!0)}const to=window.React.useState;function wt(e){let t=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}function no(e,t,n){return e.filter(a=>!t.map(n).includes(n(a)))}function lt(e,t){return e.filter((n,a,r)=>a===r.findIndex(c=>t(n)===t(c)))}function sn(e,t){return t?t.match(/([^[.\]])+/g).reduce((n,a)=>n&&n[a],e):void 0}function H(e,t){return typeof t=="string"?sn(e,t):t(e)}function cn(e){return!e||e.length===0?0:Math.max(...e.map(t=>t.groups&&t.groups.length>0?1+cn(t.groups):1))}function ft(e){let t=[];for(let n of e)n.columns&&n.columns.length>0?t.push(...n.columns.filter(a=>a!=null)):n.groups&&n.groups.length>0&&t.push(...ft(n.groups));return t.filter(n=>n!=null)}function mt(e,t){return e.columns&&e.columns.length>0?e.columns.filter((n,a)=>n.hidden?!1:t?t[a]!==!1:!0).length:e.groups&&e.groups.length>0?e.groups.reduce((n,a)=>n+mt(a,t),0):0}function un(e,t,n=0){if(n===t)return[...e];let a=[];for(let r of e)r.groups&&r.groups.length>0&&a.push(...un(r.groups,t,n+1));return a}function ao(e,t,n){return n?!e||t:!1}function ro({rowExpansion:e,records:t,idAccessor:n}){let a=[];if(e&&t){let{trigger:i,allowMultiple:d,initiallyExpanded:u}=e;t&&i==="always"?a=t.map(h=>H(h,n)):u&&(a=t.filter((h,w)=>u({record:h,index:w})).map(h=>H(h,n)),d||(a=[a[0]]))}let r,c,s=to(a);if(e){let{expandable:i,trigger:d,allowMultiple:u,collapseProps:h,content:w}=e;e.expanded?{recordIds:r,onRecordIdsChange:c}=e.expanded:[r,c]=s;let f=g=>c?.(r.filter(m=>m!==H(g,n)));return{expandOnClick:d!=="always"&&d!=="never",isRowExpanded:g=>d==="always"?!0:r.includes(H(g,n)),isExpandable:({record:g,index:m})=>i?i({record:g,index:m}):!0,expandRow:g=>{let m=H(g,n);c?.(u?[...r,m]:[m])},collapseRow:f,collapseProps:h,content:({record:g,index:m})=>()=>w({record:g,index:m,collapse:()=>f(g)})}}}const oo=window.React.useEffect,Qt=window.React.useState;function lo(e,t){let[n,a]=Qt(e),[r,c]=Qt(e),s=zt(()=>a(!0),0),i=zt(()=>c(!1),t||200);return oo(()=>{e?(i.clear(),c(!0),s.start()):(s.clear(),a(!1),i.start())},[s,i,e]),{expanded:n,visible:r}}var pt="mantine-datatable-nowrap",_t="mantine-datatable-ellipsis",ie="mantine-datatable-pointer-cursor",dn="mantine-datatable-context-menu-cursor",so="mantine-datatable-text-selection-disabled",We="mantine-datatable-text-align-left",Le="mantine-datatable-text-align-center",$e="mantine-datatable-text-align-right";function io({className:e,style:t,visibleMediaQuery:n,title:a,noWrap:r,ellipsis:c,textAlign:s,width:i}){return ze(n)?l.jsx(Nr,{className:E({[pt]:r||c,[_t]:c,[We]:s==="left",[Le]:s==="center",[$e]:s==="right"},e),style:[{width:i,minWidth:i,maxWidth:i},t],children:a}):null}const co=window.MantineCore.TableTh;function uo({shadowVisible:e}){return l.jsx(co,{className:"mantine-datatable-footer-selector-placeholder-cell","data-shadow-visible":e||void 0})}function mo({className:e,style:t,columns:n,defaultColumnProps:a,selectionVisible:r,selectorCellShadowVisible:c,ref:s}){return l.jsx(Pr,{ref:s,className:E("mantine-datatable-footer",e),style:t,children:l.jsxs(Tr,{children:[r&&l.jsx(uo,{shadowVisible:c}),n.map(({hidden:i,...d})=>{if(i)return null;let{accessor:u,visibleMediaQuery:h,textAlign:w,width:f,footer:g,footerClassName:m,footerStyle:p,noWrap:b,ellipsis:y}={...a,...d};return l.jsx(io,{className:m,style:p,visibleMediaQuery:h,textAlign:w,width:f,title:g,noWrap:b,ellipsis:y},u)})]})})}const ho=window.MantineCore.Checkbox,go=window.MantineCore.Group,wo=window.MantineCore.Popover,fo=window.MantineCore.PopoverDropdown,po=window.MantineCore.PopoverTarget,_o=window.MantineCore.Stack,bo=window.MantineCore.TableThead,Ut=window.MantineCore.TableTr,Co=window.React.useState,xo=window.MantineCore.TableTh,Ne=window.React.useMemo;function vo({group:{id:e,columns:t,groups:n,title:a,textAlign:r,className:c,style:s},maxDepth:i,currentDepth:d,previousGroups:u,isLastGroup:h,withColumnBorders:w=!1,totalTableColumns:f}){let g=Ne(()=>t&&t.length>0?t:n&&n.length>0?ft([{id:e,columns:t,groups:n}]):[],[t,n,e]),m=Ne(()=>g.map(({visibleMediaQuery:N})=>N),[g]),p=Ar(m),b=Ne(()=>mt({columns:t,groups:n},p),[e,t,n,p]),y=Ne(()=>u.reduce((N,T)=>N+mt(T,p),0),[u,p]),x=n&&n.length>0?1:i-d,j=y+b<f,C=ao(h,j,w);return b>0?l.jsx(xo,{colSpan:b,rowSpan:x>1?x:void 0,className:E("mantine-datatable-column-group-header-cell",{[We]:r==="left",[Le]:r==="center",[$e]:r==="right","mantine-datatable-column-group-header-cell--needs-border":C},c),style:s,children:a??wt(e)}):null}const Xt=window.MantineCore.ActionIcon,ko=window.MantineCore.Box,Ie=window.MantineCore.Center,yo=window.MantineCore.Flex,Ro=window.MantineCore.Group,Mo=window.MantineCore.TableTh,So=window.React.useRef,jo=window.React.useState,Po=window.MantineCore.ActionIcon,To=window.MantineCore.Popover,No=window.MantineCore.PopoverDropdown,Io=window.MantineCore.PopoverTarget;function zo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})]})}function Wo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z",strokeWidth:"0",fill:"currentColor"})]})}function Lo({children:e,isActive:t,filterPopoverProps:n,filterPopoverDisableClickOutside:a}){let[r,{close:c,toggle:s}]=dr(!1),i=t?Wo:zo,d=Za(c);return a&&(d=void 0),l.jsxs(To,{withArrow:!0,shadow:"md",opened:r,onClose:c,trapFocus:!0,...n,children:[l.jsx(Io,{children:l.jsx(Po,{className:"mantine-datatable-header-cell-filter-action-icon","data-active":t||void 0,size:"sm",variant:"default",onClick:u=>{u.preventDefault(),s()},onKeyDown:u=>u.stopPropagation(),children:l.jsx(i,{})})}),l.jsx(No,{ref:d,onClick:u=>u.stopPropagation(),onKeyDown:u=>u.stopPropagation(),children:typeof e=="function"?e({close:c}):e})]})}const $o=window.MantineCore.useDirection,Zt=window.React.useCallback,Yt=window.React.useRef,Bo=window.React.useState;var Oo=e=>{let{accessor:t,columnRef:n}=e,[a,r]=Bo(!1),c=Yt(0),s=Yt({current:0,next:0}),{dir:i}=$o(),d=i==="rtl",{setMultipleColumnWidths:u}=gt(),h=Zt(f=>{if(f.preventDefault(),f.stopPropagation(),!n.current)return;let g=n.current,m=g.nextElementSibling;for(;m;){let N=m.getAttribute("data-accessor");if(N&&N!=="__selection__")break;m=m.nextElementSibling}if(!m)return;let p=m.getAttribute("data-accessor");if(!p)return;let b=p==="__selection__";r(!0),c.current=f.clientX;let y=g.offsetWidth,x=m.offsetWidth;s.current={current:y,next:x};let j=N=>{if(!n.current)return;let T=n.current,M=T.nextElementSibling;if(!M)return;let B=N.clientX-c.current;d&&(B=-B);let _=50,P=s.current.current-_,W=s.current.next-_,z=Math.max(-P,Math.min(B,W)),L=s.current.current+z,S=s.current.next-z;T.style.width=`${L}px`,M.style.width=`${S}px`,T.style.minWidth=`${L}px`,T.style.maxWidth=`${L}px`,M.style.minWidth=`${S}px`,M.style.maxWidth=`${S}px`},C=()=>{if(!n.current)return;let N=n.current,T=N.nextElementSibling;r(!1),document.body.style.cursor="initial",document.body.style.userSelect="initial";let M=parseInt(N.style.width)||N.offsetWidth,B=T?parseInt(T.style.width)||T.offsetWidth:0,_=[{accessor:t,width:`${M}px`}];if(T&&!b){let P=T.getAttribute("data-accessor");P&&_.push({accessor:P,width:`${B}px`})}setTimeout(()=>{u(_)},0),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",C)};document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",j),document.addEventListener("mouseup",C)},[t,n,d,u]),w=Zt(()=>{if(!n.current)return;let f=n.current,g=f.nextElementSibling;f.style.width="",f.style.minWidth="",f.style.maxWidth="";let m=[{accessor:t,width:"auto"}];if(g){g.style.width="",g.style.minWidth="",g.style.maxWidth="";let p=g.getAttribute("data-accessor");p&&p!=="__selection__"&&m.push({accessor:p,width:"auto"})}setTimeout(()=>{u(m)},0)},[t,n,u]);return l.jsx("div",{className:"mantine-datatable-header-resizable-handle",style:{cursor:a?"col-resize":void 0},onMouseDown:h,onDoubleClick:w,onClick:f=>f.stopPropagation(),title:"Drag to resize column, double-click to reset"})};function Do(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12 5l0 14"}),l.jsx("path",{d:"M16 9l-4 -4"}),l.jsx("path",{d:"M8 9l4 -4"})]})}function Eo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M8 7l4 -4l4 4"}),l.jsx("path",{d:"M8 17l4 4l4 -4"}),l.jsx("path",{d:"M12 3l0 18"})]})}function Fo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function Vo(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M18 6l-12 12"}),l.jsx("path",{d:"M6 6l12 12"})]})}function Ho({className:e,style:t,accessor:n,visibleMediaQuery:a,title:r,sortable:c,draggable:s,toggleable:i,resizable:d,sortIcons:u,textAlign:h,width:w,sortStatus:f,onSortStatusChange:g,filter:m,filterPopoverProps:p,filterPopoverDisableClickOutside:b,filtering:y,sortKey:x}){let{setSourceColumn:j,setTargetColumn:C,swapColumns:N,setColumnsToggle:T}=gt(),[M,B]=jo(!1),_=So(null);if(!ze(a))return null;let P=r??wt(n),W=typeof P=="string"?P:void 0,z=c&&g?O=>{O?.defaultPrevented||g({sortKey:x,columnAccessor:n,direction:f?.columnAccessor===n?f.direction==="asc"?"desc":"asc":f?.direction??"asc"})}:void 0,L=O=>{O.stopPropagation(),j(n),B(!1)},S=O=>{O.preventDefault(),C(n),B(!0)},k=()=>{C(n),B(!1),N()},o=()=>{B(!0)},v=()=>{B(!1)},R=O=>{O.stopPropagation(),T(q=>q.map(X=>X.accessor===n?{...X,toggled:!1}:X))};return l.jsxs(Mo,{"data-accessor":n,className:E({"mantine-datatable-header-cell-sortable":c,"mantine-datatable-header-cell-toggleable":i,"mantine-datatable-header-cell-resizable":d},e),style:[{width:w,...d?{}:{minWidth:w,maxWidth:w}},t],role:c?"button":void 0,tabIndex:c?0:void 0,onClick:z,onKeyDown:O=>O.key==="Enter"&&z?.(),ref:_,children:[l.jsxs(Ro,{className:"mantine-datatable-header-cell-sortable-group",justify:"space-between",wrap:"nowrap",children:[l.jsxs(yo,{align:"center",w:"100%",className:E({"mantine-datatable-header-cell-draggable":s,"mantine-datatable-header-cell-drag-over":M}),draggable:s,onDragStart:s?L:void 0,onDragEnter:s?o:void 0,onDragOver:s?S:void 0,onDrop:s?k:void 0,onDragLeave:s?v:void 0,children:[s?l.jsx(Ie,{role:"img","aria-label":"Drag column",children:l.jsx(Xt,{className:"mantine-datatable-header-cell-draggable-action-icon",variant:"subtle",size:"xs",onClick:O=>{O.stopPropagation()},children:l.jsx(Fo,{})})}):null,l.jsx(ko,{className:E("mantine-datatable-header-cell-sortable-text",{[We]:h==="left",[Le]:h==="center",[$e]:h==="right"},pt,_t),title:W,children:P})]}),i?l.jsx(Ie,{className:"mantine-datatable-header-cell-toggleable-icon",role:"img","aria-label":"Toggle column",children:l.jsx(Xt,{size:"xs",variant:"light",onClick:R,children:l.jsx(Vo,{})})}):null,c||f?.columnAccessor===n?l.jsx(l.Fragment,{children:f?.columnAccessor===n?l.jsx(Ie,{className:E("mantine-datatable-header-cell-sortable-icon",{"mantine-datatable-header-cell-sortable-icon-reversed":f.direction==="desc"}),role:"img","aria-label":`Sorted ${f.direction==="desc"?"descending":"ascending"}`,children:u?.sorted||l.jsx(Do,{})}):l.jsx(Ie,{className:"mantine-datatable-header-cell-sortable-unsorted-icon",role:"img","aria-label":"Not sorted",children:u?.unsorted||l.jsx(Eo,{})})}):null,m?l.jsx(Lo,{filterPopoverProps:p,isActive:!!y,filterPopoverDisableClickOutside:b,children:m}):null]}),d&&n!=="__selection__"?l.jsx(Oo,{accessor:n,columnRef:_}):null]})}const qo=window.MantineCore.Checkbox,Jo=window.MantineCore.TableTh;function Go({className:e,style:t,trigger:n,shadowVisible:a,checked:r,indeterminate:c,checkboxProps:s,onChange:i,rowSpan:d,ref:u}){let h=!s.disabled;return l.jsx(Jo,{ref:u,className:E("mantine-datatable-header-selector-cell",{[ie]:n==="cell"&&h},e),style:t,rowSpan:d,"data-shadow-visible":a||void 0,"data-accessor":"__selection__",onClick:n==="cell"&&h?i:void 0,children:l.jsx(qo,{classNames:h?{input:ie}:void 0,checked:r,indeterminate:c,onChange:i,...s,disabled:!(i||s.onChange)||s.disabled})})}function Qo({selectionColumnHeaderRef:e,className:t,style:n,sortStatus:a,sortIcons:r,onSortStatusChange:c,columns:s,defaultColumnProps:i,groups:d,selectionTrigger:u,selectionVisible:h,selectionChecked:w,selectionIndeterminate:f,onSelectionChange:g,selectionCheckboxProps:m,selectorCellShadowVisible:p,selectionColumnClassName:b,selectionColumnStyle:y,withColumnBorders:x=!1,ref:j}){let C=d?cn(d):0,N=C>0?C+1:1,T=h?l.jsx(Go,{ref:e,className:b,style:y,trigger:u,shadowVisible:p,checked:w,indeterminate:f,checkboxProps:m,onChange:g,rowSpan:d?N:void 0}):null,{columnsToggle:M,setColumnsToggle:B}=gt(),[_,P]=Co(!1),W=s.some(S=>S.toggleable),z=W?Object.fromEntries(s.map(({accessor:S,title:k})=>[S,k??wt(String(S))])):void 0,L=l.jsxs(bo,{className:E("mantine-datatable-header",t),style:n,ref:j,onContextMenu:W?S=>{S.preventDefault(),P(k=>!k)}:void 0,children:[d&&Array.from({length:C},(S,k)=>{let o=un(d,k);return l.jsxs(Ut,{children:[k===0&&T,o.map((v,R)=>l.jsx(vo,{group:v,maxDepth:C,currentDepth:k,previousGroups:o.slice(0,R),isLastGroup:R===o.length-1,withColumnBorders:x,totalTableColumns:s.length},v.id))]},`group-depth-${k}`)}),l.jsxs(Ut,{children:[!d&&T,s.map(({hidden:S,...k},o)=>{if(S)return null;let{accessor:v,visibleMediaQuery:R,textAlign:O,width:q,title:X,sortable:ce,draggable:ue,toggleable:de,resizable:me,titleClassName:ee,titleStyle:he,filter:ge,filterPopoverProps:Z,filterPopoverDisableClickOutside:Be,filtering:Oe,sortKey:De}={...i,...k};return l.jsx(Ho,{accessor:v,className:ee,style:he,visibleMediaQuery:R,textAlign:O,width:q,title:X,sortable:ce,draggable:ue,toggleable:de,resizable:me&&o<s.length-1,sortStatus:a,sortIcons:r,sortKey:De,onSortStatusChange:c,filter:ge,filterPopoverProps:Z,filterPopoverDisableClickOutside:Be,filtering:Oe},v)})]})]});return W?l.jsxs(wo,{position:"bottom",withArrow:!0,shadow:"md",opened:_,onChange:P,children:[l.jsx(po,{children:L}),l.jsx(fo,{children:l.jsx(_o,{children:M.filter(S=>S.toggleable).map(S=>l.jsx(go,{children:l.jsx(ho,{classNames:{label:"mantine-datatable-header-column-toggle-checkbox-label"},size:"xs",label:z[S.accessor],checked:S.toggled,onChange:k=>{B(M.map(o=>o.accessor===S.accessor?{...o,toggled:k.currentTarget.checked}:o))}})},S.accessor))})})]}):L}const Uo=window.MantineCore.Center,Xo=window.MantineCore.Loader;function Zo({fetching:e,customContent:t,backgroundBlur:n,size:a,type:r,color:c}){return l.jsx(Uo,{className:E("mantine-datatable-loader",{"mantine-datatable-loader-fetching":e}),style:[{backdropFilter:n?`blur(${n}px)`:void 0}],children:e&&(t||l.jsx(Xo,{size:a,type:r,color:c}))})}const Yo=window.MantineCore.Box,Ko=window.MantineCore.Pagination,Ao=window.MantineCore.Text,el=window.MantineCore.rem,tl=window.MantineCore.Button,nl=window.MantineCore.Group,al=window.MantineCore.Menu,rl=window.MantineCore.MenuDropdown,ol=window.MantineCore.MenuItem,ll=window.MantineCore.MenuTarget,Kt=window.MantineCore.Text,ve=window.MantineCore.rem,sl=window.MantineCore.parseThemeColor;function F(e,t,n){return e?sl({color:typeof e=="object"?e[n]:e,theme:t}).value:void 0}function il({theme:e,c:t,backgroundColor:n,borderColor:a,rowBorderColor:r,stripedColor:c,highlightOnHoverColor:s}){return{"--mantine-datatable-color-light":F(t,e,"light"),"--mantine-datatable-color-dark":F(t,e,"dark"),"--mantine-datatable-background-color-light":F(n,e,"light"),"--mantine-datatable-background-color-dark":F(n,e,"dark"),"--mantine-datatable-border-color-light":F(a,e,"light"),"--mantine-datatable-border-color-dark":F(a,e,"dark"),"--mantine-datatable-row-border-color-light":F(r,e,"light"),"--mantine-datatable-row-border-color-dark":F(r,e,"dark"),"--mantine-datatable-striped-color-light":F(c,e,"light"),"--mantine-datatable-striped-color-dark":F(c,e,"dark"),"--mantine-datatable-highlight-on-hover-color-light":F(s,e,"light"),"--mantine-datatable-highlight-on-hover-color-dark":F(s,e,"dark")}}function mn({theme:e,paginationActiveTextColor:t,paginationActiveBackgroundColor:n}){return{"--mantine-datatable-pagination-active-text-color-light":F(t,e,"light"),"--mantine-datatable-pagination-active-text-color-dark":F(t,e,"dark"),"--mantine-datatable-pagination-active-background-color-light":F(n,e,"light"),"--mantine-datatable-pagination-active-background-color-dark":F(n,e,"dark")}}function cl({theme:e,color:t,backgroundColor:n}){return{"--mantine-datatable-row-color-light":F(t,e,"light"),"--mantine-datatable-row-color-dark":F(t,e,"dark"),"--mantine-datatable-row-background-color-light":F(n,e,"light"),"--mantine-datatable-row-background-color-dark":F(n,e,"dark")}}function ul(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M8 9l4 -4l4 4"}),l.jsx("path",{d:"M16 15l-4 4l-4 -4"})]})}var At={xs:ve(22),sm:ve(26),md:ve(32),lg:ve(38),xl:ve(44)};function dl({size:e,label:t,values:n,value:a,activeTextColor:r,activeBackgroundColor:c,onChange:s}){return l.jsxs(nl,{gap:"xs",children:[l.jsx(Kt,{component:"div",size:e,children:t}),l.jsxs(al,{withinPortal:!0,withArrow:!0,offset:2,classNames:{arrow:"mantine-datatable-page-size-selector-menu-arrow"},children:[l.jsx(ll,{children:l.jsx(tl,{size:e,variant:"default",classNames:{section:"mantine-datatable-page-size-selector-button-icon"},rightSection:l.jsx(ul,{}),style:[{fontWeight:"normal"},i=>({height:At[e],paddingLeft:i.spacing[e],paddingRight:i.spacing[e]})],children:a})}),l.jsx(rl,{children:n.map(i=>{let d=i===a;return l.jsx(ol,{className:E({"mantine-datatable-page-size-selector-active":d}),style:[{height:At[e]},d&&(r||c)?u=>mn({theme:u,paginationActiveTextColor:r,paginationActiveBackgroundColor:c}):void 0],disabled:d,onClick:()=>s(i),children:l.jsx(Kt,{component:"div",size:e,children:i})},i)})})]})]})}function ml({className:e,style:t,fetching:n,page:a,onPageChange:r,paginationWithEdges:c,paginationWithControls:s,paginationActiveTextColor:i,paginationActiveBackgroundColor:d,paginationSize:u,loadingText:h,noRecordsText:w,paginationText:f,totalRecords:g,recordsPerPage:m,onRecordsPerPageChange:p,recordsPerPageLabel:b,recordsPerPageOptions:y,recordsLength:x,horizontalSpacing:j,paginationWrapBreakpoint:C,getPaginationControlProps:N,getPaginationItemProps:T,renderPagination:M}){let B;if(g){let k=(a-1)*m+1,o=k+(x||0)-1;B=f({from:k,to:o,totalRecords:g})}else B=n?h:w;let _=g&&m?Math.max(1,Math.ceil(g/m)):1,P=g?(a-1)*(m??0)+1:void 0,W=g?(P??1)+(x??0)-1:void 0,z=!ze(({breakpoints:k})=>`(min-width: ${typeof C=="number"?`${el(C)}rem`:k[C]||C})`),L={Text:k=>l.jsx(Ao,{component:"div",className:"mantine-datatable-pagination-text",size:u,...k,children:B}),PageSizeSelector:k=>y?l.jsx(dl,{activeTextColor:i,activeBackgroundColor:d,size:u,label:b,values:y,value:m,onChange:p,...k}):l.jsx(l.Fragment,{}),Pagination:k=>l.jsx(Ko,{classNames:{root:E("mantine-datatable-pagination-pages",{"mantine-datatable-pagination-pages-fetching":n||!x}),control:"mantine-datatable-pagination-pages-control"},style:i||d?o=>mn({theme:o,paginationActiveTextColor:i,paginationActiveBackgroundColor:d}):void 0,withEdges:c,withControls:s,value:a,onChange:r,size:u,total:_,getControlProps:N,getItemProps:T,...k})},S={state:{paginationSize:u,page:a,totalPages:_,totalRecords:g,recordsPerPage:m,recordsLength:x,fetching:n,from:P,to:W,isWrapped:z},actions:{setPage:k=>r?.(k),setRecordsPerPage:p?k=>p(k):void 0},Controls:L};return l.jsx(Yo,{px:j??"xs",py:"xs",className:E("mantine-datatable-pagination",e),style:[{flexDirection:z?"column":"row"},t],children:typeof M=="function"?M(S):l.jsxs(l.Fragment,{children:[l.jsx(L.Text,{}),l.jsx(L.PageSizeSelector,{}),l.jsx(L.Pagination,{})]})})}const hl=window.MantineCore.TableTr,gl=window.MantineCore.TableTd;function wl({className:e,style:t,visibleMediaQuery:n,record:a,index:r,onClick:c,onDoubleClick:s,onContextMenu:i,noWrap:d,ellipsis:u,textAlign:h,width:w,accessor:f,render:g,defaultRender:m,customCellAttributes:p}){return ze(n)?l.jsx(gl,{className:E({[pt]:d||u,[_t]:u,[ie]:c||s,[dn]:i,[We]:h==="left",[Le]:h==="center",[$e]:h==="right"},e),style:[{width:w,minWidth:w,maxWidth:w},t],onClick:c,onDoubleClick:s,onContextMenu:i,...p?.(a,r),children:g?g(a,r):m?m(a,r,f):sn(a,f)}):null}const fl=window.MantineCore.Collapse,pl=window.MantineCore.TableTd,en=window.MantineCore.TableTr;function _l({open:e,colSpan:t,content:n,collapseProps:a}){let{expanded:r,visible:c}=lo(e,a?.transitionDuration);return c?l.jsxs(l.Fragment,{children:[l.jsx(en,{}),l.jsx(en,{children:l.jsx(pl,{className:"mantine-datatable-row-expansion-cell",colSpan:t,children:l.jsx(fl,{in:r,...a,children:l.jsx("div",{className:"mantine-datatable-row-expansion-cell-content",children:n()})})})})]}):null}const bl=window.MantineCore.Checkbox,Cl=window.MantineCore.TableTd;function xl({className:e,style:t,record:n,index:a,trigger:r,onChange:c,withRightShadow:s,checkboxProps:i,getCheckboxProps:d,...u}){let h={...i,...d(n,a)},w=!u.disabled&&!h.disabled,f=g=>{g.stopPropagation(),r==="cell"&&w&&c?.(g)};return l.jsx(Cl,{className:E("mantine-datatable-row-selector-cell",{[ie]:r==="cell"&&w},e),style:t,"data-shadow-visible":s||void 0,onClick:f,children:l.jsx(bl,{classNames:w?{input:ie}:void 0,onChange:c,...u,...h})})}function vl({record:e,index:t,columns:n,defaultColumnProps:a,defaultColumnRender:r,selectionTrigger:c,selectionVisible:s,selectionChecked:i,onSelectionChange:d,isRecordSelectable:u,selectionCheckboxProps:h,getSelectionCheckboxProps:w,onClick:f,onDoubleClick:g,onContextMenu:m,onCellClick:p,onCellDoubleClick:b,onCellContextMenu:y,expansion:x,customAttributes:j,color:C,backgroundColor:N,className:T,style:M,selectorCellShadowVisible:B,selectionColumnClassName:_,selectionColumnStyle:P,rowFactory:W}){let z=l.jsxs(l.Fragment,{children:[s&&l.jsx(xl,{className:_,style:P,record:e,index:t,trigger:c,withRightShadow:B,checked:i,disabled:!d||(u?!u(e,t):!1),onChange:d,checkboxProps:h,getCheckboxProps:w}),n.map(({hidden:k,hiddenContent:o,...v},R)=>{if(k||o)return null;let{accessor:O,visibleMediaQuery:q,textAlign:X,noWrap:ce,ellipsis:ue,width:de,render:me,cellsClassName:ee,cellsStyle:he,customCellAttributes:ge}={...a,...v};return l.jsx(wl,{className:typeof ee=="function"?ee(e,t):ee,style:he?.(e,t),visibleMediaQuery:q,record:e,index:t,onClick:p?Z=>p({event:Z,record:e,index:t,column:v,columnIndex:R}):void 0,onDoubleClick:b?Z=>b({event:Z,record:e,index:t,column:v,columnIndex:R}):void 0,onContextMenu:y?Z=>y({event:Z,record:e,index:t,column:v,columnIndex:R}):void 0,accessor:O,textAlign:X,noWrap:ce,ellipsis:ue,width:de,render:me,defaultRender:r,customCellAttributes:ge},O)})]}),L=x&&l.jsx(_l,{colSpan:n.filter(({hidden:k})=>!k).length+(s?1:0),open:x.isRowExpanded(e),content:x.content({record:e,index:t}),collapseProps:x.collapseProps}),S=kl({record:e,index:t,selectionChecked:i,onClick:f,onDoubleClick:g,onContextMenu:m,expansion:x,customAttributes:j,color:C,backgroundColor:N,className:T,style:M});return W?W({record:e,index:t,rowProps:S,children:z,expandedElement:L}):l.jsxs(l.Fragment,{children:[l.jsx(hl,{...S,children:z}),L]})}function kl({record:e,index:t,selectionChecked:n,onClick:a,onDoubleClick:r,onContextMenu:c,expansion:s,customAttributes:i,color:d,backgroundColor:u,className:h,style:w}){return{className:E("mantine-datatable-row",{[ie]:a||r||s?.isExpandable({record:e,index:t})&&s?.expandOnClick},{[dn]:c},typeof h=="function"?h(e,t):h),"data-selected":n||void 0,onClick:f=>{if(s){let{isExpandable:g,isRowExpanded:m,expandOnClick:p,expandRow:b,collapseRow:y}=s;g({record:e,index:t})&&p&&(m(e)?y(e):b(e))}a?.({event:f,record:e,index:t})},onDoubleClick:r?f=>r({event:f,record:e,index:t}):void 0,onContextMenu:c?f=>c({event:f,record:e,index:t}):void 0,style:[d||u?f=>{let g=d?.(e,t),m=u?.(e,t);return cl({theme:f,color:g,backgroundColor:m})}:void 0,w?.(e,t)],...i?.(e,t)??{}}}const tn=window.MantineCore.Box,yl=window.MantineCore.ScrollArea;function Rl({leftShadowBehind:e,rightShadowBehind:t,onScrollPositionChange:n,children:a,viewportRef:r,scrollAreaProps:c}){return l.jsxs(yl,{...c,viewportRef:r,classNames:{root:"mantine-datatable-scroll-area",scrollbar:"mantine-datatable-scroll-area-scrollbar",thumb:"mantine-datatable-scroll-area-thumb",corner:"mantine-datatable-scroll-area-corner"},onScrollPositionChange:n,children:[a,l.jsx(tn,{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-top-shadow")}),l.jsx("div",{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-left-shadow",{"mantine-datatable-scroll-area-shadow-behind":e})}),l.jsx("div",{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-right-shadow",{"mantine-datatable-scroll-area-shadow-behind":t})}),l.jsx(tn,{className:E("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-bottom-shadow")})]})}function Ml({withTableBorder:e,borderRadius:t,textSelectionDisabled:n,height:a="100%",minHeight:r,maxHeight:c,shadow:s,verticalAlign:i="center",fetching:d,columns:u,storeColumnsKey:h,groups:w,pinFirstColumn:f,pinLastColumn:g,defaultColumnProps:m,defaultColumnRender:p,idAccessor:b="id",records:y,selectionTrigger:x="checkbox",selectedRecords:j,onSelectedRecordsChange:C,selectionColumnClassName:N,selectionColumnStyle:T,isRecordSelectable:M,selectionCheckboxProps:B,allRecordsSelectionCheckboxProps:_={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:P=(J,pe)=>({"aria-label":`Select record ${pe+1}`}),sortStatus:W,sortIcons:z,onSortStatusChange:L,horizontalSpacing:S,page:k,onPageChange:o,totalRecords:v,recordsPerPage:R,onRecordsPerPageChange:O,recordsPerPageOptions:q,recordsPerPageLabel:X="Records per page",paginationWithEdges:ce,paginationWithControls:ue,paginationActiveTextColor:de,paginationActiveBackgroundColor:me,paginationSize:ee="sm",paginationText:he=({from:J,to:pe,totalRecords:Ve})=>`${J} - ${pe} / ${Ve}`,paginationWrapBreakpoint:ge="sm",getPaginationControlProps:Z=J=>J==="previous"?{"aria-label":"Previous page"}:J==="next"?{"aria-label":"Next page"}:{},getPaginationItemProps:Be,renderPagination:Oe,loaderBackgroundBlur:De,customLoader:hn,loaderSize:gn,loaderType:wn,loaderColor:fn,loadingText:pn="...",emptyState:_n,noRecordsText:bt="No records",noRecordsIcon:bn,highlightOnHover:Cn,striped:xn,noHeader:vn,onRowClick:kn,onRowDoubleClick:yn,onRowContextMenu:Rn,onCellClick:Mn,onCellDoubleClick:Sn,onCellContextMenu:jn,onScroll:Pn,onScrollToTop:Tn,onScrollToBottom:Nn,onScrollToLeft:In,onScrollToRight:zn,c:Wn,backgroundColor:Ln,borderColor:$n,rowBorderColor:Bn,stripedColor:On,highlightOnHoverColor:Dn,rowColor:En,rowBackgroundColor:Fn,rowExpansion:Vn,rowClassName:Hn,rowStyle:qn,customRowAttributes:Jn,scrollViewportRef:Gn,scrollAreaProps:Qn,tableRef:Un,bodyRef:Xn,m:Zn,my:Yn,mx:Kn,mt:An,mb:ea,ml:ta,mr:na,className:aa,classNames:we,style:ra,styles:fe,rowFactory:oa,tableWrapper:Ee,...Fe}){let J=Cr(()=>w?ft(w):u,[u,w]),[pe,Ve]=xr(!1),{refs:U,onScroll:la}=Vr({scrollCallbacks:{onScroll:Pn,onScrollToTop:Tn,onScrollToBottom:Nn,onScrollToLeft:In,onScrollToRight:zn},withRowBorders:Fe.withRowBorders}),He=$r({key:h,columns:J,headerRef:U.header,scrollViewportRef:U.scrollViewport,onFixedLayoutChange:Ve}),sa=Nt(U.table,Un),ia=Nt(U.scrollViewport,Gn),ca=ro({rowExpansion:Vn,records:y,idAccessor:b}),Me=nt(!1),Ct=nt(k),qe=nt(y),ua=tt(D=>{Me.current=!0,qe.current=y,o(D)},[o,y]);_r(()=>{Ct.current!==k&&(Me.current=!0,qe.current=y,Ct.current=k)},[k,y]);let _e=y?.length;br(()=>{if(!Me.current||d||y===qe.current)return;let D=U.scrollViewport.current;if(!D)return;let te=requestAnimationFrame(()=>{D.scrollTo({top:0,left:0}),Me.current=!1});return()=>cancelAnimationFrame(te)},[d,y,U.scrollViewport]);let xt=y?.map(D=>H(D,b)),le=!!j,be=j?.map(D=>H(D,b)),vt=xt!==void 0&&be!==void 0&&be.length>0,Je=M?y?.filter(M):y,Se=Je?.map(D=>H(D,b)),je=vt&&Se.every(D=>be.includes(D)),da=vt&&Se.some(D=>be.includes(D)),ma=tt(()=>{j&&C&&C(je?j.filter(D=>!Se.includes(H(D,b))):lt([...j,...Je],D=>H(D,b)))},[je,b,C,Se,Je,j]),{lastSelectionChangeIndex:Pe,setLastSelectionChangeIndex:ha}=Jr(xt),Ge=le&&!f,ga={m:Zn,my:Yn,mx:Kn,mt:An,mb:ea,ml:ta,mr:na},wa=tt(({children:D})=>Ee?Ee({children:D}):D,[Ee]);return l.jsx(Bt,{...He,children:l.jsxs(fr,{ref:U.root,...ga,className:E("mantine-datatable",{"mantine-datatable-with-border":e},aa,we?.root),style:[D=>({...il({theme:D,c:Wn,backgroundColor:Ln,borderColor:$n,rowBorderColor:Bn,stripedColor:On,highlightOnHoverColor:Dn}),borderRadius:D.radius[t]||t,boxShadow:D.shadows[s]||s,height:a,minHeight:r,maxHeight:c}),ra,fe?.root,{position:"relative"}],children:[l.jsx(Rl,{viewportRef:ia,leftShadowBehind:le||!!f,rightShadowBehind:g,onScrollPositionChange:la,scrollAreaProps:Qn,children:l.jsx(wa,{children:l.jsxs(pr,{ref:sa,horizontalSpacing:S,className:E("mantine-datatable-table",{[so]:n,"mantine-datatable-vertical-align-top":i==="top","mantine-datatable-vertical-align-bottom":i==="bottom","mantine-datatable-pin-last-column":g,"mantine-datatable-selection-column-visible":le,"mantine-datatable-pin-first-column":f,"mantine-datatable-resizable-columns":He.hasResizableColumns&&pe},we?.table),style:{...fe?.table},"data-striped":_e&&xn||void 0,"data-highlight-on-hover":Cn||void 0,...Fe,children:[vn?null:l.jsx(Bt,{...He,children:l.jsx(Qo,{ref:U.header,selectionColumnHeaderRef:U.selectionColumnHeader,className:we?.header,style:fe?.header,columns:J,defaultColumnProps:m,groups:w,sortStatus:W,sortIcons:z,onSortStatusChange:L,selectionTrigger:x,selectionVisible:le,selectionChecked:je,selectionIndeterminate:da&&!je,onSelectionChange:ma,selectionCheckboxProps:{...B,..._},selectorCellShadowVisible:Ge,selectionColumnClassName:N,selectionColumnStyle:T,withColumnBorders:Fe.withColumnBorders})}),l.jsx("tbody",{ref:Xn,children:_e?y.map((D,te)=>{let Qe=H(D,b),Ue=be?.includes(Qe)||!1,kt;return C&&j&&(kt=fa=>{if(fa.nativeEvent.shiftKey&&Pe!==null){let se=y.filter(te>Pe?(ne,ae)=>ae>=Pe&&ae<=te&&(M?M(ne,ae):!0):(ne,ae)=>ae>=te&&ae<=Pe&&(M?M(ne,ae):!0));C(Ue?no(j,se,ne=>H(ne,b)):lt([...j,...se],ne=>H(ne,b)))}else C(Ue?j.filter(se=>H(se,b)!==Qe):lt([...j,D],se=>H(se,b)));ha(te)}),l.jsx(vl,{record:D,index:te,columns:J,defaultColumnProps:m,defaultColumnRender:p,selectionTrigger:x,selectionVisible:le,selectionChecked:Ue,onSelectionChange:kt,isRecordSelectable:M,selectionCheckboxProps:B,getSelectionCheckboxProps:P,onClick:kn,onDoubleClick:yn,onCellClick:Mn,onCellDoubleClick:Sn,onContextMenu:Rn,onCellContextMenu:jn,expansion:ca,color:En,backgroundColor:Fn,className:Hn,style:qn,customAttributes:Jn,selectorCellShadowVisible:Ge,selectionColumnClassName:N,selectionColumnStyle:T,idAccessor:b,rowFactory:oa},Qe)}):l.jsx(yr,{})}),J.some(({footer:D})=>D)&&l.jsx(mo,{ref:U.footer,className:we?.footer,style:fe?.footer,columns:J,defaultColumnProps:m,selectionVisible:le,selectorCellShadowVisible:Ge})]})})}),!!(k&&_e)&&l.jsx(ml,{className:we?.pagination,style:fe?.pagination,horizontalSpacing:S,fetching:d,page:k,onPageChange:ua,totalRecords:v,recordsPerPage:R,onRecordsPerPageChange:O,recordsPerPageOptions:q,recordsPerPageLabel:X,paginationWithEdges:ce,paginationWithControls:ue,paginationActiveTextColor:de,paginationActiveBackgroundColor:me,paginationSize:ee,paginationText:he,paginationWrapBreakpoint:ge,getPaginationControlProps:Z,getPaginationItemProps:Be,noRecordsText:bt,loadingText:pn,recordsLength:_e,renderPagination:Oe}),l.jsx(Zo,{fetching:d,backgroundBlur:De,customContent:hn,size:gn,type:wn,color:fn}),l.jsx(jr,{icon:bn,text:bt,active:!d&&!_e,children:_n})]})})}window.MantineCore.TableTr;window.React.useEffect;window.React.useRef;function Sl(e){const t=[];for(const n of e){if(t.push(n),n.cut_list&&n.cut_list.length>0)for(const a of n.cut_list)t.push({...n,total_qty:a.quantity,part_type:"CtL",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:a.length,is_cut_list_child:!0,cut_list:null});if(n.internal_fab_cut_list&&n.internal_fab_cut_list.length>0)for(const a of n.internal_fab_cut_list)t.push({...n,total_qty:a.count,part_type:"Internal Fab",in_stock:null,on_order:null,allocated:null,building:null,available:null,default_supplier_name:"",cut_length:a.piece_qty,cut_unit:a.unit,is_cut_list_child:!0,cut_list:null,internal_fab_cut_list:null})}return t}function jl(e,t){if(!t)return e;const n=t.toLowerCase();return e.filter(a=>a.ipn.toLowerCase().includes(n)||a.part_name.toLowerCase().includes(n))}function Pl(e){const t=[],n=new Map;for(const r of e)if(r.is_cut_list_child){const c=r.part_id;n.has(c)||n.set(c,[]),n.get(c).push(r)}else t.push(r);const a=[];for(const r of t){a.push(r);const c=n.get(r.part_id);c&&a.push(...c)}return a}function Tl(e,t,n,a,r,c){return[...e].sort((i,d)=>{let u,h;switch(t){case"ipn":u=i.ipn,h=d.ipn;break;case"full_name":u=i.full_name,h=d.full_name;break;case"part_name":u=i.part_name,h=d.part_name;break;case"description":u=i.description,h=d.description;break;case"part_type":u=i.part_type,h=d.part_type;break;case"total_qty":u=i.total_qty*a,h=d.total_qty*a;break;case"in_stock":u=i.in_stock,h=d.in_stock;break;case"on_order":u=i.on_order,h=d.on_order;break;case"building":u=i.building||0,h=d.building||0;break;case"allocated":u=i.allocated,h=d.allocated;break;case"shortfall":let w=i.in_stock,f=d.in_stock;r&&(w-=i.allocated,f-=d.allocated),c&&(w+=i.on_order,f+=d.on_order),u=Math.max(0,i.total_qty*a-w),h=Math.max(0,d.total_qty*a-f);break;case"default_supplier_name":u=i.default_supplier_name||"",h=d.default_supplier_name||"";break;default:return 0}return typeof u=="string"&&typeof h=="string"?n==="asc"?u.localeCompare(h):h.localeCompare(u):n==="asc"?u-h:h-u})}const Nl={TLA:"grape",Coml:"green",Fab:"blue",CtL:"teal","Purchased Assy":"orange","Internal Fab":"cyan",Assy:"violet",Other:"gray"};function Il(e){return Nl[e]||"gray"}function nn(e){return e?.4:1}function an(e){const n=String(e??"").replace(/"/g,'""');return n.includes(",")||n.includes('"')||n.includes(`
`)?`"${n}"`:n}function zl(e,t,n,a){const r=["IPN","Part Name","Description","Part Type","Total Qty","Unit","Cut Length","Cut Unit","In Stock","Allocated","On Order","Build Margin"],c=e.map(s=>{if(s.is_cut_list_child)return[s.ipn,s.part_name,s.description,s.part_type,s.total_qty,"",s.cut_length||"-",s.cut_unit||s.unit||"","-","-","-","-"];const i=s.total_qty*t;let d=s.in_stock;n&&(d-=s.allocated),a&&(d+=s.on_order);const u=d-i;return[s.ipn,s.part_name,s.description,s.part_type,i,s.unit,"-","",s.in_stock,s.allocated,s.on_order,u]});return[r.map(an).join(","),...c.map(s=>s.map(an).join(","))].join(`
`)}function Wl(e,t){const n=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=t,r.click(),window.URL.revokeObjectURL(a)}function Ll(e,t,n){const a=new Date().toISOString().replace(/[:.]/g,"-").split("T"),r=a[0],c=a[1].split("Z")[0];return`flat_bom_${e||t}_qty${n}_${r}_${c}.csv`}const rn=window.MantineCore.ActionIcon,st=window.MantineCore.Alert,$l=window.MantineCore.Anchor,oe=window.MantineCore.Badge,it=window.MantineCore.Button,ct=window.MantineCore.Checkbox,Bl=window.MantineCore.Divider,V=window.MantineCore.Group,Ol=window.MantineCore.Loader,ke=window.MantineCore.Menu,Dl=window.MantineCore.NumberInput,ut=window.MantineCore.Paper,ye=window.MantineCore.Stack,I=window.MantineCore.Text,El=window.MantineCore.TextInput,on=window.MantineCore.Tooltip,Fl=window.React.useEffect,Re=window.React.useMemo,Q=window.React.useState;function Vl({context:e}){const[t,n]=Q(!1),[a,r]=Q(null),[c,s]=Q(null),[i,d]=Q(1),[u,h]=Q(!0),[w,f]=Q(!0),[g,m]=Q(""),[p,b]=Q({columnAccessor:"ipn",direction:"asc"}),[y,x]=Q(1),[j,C]=Q(()=>{const o=localStorage.getItem("flat-bom-records-per-page");if(o==="All")return"All";const v=Number(o);return v>0?v:50}),N=Re(()=>e?.id||e?.instance?.pk,[e.id,e.instance]),T=Re(()=>e?.instance?.name||"Unknown Part",[e.instance]),M=async()=>{if(!N){s("No part ID available");return}n(!0),s(null);try{const o=await e.api.get(`/plugin/flat-bom-generator/flat-bom/${N}/`,{timeout:3e4});o.status===200?(console.log("[FlatBOM] API Response:",o.data),console.log("[FlatBOM] Metadata:",o.data.metadata),console.log("[FlatBOM] Warnings:",o.data.metadata?.warnings),r(o.data)):s(`API returned status ${o.status}`)}catch(o){s(o?.response?.data?.error||o.message||"Failed to generate flat BOM"),console.error("Error generating flat BOM:",o)}finally{n(!1)}},B=()=>{if(!a)return;const o=zl(_,i,u,w),v=Ll(a.ipn,N,i);Wl(o,v)},_=Re(()=>{if(!a)return[];let o=Sl(a.bom_items);return o=jl(o,g),p.columnAccessor&&(o=Tl(o,p.columnAccessor,p.direction,i,u,w),o=Pl(o)),o},[a,g,p,i,u,w]),P=Re(()=>[{accessor:"full_name",title:"Component",sortable:!0,switchable:!1,render:o=>o.is_cut_list_child?React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"flex-end"},React.createElement(Da,{size:40,stroke:1.5,style:{color:"var(--mantine-color-blue-5)"}})):React.createElement(V,{gap:"xs",wrap:"nowrap"},o.thumbnail&&React.createElement("img",{src:o.thumbnail,alt:o.full_name,style:{width:40,height:40,objectFit:"contain"}}),React.createElement($l,{href:o.link,target:"_blank",size:"sm",style:{textDecoration:"none"}},o.full_name))},{accessor:"ipn",title:"IPN",sortable:!0,switchable:!0,render:o=>React.createElement(I,{size:"sm",style:{fontFamily:"monospace"}},o.ipn)},{accessor:"description",title:"Description",sortable:!0,switchable:!0,render:o=>React.createElement(I,{size:"sm",lineClamp:2,title:o.description},o.description)},{accessor:"part_type",title:"Type",sortable:!0,switchable:!0,render:o=>{const v=o.part_type,R=Il(v),O=o.is_cut_list_child&&(v==="Internal Fab"||v==="CtL")?`${v} - CUT`:v;return React.createElement(on,{label:O,withArrow:!0},React.createElement(oe,{size:"sm",color:R,variant:"light",style:{maxWidth:90,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",display:"inline-block",verticalAlign:"middle"},tabIndex:0,"aria-label":O},O))}},{accessor:"total_qty",title:"Total Qty",sortable:!0,switchable:!0,render:o=>{const v=o.total_qty*i;if(o.is_cut_list_child){const R=o.total_qty*i;return React.createElement(V,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(I,{size:"sm",fw:700},R.toFixed(0)),React.createElement(I,{size:"xs",c:"dimmed"},"pieces"))}return React.createElement(V,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(I,{size:"sm",fw:700},v.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]"))}},{accessor:"cut_length",title:"Cut Length",sortable:!1,switchable:!1,render:o=>o.cut_length?React.createElement(V,{gap:"xs",justify:"space-between",wrap:"nowrap",style:{maxWidth:"100%"}},React.createElement(I,{size:"sm"},o.cut_length.toFixed(2)),(o.cut_unit||o.unit)&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.cut_unit||o.unit,"]")):React.createElement(I,{size:"sm",c:"dimmed"},"-")},{accessor:"in_stock",title:"In Stock",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:o=>{if(o.is_cut_list_child)return React.createElement(I,{size:"sm",c:"dimmed"},"-");const v=o.total_qty*i;return o.in_stock<=0?React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(I,{c:"red",fs:"italic",size:"sm"},"No stock"),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]")):o.in_stock<v?React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(oe,{color:"orange",variant:"light",style:{minWidth:"fit-content"}},o.in_stock.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]")):React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(oe,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},o.in_stock.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]"))}},{accessor:"allocated",title:"Allocated",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:o=>{const R=nn(!u);return o.is_cut_list_child?React.createElement(I,{size:"sm",c:"dimmed"},"-"):o.allocated>0?React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(oe,{color:"yellow",variant:"light",style:{opacity:R,minWidth:"fit-content"}},o.allocated.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:R}},"[",o.unit,"]")):React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between",style:{overflow:"hidden"}},React.createElement(I,{c:"dimmed",size:"sm",style:{opacity:R}},"-"),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:R}},"[",o.unit,"]"))}},{accessor:"on_order",title:"On Order",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:o=>{const R=nn(!w);return o.is_cut_list_child?React.createElement(I,{size:"sm",c:"dimmed"},"-"):o.on_order>0?React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(oe,{color:"blue",variant:"light",style:{opacity:R,minWidth:"fit-content"}},o.on_order.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:R}},"[",o.unit,"]")):React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(I,{c:"dimmed",size:"sm",style:{opacity:R}},"-"),o.unit&&React.createElement(I,{size:"xs",c:"dimmed",style:{opacity:R}},"[",o.unit,"]"))}},{accessor:"shortfall",title:"Build Margin",sortable:!0,switchable:!0,minWidth:125,cellsStyle:()=>({minWidth:125}),titleStyle:()=>({minWidth:125}),render:o=>{if(o.is_cut_list_child)return React.createElement(I,{size:"sm",c:"dimmed"},"-");const v=o.total_qty*i;let R=o.in_stock;u&&(R-=o.allocated),w&&(R+=o.on_order);const O=R-v;return O<0?React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(oe,{color:"red",variant:"filled",style:{minWidth:"fit-content"}},O.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]")):React.createElement(V,{gap:"xs",wrap:"nowrap",justify:"space-between"},React.createElement(oe,{color:"green",variant:"filled",style:{minWidth:"fit-content"}},"+",O.toFixed(2)),o.unit&&React.createElement(I,{size:"xs",c:"dimmed"},"[",o.unit,"]"))}}],[i,u,w]),[W,z]=Q(()=>{const o=localStorage.getItem("flat-bom-hidden-columns");return o?new Set(JSON.parse(o)):new Set});Fl(()=>{if(a){const o=a.bom_items.some(v=>v.cut_list&&v.cut_list.length>0);z(v=>{const R=new Set(v);return o?R.delete("cut_length"):R.add("cut_length"),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...R])),R})}},[a]);const L=o=>{z(v=>{const R=new Set(v);return R.has(o)?R.delete(o):R.add(o),localStorage.setItem("flat-bom-hidden-columns",JSON.stringify([...R])),R})},S=Re(()=>P.filter(o=>!W.has(o.accessor)),[P,W]),k=o=>{C(o),x(1),localStorage.setItem("flat-bom-records-per-page",o.toString())};return React.createElement(ye,{gap:"md"},!a&&!t&&React.createElement(V,{justify:"flex-end"},React.createElement(it,{leftSection:React.createElement(St,{size:16}),onClick:M,loading:t,disabled:!N},"Generate Flat BOM")),c&&React.createElement(st,{icon:React.createElement(La,{size:16}),title:"Error",color:"red",withCloseButton:!0,onClose:()=>s(null)},c),t&&React.createElement(ut,{p:"xl",withBorder:!0},React.createElement(ye,{align:"center",gap:"md"},React.createElement(Ol,{size:"lg"}),React.createElement(I,{c:"dimmed"},"Traversing BOM hierarchy for ",React.createElement("strong",null,T),"..."),React.createElement(I,{size:"xs",c:"dimmed"},"This may take a few moments for complex assemblies"))),a&&!t&&React.createElement(ye,{gap:"sm"},a?.metadata?.warnings&&a.metadata.warnings.length>0&&React.createElement(st,{icon:React.createElement(Ba,{size:16}),title:`${a.metadata.warnings.length} Warning${a.metadata.warnings.length>1?"s":""} Found`,color:"yellow",withCloseButton:!0,onClose:()=>{r(o=>o?{...o,metadata:{...o.metadata,warnings:[]}}:null)}},React.createElement(ye,{gap:"xs"},a.metadata.warnings.map((o,v)=>React.createElement(I,{key:v,size:"sm"},React.createElement("strong",null,o.part_name),": ",o.message)))),React.createElement(ut,{p:"sm",withBorder:!0},React.createElement(V,{justify:"space-between",align:"flex-start",wrap:"wrap"},React.createElement(V,{gap:"md",wrap:"wrap"},React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Total",React.createElement("br",null),"Parts"),React.createElement(I,{size:"lg",fw:700},a.total_unique_parts)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"BOM",React.createElement("br",null),"Depth"),React.createElement(I,{size:"lg",fw:700,c:"violet"},a.max_depth_reached)),React.createElement("div",{style:{minWidth:"80px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Internal Fab",React.createElement("br",null),"Processed"),React.createElement(I,{size:"lg",fw:700,c:"cyan"},a.total_ifps_processed)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Out of",React.createElement("br",null),"Stock"),React.createElement(I,{size:"lg",fw:700,c:"red"},a.bom_items.filter(o=>o.in_stock<=0).length)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"On",React.createElement("br",null),"Order"),React.createElement(I,{size:"lg",fw:700,c:"blue"},a.bom_items.filter(o=>o.on_order>0).length)),React.createElement("div",{style:{minWidth:"70px"}},React.createElement(I,{size:"xs",c:"dimmed",style:{lineHeight:1.2}},"Need to",React.createElement("br",null),"Order"),React.createElement(I,{size:"lg",fw:700,c:"orange"},a.bom_items.filter(o=>{const v=o.total_qty*i;let R=o.in_stock;return u&&(R-=o.allocated),w&&(R+=o.on_order),v>R}).length))),React.createElement(V,{gap:"xs",align:"flex-end",wrap:"wrap"},React.createElement(Dl,{label:"Build Quantity",value:i,onChange:o=>d(typeof o=="number"?o:1),min:1,step:1,style:{width:150}}),React.createElement(ye,{gap:"xs"},React.createElement(ct,{label:"Include Allocations in Build Margin (-)",checked:u,onChange:o=>h(o.currentTarget.checked)}),React.createElement(ct,{label:"Include On Order in Build Margin (+)",checked:w,onChange:o=>f(o.currentTarget.checked)})),React.createElement(it,{leftSection:React.createElement(St,{size:16}),onClick:M,loading:t},"Refresh"),React.createElement(it,{variant:"light",leftSection:React.createElement(Fa,{size:16}),onClick:B},"Export CSV"),React.createElement(ke,{shadow:"xs",closeOnItemClick:!1},React.createElement(ke.Target,null,React.createElement(rn,{variant:"light",size:"lg","aria-label":"table-select-columns"},React.createElement(on,{label:"Select Columns",position:"top-end"},React.createElement(za,null)))),React.createElement(ke.Dropdown,{style:{maxHeight:"400px",overflowY:"auto"}},React.createElement(ke.Label,null,"Select Columns"),React.createElement(Bl,null),P.filter(o=>o.switchable!==!1).map(o=>React.createElement(ke.Item,{key:o.accessor},React.createElement(ct,{checked:!W.has(o.accessor),label:o.title||o.accessor,onChange:()=>L(o.accessor),radius:"sm"})))))))),React.createElement(ut,{p:"xs",withBorder:!0},React.createElement(El,{placeholder:"Search by IPN or Part Name...",leftSection:React.createElement(qa,{size:16}),rightSection:g&&React.createElement(rn,{variant:"subtle",onClick:()=>m(""),"aria-label":"Clear search"},React.createElement(Ga,{size:16})),value:g,onChange:o=>m(o.currentTarget.value),mb:"xs"})),React.createElement(Ml,{withTableBorder:!0,withColumnBorders:!0,striped:!0,highlightOnHover:!0,columns:S,records:j==="All"?_:_.slice((y-1)*j,y*j),totalRecords:_.length,recordsPerPage:j==="All"?_.length:j,page:y,onPageChange:x,recordsPerPageOptions:[10,25,50,100,"All"],onRecordsPerPageChange:k,sortStatus:p,onSortStatusChange:b,minHeight:200,noRecordsText:"No parts found",paginationText:({from:o,to:v,totalRecords:R})=>{const O=_.filter(q=>q.is_cut_list_child).length;return O>0?`Showing ${o} to ${v} of ${R} parts (including ${O} cut parts)`:`Showing ${o} to ${v} of ${R} parts`}})),!a&&!t&&!c&&React.createElement(st,{color:"blue",variant:"light"},React.createElement(I,{size:"sm"},"Click ",React.createElement("strong",null,'"Generate Flat BOM"')," to traverse the complete bill of materials hierarchy for ",React.createElement("strong",null,T)," and calculate cumulative quantities.")))}function Hl(e){return pa(e),React.createElement(Vl,{context:e})}export{Hl as renderFlatBOMGeneratorPanel};
//# sourceMappingURL=Panel.js.map
